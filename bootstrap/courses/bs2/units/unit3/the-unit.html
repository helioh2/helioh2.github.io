<!DOCTYPE html>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Unidade 3: Estruturas e Mundos</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="pretty-printing.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><link rel="stylesheet" type="text/css" href="bootstrap.css" title="default"/><link rel="stylesheet" type="text/css" href="textbook.css" title="default"/><link rel="stylesheet" type="text/css" href="extra_curriculum.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="codemirror.js"></script><script type="text/javascript" src="runmode.js"></script><script type="text/javascript" src="scheme2.js"></script><script type="text/javascript" src="bootstraplesson.js"></script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2Chttp%3A%2F%2Fwww.cs.wpi.edu%2F%7Ekfisler%2Fmathjaxlocal.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Unidade 3:<span class="mywbr"> &nbsp;</span> Estruturas e Mundos</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Unidade_3__.Estruturas_e_.Mundos%29" class="tocsubseclink" data-pltdoc="x">Unidade 3:<span class="mywbr"> &nbsp;</span> Estruturas e Mundos</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><a name="(part._.Unidade_3__.Estruturas_e_.Mundos)"></a><p><script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script><noscript></noscript><script type="text/javascript" src="easyXDM.min.js"></script><noscript></noscript><script type="text/javascript" src="json2.min.js"></script><noscript></noscript><script type="text/javascript" src="bootstrap-helpers.js"></script><noscript></noscript></p><div class="headercontent"><span class="BootstrapTitle"><img src="pict.png" alt="image" width="150" height="150"/><span class="TitleUnitNum">Unidade 3</span>Estruturas e Mundos</span></div><div class="SubFlow" id="overviewDescr"><span class="BootstrapHeader">Unit Overview</span><p>Alunos, tendo pr&#233;-constru&#237;do estruturas de dados na aula passada (carros), v&#227;o extender seu entendimento sobre definir v&#225;rias estruturas de dados pr&#243;prias e acessar&#227;o seus campos. S&#227;o introduzidos &#224; uma implementa&#231;&#227;o de um mini-mundo puramente-funcional do Racket. Isto exige um conhecimento sobre fun&#231;&#245;es, estruturas de dados, e uma introdu&#231;&#227;o &#224; programa&#231;&#227;o baseada em eventos. Para alcan&#231;ar isso, os alunos trabalham primeiro com um mundo simples (um n&#250;mero, representando a coordenada-x do c&#227;o). Esse mundo &#233; consumido e produzido pela fun&#231;&#227;o atualiza-mundo, e desenhado pela desenha-mundo. Para entender eventos, eles encenam um modelo de Mundo, tornando-se controladores de eventos e do tempo, para simular a execu&#231;&#227;o do programa.</p></div><blockquote class="OverviewBoundary"><iframe id="forum_embed"></iframe><div class="summary"><div class="" id="BootstrapAgenda"><p>Agenda</p><ul class="BootstrapAgendaList"><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">20 min</span><a href="#lesson_Revis%C3%A3o%3A%20A%20Tunning%20Shop14440"><span class="BSLessonName">Revis&#227;o: A Tunning Shop</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">5 min</span><a href="#lesson_define-struct14441"><span class="BSLessonName">define-struct</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">30 min</span><a href="#lesson_A%20Struct%20Festa14442"><span class="BSLessonName">A Struct Festa</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">30 min</span><a href="#lesson_Atuando%20no%20Mundo%20Ninja14443"><span class="BSLessonName">Atuando no Mundo Ninja</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">5 min</span><a href="#lesson_Encerramento14444"><span class="BSLessonName">Encerramento</span></a></p></li></ul></div><div id="ProductOutcomes" class=" "><span class="BootstrapHeader">Product Outcomes:</span><ul><li><p>Alunos definem duas novas estruturas de dados complexas: festa e mundo</p></li><li><p>Alunos escrever&#227;o fun&#231;&#245;es que acessam campos de um carro, festa ou mundo, e produzem novos carros, festas, e mundos.</p></li></ul></div><div id="LearningObjectives" class=" "><span class="BootstrapHeader">Standards and Evidence Statements:</span><p>Standards with prefix BS are specific to Bootstrap; others are from the Common Core. Mouse over each standard to see its corresponding evidence statements. Our <a href="../../../../Standards.shtml">Standards Document</a> shows which units cover each standard. </p><ul class="LearningObjectivesList"></ul></div><span class="BootstrapHeader">Length: 90 minutes</span><div id="Glossary" class=" "><span class="BootstrapHeader">Glossary:</span><ul><li><p><span class="vocab">assinatura</span>: uma declara&#231;&#227;o com o nome, dom&#237;nio, e imagem de uma fun&#231;&#227;o</p></li><li><p><span class="vocab">declara&#231;&#227;o de prop&#243;sito</span>: uma breve descri&#231;&#227;o do que a fun&#231;&#227;o faz</p></li><li><p><span class="vocab">dom&#237;nio</span>: o tipo de dado que a fun&#231;&#227;o espera receber</p></li><li><p><span class="vocab">fun&#231;&#245;es de acesso</span></p></li><li><p><span class="vocab">imagem</span>: o tipo de dado que a fun&#231;&#227;o produz</p></li></ul></div><div id="Materials" class=" "><span class="BootstrapHeader">Materials:</span><ul><li><p>L&#225;pis/canetas aos alunos, e giz/marcadores de quadro branco aos professores</p></li><li><p>Cartazes da turma (Lista de regras, conhecimentos b&#225;sicos, calend&#225;rio do curso)</p></li><li><p>Ambiente de Edi&#231;&#227;o (WeScheme ou DrRacket com o pacote de ensino-bootstrap instalado)</p></li><li><p>Tabela da Linguagem</p></li><li><p>O arquivo Carros [Autos.rkt from <a href="../../resources/source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=sc7Ag2gKUm&amp;" target="embedded">WeScheme</a> pr&#233;-carregados nos computadores</p></li><li><p>O arquivo Organizador de Festas [Party.rkt from <a href="../../resources/source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=tsBEwjbSbH&amp;" target="embedded">WeScheme</a> pr&#233;-carregados nos computadores</p></li></ul></div><div id="Preparation" class=" "><span class="BootstrapHeader">Preparation:</span><ul><li><p>Arranjos de assento: preferencialmente aglomerando as mesas</p></li><li><p>The Ninja World 1 file [NW1.rkt from <a href="../../resources/source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=fW705a0idU&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines</p></li><li><p>crach&#225;s de atualiza-mundo, big-bang, e desenha-mundo</p></li><li><p>um recorte da imagem do cachorro do NinjaCat</p></li></ul></div><div id="LanguageTable" class=" "><table cellspacing="0" cellpadding="0" class="thetable"><tr><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Types</p></td><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Functions</p></td></tr><tr><td align="center" class="BootstrapTable"><p>N&#250;mero</p></td><td align="center" class="BootstrapTable"><p><tt>+ - * / sq sqrt expt</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>String</p></td><td align="center" class="BootstrapTable"><p><tt>string-append string-length</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Figura</p></td><td align="center" class="BootstrapTable"><p><tt>rectangle circle triangle ellipse star text scale rotate put-image</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Carro</p></td><td align="center" class="BootstrapTable"><p><tt>make-carro carro-modelo carro-potencia carro-rodas carro-cor carro-valor</tt></p></td></tr></table></div><p><div id="lessonToolbar" class="fixed"><input type="button" value="Show Teacher Notes" onclick="toggleTeacherNotes(this);"></input><br/><input type="button" value="Discussion Group" onclick="showGroup()"/></div></p></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Revis&#227;o: A Tunning Shop</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li><p>L&#225;pis/canetas aos alunos, e giz/marcadores de quadro branco aos professores</p></li><li><p>Cartazes da turma (Lista de regras, conhecimentos b&#225;sicos, calend&#225;rio do curso)</p></li><li><p>Ambiente de Edi&#231;&#227;o (WeScheme ou DrRacket com o pacote de ensino-bootstrap instalado)</p></li><li><p>Tabela da Linguagem</p></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>Arranjos de assento: preferencialmente aglomerando as mesas</p></li></ul></div></div><div class="segment"><p><a name="lesson_Revis%C3%A3o%3A%20A%20Tunning%20Shop14440"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Revis&#227;o: A Tunning Shop



<span class="time">(Time 20 minutos)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Na li&#231;&#227;o passada voc&#234; aprendeu soubre um novo tipo de estrutura de dados, chamado de carro.
                           </div><div class="SIntrapara"><div class="activity"><ul><li><p>O que &#233; um carro? Quais itens s&#227;o descritos em sua estrutura?</p></li><li><p>Como voc&#7869; constr&#243;i um carro?</p></li><li><p>Como voc&#234; obt&#233;m o modelo de um carro? O valor? A cor?</p></li></ul></div></div><div class="SIntrapara">Na &#250;ltima vez todas essas perguntas foram usadas em sua loja de turbinar carros, onde voc&#234; tinha fun&#231;&#245;es que aumentavam a <tt>potencia</tt> de um carro, ou pintava ele com uma nova <tt>cor</tt>. O pr&#243;ximo problema
ser&#225; ainda mais dif&#237;cil, ent&#227;o lembre-se de voltar &#224;s duas &#250;ltimas fun&#231;&#245;es que voc&#234; escreveuem sua apostila, caso precise de algumas dicas.</div></p></div><div class="teacher"><p>Tome alguns minutos para revisar structs e carros junto a seus alunos.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Voc&#234; pode ter ouvido falar do programa "Pimp My Ride(Lata Velha- Caldeir&#227;o do Hulk)", onde algumas pessoas pegam um velho carro, o modificam e o deixam LEGAL. Vamos implementar algo parecido no Racket...
</div><div class="SIntrapara"><div class="activity"><p>V&#225; para <a href="../../resources/workbook/StudentWorkbook.pdf">Page 12</a> em sua apostila. Escreva uma fun&#231;&#227;o chamada <tt>tunar</tt>, que recebe um Carro e retorna um novo Carro que tenha
        100 cavalos de po&#234;ncia a mais, rodas de tamanho 30 polegadas, pintado de vermelho, e seu valor aumentado em R$10.000 .</p><ul><li><p>Qual &#233; a <span class="vocab">assinatura</span> desta fun&#231;&#227;o?</p></li><li><p>Para o primeiro Exemplo, vamos reformar o <tt>carro3</tt>. Como voc&#234; iniciaria o exemplo?</p></li><li><p><tt>(EXAMPLE (tunar carro3) ...)</tt></p></li><li><p>De acordo com a assinatura, sabemos que a Imagem da fun&#231;&#227;o <tt>tunar</tt> &#233; um Carro. Como voc&#234; contr&#243;i um carro?</p></li><li><p>Qual &#233; a primeira parte de um carro? O <tt>modelo</tt>. Seguindo a <span class="vocab">declara&#231;&#227;o de prop&#243;sito</span> da fun&#231;&#227;o, o modelo do carro muda?
Como voc&#234; consegue saber o <tt>modelo</tt> de <tt>carro3</tt>?</p></li><li><p>Como voc&#234; consegue saber a <tt>potencia</tt> do <tt>carro3</tt>?</p></li><li><p>A pot&#234;ncia do carro muda quando voc&#234; "tuna" o carro? Voc&#7869; ter&#225; que pegar a <tt>potencia</tt> do <tt>carro3</tt>, <span style="font-style: italic">e adicionar 100.</span></p></li><li><p>De acordo com a <span class="vocab">declara&#231;&#227;o de prop&#243;sito</span>, todo carro que &#233; tunado deve ter rodas de 30 polegadas de tamanho. Ser&#225; que o tamanho original das rodas importa aqui?</p></li><li><p>Da mesma forma, cada carro ser&#225; pintado de vermelho. N&#243;s precisamos fazer refer&#234;ncia a cor original?</p></li><li><p>Finalmente, como voc&#234; consegue obter o <tt>calor</tt> do <tt>carro3</tt>? O valor ser&#225; aumentado ou diminu&#237;do depois do carro ser tunado?</p></li></ul></div></div></p></div><div class="teacher"><p>Essa &#233; uma oportunidade para praticar express&#245;es aninhadas. Eles n&#227;o ir&#227;o usar paenas as fun&#231;&#245;es de acesso para conseguir o campos originais do carro,
eles ter&#227;o que modific&#225;-los de acordo com a descri&#231;&#227;o do programa. Se eles ficarm presos, pe&#231;a que desenhem o c&#237;rculo de avalia&#231;&#227;o para adicionar 100 aos cavalos
de for&#231;a, 10000 ao valor, etc.</p></div></li><li class="lessonItem"><div class="student"><p>Colocando tudo isso junto, o primeiro exemplo deve ser parecido com:</p><p><div class="SIntrapara">&nbsp;<textarea>
(EXAMPLE (tunar carro3) (make-carro (carro-modelo carro3)
                             (+ (carro-potencia carro3) 100)
                                 30
                                 red
                             (+ (carro-valor carro3) 10000)))
</textarea>
</div><div class="SIntrapara"><div class="activity"><p>Escreva mais um exemplo, circule o que varia, e ent&#227;o defina a fun&#231;&#227;o <tt>tunar</tt>. Se voc&#234; ficar preso, d&#234; uma olhada na assinatura e no seu primeiro exemplo.</p></div></div></p></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">define-struct</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Os alunos estender&#227;o seu entendimento sobre fun&#231;&#245;es construtoras e fun&#231;&#245;es de acesso</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li><p>O arquivo Carros [Autos.rkt from <a href="../../resources/source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=sc7Ag2gKUm&amp;" target="embedded">WeScheme</a> pr&#233;-carregados nos computadores</p></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_define-struct14441"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">define-struct



<span class="time">(Time 5 minutos)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><p>Abra o arquivo <a href="http://www.wescheme.org/openEditor?publicId=sc7Ag2gKUm&amp;" target="embedded">Tunning Shop</a>, e olhe para as duas primeiras linhas.
         Elas come&#231;am com <tt>; um carro &#233;...</tt> e <tt>define-sctruct</tt>.</p></div></div><div class="SIntrapara">&nbsp;<textarea>
; um carro &#233; (make-carro String Numero Numero String Numero)
(define-struct carro (modelo potencia rodas cor valor))
</textarea>
Na &#250;ltima unidade, ignoramos parte do c&#243;digo que define a estrutura carro, ou o que diz ao computador o que &#233; um caro e o que temos dentro dele. Tal como esper&#225;vamos de ter trabalhado com
carros, a linha <tt>define-struct</tt> diz que um carro possui cinco coisas... um modelo, potencia, rodas, cor, e valor. Mas como sabemos onde cada informa&#231;&#227;o vai? Lembre-se que a ordem
&#233; importante! Olhe a ordem dos campos na linha do <tt>define-struct</tt>. A primeira string &#233; o modelo, o primeiro n&#250;mero &#233; sua pot&#234;ncia, o segundo n&#250;mero &#233; o tamanho das rodas, e assim continua.</div></p></div><div class="teacher"><p>Voc&#234; pode usar os Carros dados no arquivo, ou os carros dos pr&#243;prios alunos da li&#231;&#227;o passada. Refor&#231;e a import&#226;ncia de ser capaz de definir seus pr&#243;prios tipos de dados
aos alunos: eles est&#227;o longe de fazerem liga&#231;&#245;es entre simples valores de n&#250;meros, strings, ou boolenaos! O Racket permite que voc&#234; crie novas estruturas, contendo
qualquer combina&#231;&#227;o de valores. Mas essas estruturas n&#227;o ser&#227;o usadas sem a linha <tt>(define-struct ...) !</tt></p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Uma estrutura &#233; definida usando a fun&#231;&#227;o <tt>define-struct</tt>, que conta ao computador os itens que fazer parte dela, a ordem que est&#227;o e o tipo de cada
                                              um. Em troca, conseguimos novas fun&#231;&#245;es para usar. Se n&#227;o escrevemos a linha <tt>define-struct</tt>, n&#243;s n&#227;o temos um
                                              <tt>make-carro</tt> (para construir um carro), <tt>carro-modelo</tt> (para saber o modelo do carro), <tt>carro-potencia</tt>, ou qualquer outras
                                              fun&#231;&#245;es de acesso, porque o Racket n&#227;o sabe o que um Carro &#233;- <span style="font-style: italic">n&#243;s n&#227;o o definimos</span>.
</div><div class="SIntrapara"><div class="activity"><p>Para verificar isso, digite um ponto-e-v&#237;rgula no in&#237;cio da linha que come&#231;a com <tt>define-struct</tt>. Isso comenta a linha toda, e o computador ignora isso. Clicque em "Run", e veja
                                                                   o que acontece. Depois v&#225; para <a href="../../resources/workbook/StudentWorkbook.pdf">Page 13</a> em sua apostila, e copie
                                                                   a linha define-struct.</p></div></div></p></div><div class="teacher"><p>Quando a linha do <tt>define-struct</tt> est&#225; comentada, o Racket retorna um erro, dizendo que voc&#234; est&#225; usando um identificador antes da sua defini&#231;&#227;o. Isso significa que
         ele n&#227;o sabe o que <tt>make-carro</tt> &#233; ou faz, porque n&#243;s nunca definimos uma struct carro. Certifique-se que os alunos entendam que o <tt>define-struct</tt>
         &#233; necess&#225;rio para criar e trabalhar com qualquer estrutura.</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">A Struct Festa</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Escrever fun&#231;&#245;es complexas que consomem, modificam e produzem estruturas</p></li><li><p>Aprofundam seu entendimento sobre estruturas, construtores e fun&#231;&#245;es de acesso introduzindo duas novas estruturas de dados.</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Alunos definem duas novas estruturas de dados complexas: festa e mundo</p></li><li><p>Alunos escrever&#227;o fun&#231;&#245;es que acessam campos de um carro, festa ou mundo, e produzem novos carros, festas, e mundos.</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li><p>O arquivo Organizador de Festas [Party.rkt from <a href="../../resources/source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=tsBEwjbSbH&amp;" target="embedded">WeScheme</a> pr&#233;-carregados nos computadores</p></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_A%20Struct%20Festa14442"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">A Struct Festa



<span class="time">(Time 30 minutos)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara">agora que voc&#234; j&#225; sabe como definir suas pr&#243;prias estruturas, vamos definir mais uma. Inv&#233;s de trabalhar numa loja de tunning, agora voc&#234;
                                ser&#225; um organizador de festas. Estruturas de dados ser&#227;o muito &#250;teis para representar cada festa que voc&#234; planejar, tenha o controle do local, o tema da festa,
                                e o n&#250;mero de convidados.
                                </div><div class="SIntrapara"><div class="activity"><ul><li><p>Qual tipo de dados poder ser usado para representar o local de uma festa?</p></li><li><p>E quanto ao tema da festa? (Poderia ser algo como <tt>"Anos 50"</tt>, ou <tt>"uma festa do pijama"</tt>)</p></li><li><p>E quanto ao n&#250;mero de convidados?</p></li></ul><p>Preencha a segunda defini&#231;&#227;o de estrutura na <a href="../../resources/workbook/StudentWorkbook.pdf">Page 13</a> em sua apostila.</p></div></div><div class="SIntrapara">&nbsp;<textarea>
; uma festa &#233; uma (make-festa String String Numero)
(define-struct festa (local tema convidados))
</textarea></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><p>Abra o arquivo <a href="http://www.wescheme.org/openEditor?publicId=tsBEwjbSbH&amp;" target="embedded">Organizador de Festas</a>. D&#234; uma olhada nas primeiras duas
         linhas na janela de defini&#231;&#245;es. Elas combinam com o que voc&#234; escreveu antes?</p></div></div><div class="SIntrapara">Agora que a strcut festa est&#225; definida, voc&#234; tem quato novas fun&#231;&#245;es: Uma para construir uma festa, e tr&#234;s <span class="vocab">fun&#231;&#245;es de acesso</span>
                                 para saber o local, tema, e o n&#250;mero de convidados de uma festa.
</div><div class="SIntrapara"><div class="activity"><p>V&#225; para sua p&#225;gina de assinaturas. </p><ul><li><p>Qual &#233; o <tt>Nome</tt> da fun&#231;&#227;o que <span style="font-style: italic">constr&#243;i uma festa?</span></p></li><li><p>Qual &#233; o <span class="vocab">Dom&#237;nio</span> da fun&#231;&#227;o? Quais tipos das coisas que s&#227;o parte de uma festa?)</p></li><li><p>Qual &#233; a <span class="vocab">Imagem</span> dessa fun&#231;&#227;o?</p></li><li><p>Como voc&#234; consegue saber o local de uma festa? (Pense sobre como voc&#234; conseguia o modelo ou a cor de um carro.)</p></li><li><p>Escreva as assinaturas para <tt>festa-local</tt>, <tt>festa-tema</tt>, e <tt>festa-convidados</tt>.</p></li></ul></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>Agora defina duas estruturas festa que voc&#7869; queira. N&#227;o importa qual tipo de festa voc&#7869; est&#225; planejando, certifique-se que ela tenha os tipos
corretos de itens e na ordem certa.</p></div></div><div class="teacher"><p>Assim como na struct carro, a repeti&#231;&#227;o &#233; a chave: pe&#231;a aos alunos que identifiquem cada campo em suas festas, e fa&#231;a muitas
perguntas: Como voc&#234; conseguiria obter o <tt>tema</tt> de um <tt>Halloween</tt>? Como voc&#234; consegue o n&#250;mero de convidados de uma festa <tt>4 de Julho(Dia da Independ&#234;ncia)</tt>?</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Agora &#233; hora de escrever algumas fun&#231;&#245;es usando a estrutura festa. Lembre-se que, como um organizador de festas voc&#234; precisa ser capaz de mudar
                                 a informa&#231;&#227;o para cada festa.
      </div><div class="SIntrapara"><div class="activity"><p>V&#225; para <a href="../../resources/workbook/StudentWorkbook.pdf">Page 14</a>. Escreva uma fun&#231;&#227;o chamada <tt>CP</tt>(Confirma&#231;&#227;o de Presen&#231;a de convidados), que recebe uma festa e aumenta 1 no n&#250;mero
        de convidados.</p><ul><li><p>Qual &#233; o nome da fun&#231;&#227;o? Dom&#237;nio? Imagem?</p></li><li><p>Escreva a <span class="vocab">assinatura</span> e a <span class="vocab">declara&#231;&#227;o de prop&#243;sito</span> em sua folha.</p></li><li><p>Escreva seu primeiro Exemplo para a festa <tt>Halloween</tt>. Como voc&#234; come&#231;a?</p></li><li><p>&nbsp;<textarea>
(EXAMPLE (CP Halloween)....)
</textarea></p></li><li><p>O que est&#225; fun&#231;&#227;o produz? (Se voc&#234; estiver travado, d&#234; uma olhada em sua assinatura.)</p></li><li><p>Qual fun&#231;&#227;o n&#243;s usamos para construir uma festa?</p></li><li><p>De acordo com a fun&#231;&#227;o <tt>CP</tt>, o local da festa muda? Claro que n&#227;o. Ent&#227;o como voc&#234; consegue o <tt>local</tt>
de uma festa?</p></li><li><p>&nbsp;<textarea>
(EXAMPLE (CP Halloween) (make-festa (festa-local Halloween)
.....))
</textarea></p></li><li><p>E quanto ao tema? Se alguma nova confirma&#231;&#227;o aparecer, de repente temos que tornar a festa em Festa de Natal? Qual fun&#231;&#227;o voc&#234; usa para descobrir o <tt>tema</tt>
de uma festa?</p></li><li><p>&nbsp;<textarea>
(EXAMPLE (CP Halloween (make-festa (festa-local Halloween)
(festa-tema Halloween)
        .....))
</textarea></p></li><li><p>Por &#250;ltimo, o que acontece com o n&#250;mero de convidados, quando recebe uma nova confirma&#231;&#227;o de presen&#231;a apra a festa?</p></li></ul></div></div><div class="SIntrapara">O primeiro exemplo de <tt>CP</tt> deve ser escrito como:
&nbsp;<textarea>
(EXAMPLE (CP Halloween) (make-festa (festa-local Halloween)
                                      (festa-tema Halloween)
                                   (+ (festa-convidados Halloween) 1)))
</textarea></div></p></div><div class="teacher"><p>Cada estrutura ter&#225; suas pr&#243;prias fun&#231;&#245;es de acesso para cada campo. Pe&#231;a aos alunos que pratiquem o acessoa cada parte da Estrutura Festa e &#224;s alterando (ou n&#227;o!) com base no problema descrito.</p></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>Na <a href="../../resources/workbook/StudentWorkbook.pdf">Page 15</a>, escreva uma fun&#231;&#227;o chamada <tt>trocarLugar</tt>que recebe uma festa E um local que a
   festa est&#225; mudando, e construa uma nova festa nesse lugar. V&#225; passo a passo pela receita de projeto: assinatura, exemplos, e defini&#231;&#227;o.</p></div></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Atuando no Mundo Ninja</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Discover the event-based microworld implementation of Racket, which uses events to modify the world.</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>The Ninja World 1 file [NW1.rkt from <a href="../../resources/source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=fW705a0idU&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines</p></li><li><p>crach&#225;s de atualiza-mundo, big-bang, e desenha-mundo</p></li><li><p>um recorte da imagem do cachorro do NinjaCat</p></li></ul></div></div><div class="segment"><p><a name="lesson_Atuando%20no%20Mundo%20Ninja14443"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Atuando no Mundo Ninja



<span class="time">(Time 30 minutos)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Voc&#234; se lembra do jogo NinjaCat do Bootstrap 1? Neese curso voc&#234; vai desconstruir o jogo completamente, e recri&#225;-lo usando
uma estrutura mundo para faz&#234;-lo mais complexo. Essa vers&#227;o do Ninja Cat pode ser um pouco diferente da que voc&#234; se lembra:
</div><div class="SIntrapara"><div class="activity"><p>Abra o arquivo <a href="http://www.wescheme.org/openEditor?publicId=fW705a0idU&amp;" target="embedded">Ninja World 1</a> e clique em "Run".</p><ul><li><p>O que voc&#234; v&#234; nesse jogo?</p></li><li><p>V&#225; at&#233; o c&#243;digo e olhe a linha onde a estrutura <tt>mundo</tt> &#233; definida.</p></li><li><p>Qual fun&#231;&#227;o define uma estrutura(struct)?</p></li><li><p>Qual &#233; o nome da estrutura definida nesse arquivo?</p></li><li><p>O <tt>mundo</tt> &#233; feito de apenas uma coisa: <tt>dogX</tt>. O que <tt>dogX</tt> representa no jogo?
De que tipo de dado ele &#233;?</p></li><li><p>D&#234; uma olhada na se&#231;&#227;o nomeada <tt>;; INICIANDO MUNDO</tt>. Existe uma vari&#225;vel definida ali, chamada
<tt>INICIO</tt>. Que tipo de dado o <tt>INICIO</tt> &#233;? Um n&#250;mero? String? Figura? BOoleano?</p></li><li><p>Qual fun&#231;&#227;o constr&#243;i um <tt>mundo</tt>?</p></li><li><p>Pule um pouco mais para baixo onde diz <tt>;; ATUALIZANDO FUN&#199;&#213;ES</tt>. Qual &#233; o nome da fun&#231;&#227;o
definida ali? Qual o seu dom&#237;nio e imagem?</p></li><li><p>pense sobre o que a fun&#231;&#227;o <tt>atualiza-mundo</tt> est&#225; fazendo. Como ela consegue obter o <tt>dogX</tt> do
mundo? O que ela est&#225; fazendo com a coordenada-x do c&#227;o?</p></li></ul></div></div><div class="SIntrapara">Cada vez que <tt>atualiza-mundo</tt> &#233; chamada, ela constr&#243;i um novo mundo, adicionando 10 ao <tt>dogX</tt> do mundo que ela recebeu.</div></p></div><div class="teacher"><p><div class="SIntrapara">Essas atividades estimulam os alunos a ler oc&#243;digo dos outros e a pensar como eles funcionam, analisando as assinaturas e defini&#231;&#245;es e
reunindo o que eles j&#225; sabem. Fa&#231;a V&#193;RIAS perguntas ao passar pelo arquivo: Como sabemos que precisamos construir um novo mundo
na <tt>atualiza-mundo</tt>? (Porque a imagem &#233; um mundo). Por que <tt>dogX</tt> &#233; um bom nome de vari&#225;vel para nosso mundo? Pe&#231;a-lhes para
tentar adivinhar o que as express&#245;es como </div><div class="SIntrapara"><div class="activity"><p>(on-tick atualiza-mundo)</p></div></div><div class="SIntrapara"> vai fazer no jogo.</div></p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><p>Agora des&#231;a at&#233; a &#250;ltima fun&#231;&#227;o definida em nosso c&#243;digo: <tt>big-bang</tt>. Essa &#233; uma fun&#231;&#227;o especial que come&#231;ar&#225; uma anima&#231;&#227;o,
mas precisa da ajuda de outras fun&#231;&#245;es para atualizar e desenhar o mundo.</p><ul><li><p>Qual mundo <tt>big-bang</tt> est&#225; recebendo?</p></li><li><p>No c&#243;digo, <tt>big-bang</tt> est&#225; chamando algumas fun&#231;&#245;es diferentes. Quais novas fun&#231;&#245;es voc&#234; pode ver que est&#227;o sendo usadas dentro do
             <tt>big-bang</tt>?</p></li></ul></div></div><div class="SIntrapara">A fun&#231;&#227;o <tt>on-tick</tt> funciona como um rel&#243;gio, e em cada "tick", ele atualiza o mundo. At&#233; agora e estrutura mundo &#233;
 apenas um n&#250;mero, representando a coordenada-x do cachorro. <tt>(on-tick atualiza-mundo)</tt> conta ao computador para atualizar
 o mundo em cada tick.
</div><div class="SIntrapara"><div class="activity"><ul><li><p>Como ele faz isso? Pense sobre o que <tt>atualiza-mundo</tt> faz com o <tt>dogX</tt> do mundo.</p></li><li><p>Experimente colocar o c&#243;digo: <tt>(big bang INICIO (on-tick atualiza-mundo))</tt> na janela de intera&#231;&#245;es e veja o que acontece.</p></li></ul></div></div><div class="SIntrapara">A estrutura mundo est&#225; atualizando, mas isso n&#227;o &#233; muito um jogo sem figuras! N&#243;s precisamos saber como <span style="font-style: italic">desenhar</span> o mundo.</div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><p>Role para cima at&#233; onde voc&#234; ver <tt>;; FUN&#199;&#213;ES GR&#193;FICAS</tt>.</p><ul><li><p>Qual &#233; o nome da fun&#231;&#227;o definida ali?</p></li><li><p>Qual &#233; o Dom&#237;nio dessa fun&#231;&#227;o? E a Imagem?</p></li><li><p>De acordo com a declara&#231;&#227;o de prop&#243;sito, oq ue essa fun&#231;&#227;o faz?</p></li></ul></div></div><div class="SIntrapara">Agora olhe para o corpo da fun&#231;&#227;o <tt>desenha-mundo</tt>. Ela est&#225; usando uma fun&#231;&#227;o que voc&#234; pode se lembrar do Bootstrap 1, chamada <tt>put-image</tt>, que recebe
uma imagem, e a coloca em cima de outra imagem, usando as coordenadas x e y para determinar onde ser&#225; colocada. Neste exemplo, ela
est&#225; colocando a <tt>CACHORRO</tt> sobre o <tt>IMAGEMFUNDO</tt>. </div><div class="SIntrapara"><div class="activity"><p>Para que a coordenada-x do cachorro &#233; usada? E a coordenada y?</p></div></div></p></div><div class="teacher"><p>Uma vez que os alunos entendem o prop&#243;sito das tr&#7869;s fun&#231;&#245;es, eles precisam entender como elas funcionam juntas. Pe&#231;a que alguns volunt&#225;rios representem
a <tt>atualiza-mundo</tt> e o <tt>big-bang</tt>, dando a eles "crach&#225;s" com o nome das fun&#231;&#245;es e pe&#231;a que venham at&#233; o quadro.
Pe&#231;a que expliquem para a turma quais s&#227;o suas assinaturas e o que eles fazem. Escreva: "Mundo" no quadro, e escreva o n&#250;mero <tt>0</tt> abaixo.
Quando voc&#234; gritar "<tt>(big-bang 0)</tt>", pe&#231;a que a turmaconte o tempo, gritando "tick!" a cada cinco segundo. A cada tick, o <tt>big-bang</tt>
deve chamar a <tt>atualiza-mundo</tt> para atualizar o novo mundo escrevendo no quadro. Isso resulta no n&#250;mero mudando o tempo todo, come&#231;ando com 0.</p><p>Peque outro volunt&#225;rio para ser <tt>desenha-mundo</tt>, d&#234; a ele o "crach&#225;" e um recorte do cachorro. Desenhe um grande
ret&#226;ngulo no quadro, representado a tela. Agora o big-bang chama o <tt>atualiza-mundo</tt> e <tt>desenha-mundo</tt> a cada "tick",
fazendo com que o n&#250;mero aumente e o cachorro se mova pela tela um pouco de cada vez. Fa&#231;a a turma passar por algumas
itera&#231;&#245;es disso. Ao atuar essas etapas, os alunos est&#227;o demonstrando exatamente como as tr&#234;s fun&#231;&#245;es trabalham juntas no c&#243;digo para
completar a anima&#231;&#227;o no computador.</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Encerramento</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_Encerramento14444"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Encerramento



<span class="time">(Time 5 minutos)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p>Se voc&#234; atuasse essas fun&#231;&#245;es, confiando no <tt>big-bang</tt> para atualizar o mundo, depois usar o resultado de <tt>atualizar-mundo</tt> para
desenhar o mundo, e colocando tudos juntos para criar uma anima&#231;&#227;o, poderia ficar complicado, e a anima&#231;&#227;o n&#227;o seria t&#227;o r&#225;pida quanto
voc&#234; v&#234; no computador. Felizmente, o Racket tem a capacidade de executar todas essas fun&#231;&#245;es e mais algumas em uma fra&#231;&#227;o de tempo,
para criar e desenhar suavemente, o jogo completo. Nas pr&#243;ximas aulas, voc&#234; estar&#225; usando structs para estender esse mundo,
em um jogo realmente complexo, e escrever fun&#231;&#245;es para o Mundo Ninja E seus pr&#243;prios jogos para torn&#225;-los mais divertidos e &#250;nicos.</p></div><div class="teacher"></div></li></ul></div></div></blockquote><p></p><div id="copyright"><a href="http://creativecommons.org/licenses/by-nc-nd/3.0/"><img src="pict_2.png" alt="image" width="88" height="31"/></a>Bootstrap by <a href="http://www.bootstrapworld.org/">Emmanuel Schanzer</a> is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons 3.0 Unported License</a>. Based on a work at <a href="http://www.bootstrapworld.org/">www.BootstrapWorld.org</a>. Permissions beyond the scope of this license may be available at <a href="mailto:schanzer@BootstrapWorld.org">schanzer@BootstrapWorld.org</a>.</div></div></div><div id="contextindicator">&nbsp;</div></body></html>