<!DOCTYPE html>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>Unit 5: Building your World</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="pretty-printing.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><link rel="stylesheet" type="text/css" href="bootstrap.css" title="default"/><link rel="stylesheet" type="text/css" href="textbook.css" title="default"/><link rel="stylesheet" type="text/css" href="extra_curriculum.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="codemirror.js"></script><script type="text/javascript" src="runmode.js"></script><script type="text/javascript" src="scheme2.js"></script><script type="text/javascript" src="bootstraplesson.js"></script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2Chttp%3A%2F%2Fwww.cs.wpi.edu%2F%7Ekfisler%2Fmathjaxlocal.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Unit 5:<span class="mywbr"> &nbsp;</span> Building your World</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Unit_5__.Building_your_.World%29" class="tocsubseclink" data-pltdoc="x">Unit 5:<span class="mywbr"> &nbsp;</span> Building your World</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><a name="(part._.Unit_5__.Building_your_.World)"></a><p><script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script><noscript></noscript><script type="text/javascript" src="easyXDM.min.js"></script><noscript></noscript><script type="text/javascript" src="json2.min.js"></script><noscript></noscript><script type="text/javascript" src="bootstrap-helpers.js"></script><noscript></noscript></p><div class="headercontent"><span class="BootstrapTitle"><img src="pict.png" alt="image" width="150" height="150"/><span class="TitleUnitNum">Unit 5</span>Building your World</span></div><div class="SubFlow" id="overviewDescr"><span class="BootstrapHeader">Unit Overview</span><p>After thinking about their World, students practice building, drawing and animating it.</p></div><blockquote class="OverviewBoundary"><iframe id="forum_embed"></iframe><div class="summary"><div class="" id="BootstrapAgenda"><p>Agenda</p><ul class="BootstrapAgendaList"><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">5 min</span><a href="#lesson_Introduction13541"><span class="BSLessonName">Introduction</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">40 min</span><a href="#lesson_Drawing%20the%20World13542"><span class="BSLessonName">Drawing the World</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">40 min</span><a href="#lesson_Updating%20the%20World13543"><span class="BSLessonName">Updating the World</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">5 min</span><a href="#lesson_Closing13544"><span class="BSLessonName">Closing</span></a></p></li></ul></div><div id="ProductOutcomes" class=" "><span class="BootstrapHeader">Product Outcomes:</span><ul></ul></div><div id="LearningObjectives" class=" "><span class="BootstrapHeader">Standards and Evidence Statements:</span><p>Standards with prefix BS are specific to Bootstrap; others are from the Common Core. Mouse over each standard to see its corresponding evidence statements. Our <a href="../../../../Standards.shtml">Standards Document</a> shows which units cover each standard. </p><ul class="LearningObjectivesList"></ul></div><span class="BootstrapHeader">Length: 90 minutes</span><div id="Glossary" class=" "><span class="BootstrapHeader">Glossary:</span><ul><li><p><span class="vocab">contract</span></p></li></ul></div><div id="Materials" class=" "><span class="BootstrapHeader">Materials:</span><ul><li><p>Pens/pencils for the students, fresh whiteboard markers for teachers</p></li><li><p>Class poster (List of rules, design recipe, course calendar)</p></li><li><p>Editing environment (WeScheme or DrRacket with the bootstrap-teachpack installed)</p></li><li><p>Student workbooks</p></li><li><p>Language Table</p></li></ul></div><div id="Preparation" class=" "><span class="BootstrapHeader">Preparation:</span><ul><li><p>Seating arrangements: ideally clusters of desks/tables</p></li><li><p>Clear plastic sheet protectors: put pages 20 &amp; 21 at the front of the workbook for ease of reference</p></li><li><p>The Ninja World 3 file [NW3.rkt from <a href="..\..\resources\source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=t77yPXKDWs&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines</p></li><li><p>BS:2 Blank Game Template [GameTemplate.rkt from <a href="..\..\resources\source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=ZcK2dqANbT&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines with student images included.</p></li></ul></div><div id="LanguageTable" class=" "><table cellspacing="0" cellpadding="0" class="thetable"><tr><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Types</p></td><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Functions</p></td></tr><tr><td align="center" class="BootstrapTable"><p>Number</p></td><td align="center" class="BootstrapTable"><p><tt>+ - * / sq sqrt expt</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>String</p></td><td align="center" class="BootstrapTable"><p><tt>string-append string-length</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Image</p></td><td align="center" class="BootstrapTable"><p><tt>rectangle circle triangle ellipse star text scale rotate put-image</tt></p></td></tr></table></div><p><div id="lessonToolbar" class="fixed"><input type="button" value="Show Teacher Notes" onclick="toggleTeacherNotes(this);"></input><br/><input type="button" value="Discussion Group" onclick="showGroup()"/></div></p></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Introduction</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li><p>Pens/pencils for the students, fresh whiteboard markers for teachers</p></li><li><p>Class poster (List of rules, design recipe, course calendar)</p></li><li><p>Editing environment (WeScheme or DrRacket with the bootstrap-teachpack installed)</p></li><li><p>Student workbooks</p></li><li><p>Language Table</p></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>Seating arrangements: ideally clusters of desks/tables</p></li><li><p>Clear plastic sheet protectors: put pages 20 &amp; 21 at the front of the workbook for ease of reference</p></li><li><p>The Ninja World 3 file [NW3.rkt from <a href="..\..\resources\source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=t77yPXKDWs&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines</p></li><li><p>BS:2 Blank Game Template [GameTemplate.rkt from <a href="..\..\resources\source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=ZcK2dqANbT&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines with student images included.</p></li></ul></div></div><div class="segment"><p><a name="lesson_Introduction13541"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Introduction



<span class="time">(Time 5 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><div class="activity"><p>Open the <a href="http://www.wescheme.org/openEditor?publicId=t77yPXKDWs&amp;" target="embedded">Ninja World</a> file, and look
                              at the <tt>world</tt> defined at the top.</p><ul><li><p>How many things are in this world? What are they?</p></li><li><p>What does <tt>dogX</tt> represent? <tt>rubyX</tt>? <img src="pict_2.png" alt="image" width="150" height="113"/></p></li><li><p>What function makes a world?</p></li><li><p>Scroll down a bit in the code. What function updates the world?</p></li><li><p>What function draws the world?</p></li><li><p>How fast is the dog moving from left to right? How fast is the ruby moving right to left across the screen?</p></li><li><p>Now turn to <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 21</a> in your workbook. What are the things in your world? What datatypes are they?</p></li></ul></div></div><div class="teacher"><p>Make sure that all students can list the names and types of everything in the <tt>world</tt> struct. In addition,
make sure they can answer some questions about accessor functions, such as "how do you get the alien&rsquo;s speed out of
the world?"</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Now it&rsquo;s time to start programming YOUR videogame.
</div><div class="SIntrapara"><div class="activity"><p>Open the <a href="http://www.wescheme.org/openEditor?publicId=ZcK2dqANbT&amp;" target="embedded">BS:2 blank game file</a>.</p></div></div><div class="SIntrapara"> In Bootstrap 1,
you started with the shell of a game, with some sample images and functions defined. In this class the game template is just
a collection of comments, telling you how to organize your functions and variables. You&rsquo;ll be writing <span style="font-style: italic">every line</span> of
code yourself. Let&rsquo;s begin:
</div><div class="SIntrapara"><div class="activity"><p>At the top of the file, where it says <tt>;; The World is a:</tt>, define the world struct for your game.
(Check <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 21</a> to jog your memory.) Once you have the world struct, scroll
down to where it says <tt>;; STARTING WORLD</tt> and define your first example world: name it <tt>START</tt>.</p></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">So now you have your world, and you know what&rsquo;s in it: but what do those things look like? You&rsquo;ll have to add some images.
Do you remember the <tt>bitmap/url</tt> function from Bootstrap one? It takes in the URL of any image online (given as a
string) and returns that image. <tt>; bitmap/url : String -&gt; Image</tt>
</div><div class="SIntrapara"><div class="activity"><ul><li><p>Look back at <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 20</a> in your workbook. How many things
in your game will need their own image?</p></li><li><p>Using Google Image Search or a similar tool, find images for the background and for each of
the characters in your game.</p></li><li><p>Define a new variables for your images, (i.e. <tt>PLAYER</tt>, <tt>DANGER</tt>, etc. and use
the <tt>bitmap/url</tt> function to put them into your game file.</p></li></ul></div></div><div class="SIntrapara">Some hints for finding images: Your images should be in PNG or GIF format, and the url should contain the file type
(i.e. .png or .gif) at the end. Background images should be 640x480, and character images should generally be no
larger than 200px in either dimension. Make sure that the character images have transparent backgrounds! TIP: use
animated GIFs for the characters - not only does the animation make the game look a lot better, but these images
usually have transparent backgrounds to begin with.</div></p></div><div class="teacher"><p>Find students&rsquo; images ahead of before class to save time, and use the <tt>bitmap/url</tt> function to put them into a
 blank game file for each pair of students.</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Drawing the World</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students will define draw-world, and hook it up to an event handler</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li></li></ul></div></div><div class="segment"><p><a name="lesson_Drawing%20the%20World13542"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Drawing the World



<span class="time">(Time 40 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Now that we have our world structure, we need to know how to draw it.
</div><div class="SIntrapara"><div class="activity"><p>Turn to  <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 23</a>, and fill in your <tt>START</tt> world at the bottom.</p><ul><li><p>According to your world struct, where should everything be when the game starts?</p></li><li><p>Draw a simple sketch of your <tt>START</tt> world in the space provided.</p></li></ul></div></div><div class="SIntrapara">Next put your images in order. We know we have to stack images, so you&rsquo;re going to have to use <tt>put-image</tt>.
</div><div class="SIntrapara"><div class="activity"><p>Using the chart on <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 23</a>, figure out which image goes on top,
                which goes second, and so on. Make a list from top to bottom in the column on the left.
                Then write each image&rsquo;s coordinates in the right column.</p></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Let&rsquo;s set up one more example. This will help when you begin writing your function that draws the world, you&rsquo;re ready to
go. On <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 24</a> there&rsquo;s a page nearly identical to page 23. You&rsquo;ve already written a
<tt>START</tt> world, which has everything where it will be when the game starts. Now do the same for a world called
<tt>NEXT</tt>. This world represents the game in the NEXT FRAME after START.
</div><div class="SIntrapara"><div class="activity"><ul><li><p>Fill in the world struct, and sketch the <tt>NEXT</tt> world.</p></li><li><p>Now put the images in the same order as in the <tt>START</tt> world. (We don&rsquo;t want them to
be switching around in the middle of the game!) Then write the NEW coordinates beside them.</p></li></ul></div></div></p></div><div class="teacher"><p>These workbook pages help students organize their thinking before writing their own <tt>draw-world</tt> function. The order of
images determines which game images appear above the others. (Does it make more sense to have the ruby appear to be flying
<span style="font-style: italic">behind</span> the cloud, or in front of it?)</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><p>Which function is used to draw the world?</p></div></div><div class="SIntrapara"> Just like <tt>draw-auto</tt>, and the <tt>draw-world</tt>
 function in Ninja World, <tt>draw-world</tt> takes in a struct and produces an Image.
 </div><div class="SIntrapara"><div class="activity"><ul><li><p>What is the Domain of this function? The Range?</p></li><li><p>At the top of <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 25</a>, write the
contract for <tt>draw-world</tt>.</p></li><li><p>Fill in the function header for <tt>draw-world</tt>.</p></li></ul></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Below the function header, there is a sort of &rsquo;staircase&rsquo; pattern using <tt>put-image</tt>, just like in
                                         Ninja World. Do you remember the contract for <tt>put-image</tt>? It takes in an image, the coordinates for
                                         where to put the image, and another image, on top of which the first image is placed.
&nbsp;<textarea>
; put-image : Image Number Number Image -&gt; Image
; places the first image at the given x and y-coordinates on top of the second image
</textarea>
                                        </div><div class="SIntrapara"><div class="activity"><ul><li><p>Start out on the bottom of this &rsquo;staircase&rsquo; by putting one of your
images onto the background.</p></li><li><p>If you wanted the image to be centered on the scene, what are the x- and
y-coordinates you&rsquo;ll need?</p></li><li><p>But you probably don&rsquo;t want your image to be at the center of the background.
Look back at your <tt>START</tt> world picture. You made a note of which
coordinates where you wanted that image to be, laid on top of the background.</p></li></ul></div></div><div class="SIntrapara">Start with something that looks like this, substituting YOUR image and coordinates:
&nbsp;<textarea>
(put-image IMAGE
           320 240
           BACKGROUND)
</textarea>
                                         </div><div class="SIntrapara"><div class="activity"><ul><li><p>Place another one of your images on top of the one that this
staircase-shaped expression has created.</p></li><li><p>Keep adding to it, until you have a stack of all of the images in your game.</p></li></ul></div></div></p></div><div class="teacher"><p>Work with small groups to complete this section. When students finish writing draw-world, have them type their
NEXT world and draw-world into their games, in the <tt>;; GRAPHICS</tt> section. If they type <tt>(draw-world START)</tt>
into the interactions window, they can see a screenshot of their games.</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Updating the World</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students will define a simple update-world function, and hook it up to on-tick</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li></li></ul></div></div><div class="segment"><p><a name="lesson_Updating%20the%20World13543"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Updating the World



<span class="time">(Time 40 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Scroll down until you see <tt>;; UPDATING FUNCTIONS</tt>. This code is responsible for changing the World.
                    </div><div class="SIntrapara"><div class="activity"><p>What function do you see here? What&rsquo;s in its Domain? Its Range?</p></div></div><div class="SIntrapara"><tt>update-world</tt> takes a world, and then returns a new one that&rsquo;s been updated. Think of this function
                    as the one that generates the next page of a flipbook.
</div><div class="SIntrapara"><div class="activity"><ul><li><p>Look back at the difference between your <tt>START</tt> and <tt>NEXT</tt> worlds. What has changed?</p></li><li><p>On <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 26</a>, make a list of what changed and how it changed
   as a problem statement for writing <tt>update-world</tt>, using the design recipe. Be sure to fill
   out the <span class="vocab">Contract</span> and two EXAMPLEs before defining the function.</p></li></ul></div></div></p></div><div class="teacher"><p><tt>update-world</tt> is the function that will handle the logic of the student&rsquo; games. It determines what changes
from one second to the next, and updates the world accordingly. Make sure students are making a new world with
<tt>make-world</tt>, and using their accessor functions to change the values of each world fields according to
their game&rsquo;s behavior. </p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Closing</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li></li></ul></div></div><div class="segment"><p><a name="lesson_Closing13544"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Closing



<span class="time">(Time 5 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p>Now you have the basic shell of your videogame, with your character-images placed onto the background
and moving. However, we still haven&rsquo;t written any functions to take input from the user. If you want the
PLAYER to move, you&rsquo;ll need to learn about how to make the game respond to keypresses,
which is what you&rsquo;ll learn in the next unit.</p></div><div class="teacher"><p>Have students show each other their their animated games! </p></div></li></ul></div></div></blockquote><p></p><div id="copyright"><a href="http://creativecommons.org/licenses/by-nc-nd/3.0/"><img src="pict_3.png" alt="image" width="88" height="31"/></a>Bootstrap by <a href="http://www.bootstrapworld.org/">Emmanuel Schanzer</a> is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons 3.0 Unported License</a>. Based on a work at <a href="http://www.bootstrapworld.org/">www.BootstrapWorld.org</a>. Permissions beyond the scope of this license may be available at <a href="mailto:schanzer@BootstrapWorld.org">schanzer@BootstrapWorld.org</a>.</div></div></div><div id="contextindicator">&nbsp;</div></body></html>