// Automatically generated file.  Do not edit!
var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if("number"==typeof a.length)return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}function ca(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
var da="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};function ea(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var fa=ea(this);
function ha(a,b){if(b)a:{var c=fa;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&da(c,a,{configurable:!0,writable:!0,value:b})}}var ia="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)ca(d,e)&&(a[e]=d[e])}return a};ha("Object.assign",function(a){return a||ia});
ha("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,l){this.qs=f;da(this,"description",{configurable:!0,writable:!0,value:l})}if(a)return a;c.prototype.toString=function(){return this.qs};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
ha("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=fa[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&da(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ja(aa(this))}})}return a});function ja(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function ka(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}ha("Array.prototype.keys",function(a){return a?a:function(){return ka(this,function(b){return b})}});ha("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});
ha("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
ha("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(b,c||0)}});
ha("WeakMap",function(a){function b(n){this.Ae=(m+=Math.random()+1).toString();if(n){n=ba(n);for(var q;!(q=n.next()).done;)q=q.value,this.set(q[0],q[1])}}function c(){}function d(n){var q=typeof n;return"object"===q&&null!==n||"function"===q}function e(n){if(!ca(n,l)){var q=new c;da(n,l,{value:q})}}function f(n){var q=Object[n];q&&(Object[n]=function(t){if(t instanceof c)return t;Object.isExtensible(t)&&e(t);return q(t)})}if(function(){if(!a||!Object.seal)return!1;try{var n=Object.seal({}),q=Object.seal({}),
t=new a([[n,2],[q,3]]);if(2!=t.get(n)||3!=t.get(q))return!1;t.delete(n);t.set(q,4);return!t.has(n)&&4==t.get(q)}catch(w){return!1}}())return a;var l="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var m=0;b.prototype.set=function(n,q){if(!d(n))throw Error("Invalid WeakMap key");e(n);if(!ca(n,l))throw Error("WeakMap key fail: "+n);n[l][this.Ae]=q;return this};b.prototype.get=function(n){return d(n)&&ca(n,l)?n[l][this.Ae]:void 0};b.prototype.has=function(n){return d(n)&&
ca(n,l)&&ca(n[l],this.Ae)};b.prototype.delete=function(n){return d(n)&&ca(n,l)&&ca(n[l],this.Ae)?delete n[l][this.Ae]:!1};return b});
ha("Map",function(a){function b(){var m={};return m.Me=m.next=m.head=m}function c(m,n){var q=m[1];return ja(function(){if(q){for(;q.head!=m[1];)q=q.Me;for(;q.next!=q.head;)return q=q.next,{done:!1,value:n(q)};q=null}return{done:!0,value:void 0}})}function d(m,n){var q=n&&typeof n;"object"==q||"function"==q?f.has(n)?q=f.get(n):(q=""+ ++l,f.set(n,q)):q="p_"+n;var t=m[0][q];if(t&&ca(m[0],q))for(m=0;m<t.length;m++){var w=t[m];if(n!==n&&w.key!==w.key||n===w.key)return{id:q,list:t,index:m,ac:w}}return{id:q,
list:t,index:-1,ac:void 0}}function e(m){this[0]={};this[1]=b();this.size=0;if(m){m=ba(m);for(var n;!(n=m.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var m=Object.seal({x:4}),n=new a(ba([[m,"s"]]));if("s"!=n.get(m)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var q=n.entries(),t=q.next();if(t.done||t.value[0]!=m||"s"!=t.value[1])return!1;t=q.next();return t.done||4!=t.value[0].x||
"t"!=t.value[1]||!q.next().done?!1:!0}catch(w){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(m,n){m=0===m?0:m;var q=d(this,m);q.list||(q.list=this[0][q.id]=[]);q.ac?q.ac.value=n:(q.ac={next:this[1],Me:this[1].Me,head:this[1],key:m,value:n},q.list.push(q.ac),this[1].Me.next=q.ac,this[1].Me=q.ac,this.size++);return this};e.prototype.delete=function(m){m=d(this,m);return m.ac&&m.list?(m.list.splice(m.index,1),m.list.length||delete this[0][m.id],m.ac.Me.next=m.ac.next,m.ac.next.Me=
m.ac.Me,m.ac.head=null,this.size--,!0):!1};e.prototype.clear=function(){this[0]={};this[1]=this[1].Me=b();this.size=0};e.prototype.has=function(m){return!!d(this,m).ac};e.prototype.get=function(m){return(m=d(this,m).ac)&&m.value};e.prototype.entries=function(){return c(this,function(m){return[m.key,m.value]})};e.prototype.keys=function(){return c(this,function(m){return m.key})};e.prototype.values=function(){return c(this,function(m){return m.value})};e.prototype.forEach=function(m,n){for(var q=this.entries(),
t;!(t=q.next()).done;)t=t.value,m.call(n,t[1],t[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var l=0;return e});ha("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function la(a){return a?a:Array.prototype.fill}ha("Int8Array.prototype.fill",la);ha("Uint8Array.prototype.fill",la);ha("Uint8ClampedArray.prototype.fill",la);
ha("Int16Array.prototype.fill",la);ha("Uint16Array.prototype.fill",la);ha("Int32Array.prototype.fill",la);ha("Uint32Array.prototype.fill",la);ha("Float32Array.prototype.fill",la);ha("Float64Array.prototype.fill",la);
var ma={},na;
var oa=[,2,1,4,3];
var pa=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
var h={};pa.Blockly||(pa.Blockly={});pa.Blockly.Msg||(pa.Blockly.Msg=h);
function ra(a){a=String(a).toLowerCase().trim();var b=sa[a];if(b)return b;b="0x"==a.substring(0,2)?"#"+a.substring(2):a;b="#"==b[0]?b:"#"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c)?ta(a,b,c):null}
function ta(a,b,c){b=a<<16|b<<8|c;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)}function ua(a){a=ra(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]}
function va(a){var b=0,c=0,d=0,e=Math.floor(a/60),f=a/60-e;a=165.75*.55;var l=165.75*(1-.45*f);f=165.75*(1-.45*(1-f));switch(e){case 1:b=l;c=165.75;d=a;break;case 2:b=a;c=165.75;d=f;break;case 3:b=a;c=l;d=165.75;break;case 4:b=f;c=a;d=165.75;break;case 5:b=165.75;c=a;d=l;break;case 6:case 0:b=165.75,c=f,d=a}return ta(Math.floor(b),Math.floor(c),Math.floor(d))}
function wa(a,b,c){a=ra(a);if(!a)return null;b=ra(b);if(!b)return null;a=ua(a);b=ua(b);return ta(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))}var sa={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function k(a,b){this.x=a;this.y=b}function xa(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function ya(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function za(a,b){return new k(a.x-b.x,a.y-b.y)}function Aa(a,b){return new k(a.x+b.x,a.y+b.y)}k.prototype.clone=function(){return new k(this.x,this.y)};k.prototype.scale=function(a){this.x*=a;this.y*=a;return this};k.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};function Ba(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}Ba.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};function Ca(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0}function Da(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Ca(a);for(var d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!=a[f][d])return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f][d])&&" "!=e)return c;return b}
function Ea(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Ca(a);for(var d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!=a[f].substr(-d-1,1))return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f].charAt(a[f].length-d-1))&&" "!=e)return c;return b}
function Fa(a,b){a=a.split("\n");for(var c=0;c<a.length;c++){var d=c;var e=a[c],f=b;if(e.length<=f)var l=e;else{for(var m=e.trim().split(/\s+/),n=0;n<m.length;n++)m[n].length>f&&(f=m[n].length);n=-Infinity;var q=1;do{var t=n;l=e;e=[];var w=m.length/q,z=1;for(n=0;n<m.length-1;n++)z<(n+1.5)/w?(z++,e[n]=!0):e[n]=!1;e=Ga(m,e,f);n=Ha(m,e,f);w=m;z=[];for(var P=0;P<w.length;P++)z.push(w[P]),void 0!==e[P]&&z.push(e[P]?"\n":" ");e=z.join("");q++}while(n>t)}a[d]=l}return a.join("\n")}
function Ha(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!=".?!".indexOf(e[f])?b+=c/3:-1!=",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b}
function Ga(a,b,c){for(var d=Ha(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var l=[].concat(b);l[f]=!l[f];l[f+1]=!l[f+1];var m=Ha(a,l,c);m>d&&(d=m,e=l)}return e?Ga(a,e,c):b};function Ia(a,b){this.width=a;this.height=b};function Ja(a){var b;(b=Ka(a,"display"))||(b=a.currentStyle?a.currentStyle.display:null);if("none"!=(b||a.style&&a.style.display))return new Ia(a.offsetWidth,a.offsetHeight);b=a.style;var c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Ia(f,a)}
function Ka(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function La(a){var b=new k(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new k(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};var Ma,Na,Oa,Pa,Qa,Ra,Sa,Ua,Va,Wa,Xa,Ya,Za;
(function(a){function b(d){return-1!=c.indexOf(d.toUpperCase())}Za=a;var c=Za.toUpperCase();Ma=b("Trident")||b("MSIE");Na=b("Edge");Oa=b("JavaFX");!b("Chrome")&&b("CriOS");Pa=b("WebKit")&&!Na;Qa=b("Gecko")&&!Pa&&!Ma&&!Na;Ra=b("Android");a=pa.navigator&&pa.navigator.maxTouchPoints;Sa=b("iPad")||b("Macintosh")&&0<a;Ua=b("iPod");Va=b("iPhone")&&!Sa&&!Ua;Wa=b("Macintosh");Xa=Sa||Ra&&!b("Mobile")||b("Silk");Ya=!Xa&&(Ua||Va||Ra||b("IEMobile"))})(pa.navigator&&pa.navigator.userAgent||"");function $a(a){a.preventDefault();a.stopPropagation()}function ab(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.Kv}
function bb(a){var b=new k(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(cb))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(db))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b}
function eb(a){for(var b=0,c=0;a;){var d=bb(a);b+=d.x;c+=d.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new k(b,c)}var cb=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,db=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;function fb(a){return a.ctrlKey&&Wa?!0:2==a.button}function gb(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)}
function hb(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:40*a.deltaX,y:40*a.deltaY};case 2:return{x:125*a.deltaX,y:125*a.deltaY}}}function ib(a){if("string"!=typeof a)return a;a=jb(a,!1);return a.length?String(a[0]):""}function lb(a){for(var b=h,c=a.match(/%{BKY_[A-Z]\w*}/ig),d=0;d<c.length;d++)void 0==b[c[d].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+c[d]+" in "+a)}
function jb(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,l=0;l<d.length;l++){var m=d[l];0==e?"%"==m?((m=a.join(""))&&c.push(m),a.length=0,e=1):a.push(m):1==e?"%"==m?(a.push(m),e=0):b&&"0"<=m&&"9">=m?(e=2,f=m,(m=a.join(""))&&c.push(m),a.length=0):"{"==m?e=3:(a.push("%",m),e=0):2==e?"0"<=m&&"9">=m?f+=m:(c.push(parseInt(f,10)),l--,e=0):3==e&&(""==m?(a.splice(0,0,"%{"),l--,e=0):"}"!=m?a.push(m):(e=a.join(""),/[A-Z]\w*/i.test(e)?(m=e.toUpperCase(),(m=0==m.lastIndexOf("BKY_",0)?m.substring(4):
null)&&m in h?(e=h[m],"string"==typeof e?Array.prototype.push.apply(c,jb(e,b)):b?c.push(String(e)):c.push(e)):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}(m=a.join(""))&&c.push(m);b=[];for(l=a.length=0;l<c.length;++l)"string"==typeof c[l]?a.push(c[l]):((m=a.join(""))&&b.push(m),a.length=0,b.push(c[l]));(m=a.join(""))&&b.push(m);a.length=0;return b}function mb(){for(var a=nb.length,b=[],c=0;20>c;c++)b[c]=nb.charAt(Math.random()*a);return b.join("")}var nb="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
function ob(){if(void 0!==pb)return pb;if(!pa.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d]){a.style[d]="translate3d(1px,1px,1px)";b=pa.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);return pb=
"none"!==b}var pb;function qb(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)}function rb(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0}
function sb(a,b){var c=Object.create(null),d=tb(a,!0);b&&(a=ub(a))&&(a=d.indexOf(a),d.splice(a,d.length-a));for(a=0;b=d[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c}function vb(a){var b="string"==typeof a?ib(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)return{$t:c,Pi:va(c)};if(c=ra(b))return{$t:null,Pi:c};c='Invalid colour: "'+b+'"';a!=b&&(c+=' (from "'+a+'")');throw Error(c);};var wb="ontouchstart"in pa||!!(pa.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!pa.navigator||!pa.navigator.maxTouchPoints&&!pa.navigator.msMaxTouchPoints),xb=null,yb={};
pa.PointerEvent?yb={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:wb&&(yb={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var zb=0;
function Ab(a,b){Bb();a.changedTouches&&1!=a.changedTouches.length||(zb=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&Cb(b,a)},750))}function Bb(){zb&&(clearTimeout(zb),zb=0)}function Db(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"}
function Eb(a){var b=Db(a);return void 0!==xb&&null!==xb?xb==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(xb=b,!0):!1}function Fb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("mouse",0)||0==a.type.lastIndexOf("pointer",0)}function Gb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("pointer",0)}
function Hb(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};function p(a,b,c,d,e,f){function l(z){var P=!e;z=Hb(z);for(var Ta=0,qa;qa=z[Ta];Ta++)if(!P||!Fb(qa)||Eb(qa)){var kb=qa;if(0==kb.type.lastIndexOf("touch",0)){var gf=kb.changedTouches[0];kb.clientX=gf.clientX;kb.clientY=gf.clientY}c?d.call(c,qa):d(qa);m=!0}}var m=!1,n=[];if(pa.PointerEvent&&b in yb)for(var q=0,t;t=yb[b][q];q++)a.addEventListener(t,l,!1),n.push([a,t,l]);else if(a.addEventListener(b,l,!1),n.push([a,b,l]),b in yb){var w=function(z){l(z);var P=!f;m&&P&&z.preventDefault()};for(q=0;t=yb[b][q];q++)a.addEventListener(t,
w,!1),n.push([a,t,w])}return n}function Ib(a,b,c,d){function e(q){c?d.call(c,q):d(q)}var f=[];if(pa.PointerEvent&&b in yb)for(var l=0,m;m=yb[b][l];l++)a.addEventListener(m,e,!1),f.push([a,m,e]);else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in yb){var n=function(q){if(q.changedTouches&&1==q.changedTouches.length){var t=q.changedTouches[0];q.clientX=t.clientX;q.clientY=t.clientY}e(q);q.preventDefault()};for(l=0;m=yb[b][l];l++)a.addEventListener(m,n,!1),f.push([a,m,n])}return f}
function r(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};
var Jb=Object.create(null);function Kb(a){this.He=a}Kb.prototype.toString=function(){return this.He};var Lb=new Kb("connectionChecker"),Mb=new Kb("cursor"),Nb=new Kb("event"),Ob=new Kb("field"),Pb=new Kb("renderer"),Qb=new Kb("toolbox"),Rb=new Kb("theme"),Sb=new Kb("toolboxItem"),Tb=new Kb("flyoutsVerticalToolbox"),Ub=new Kb("metricsManager"),Vb=new Kb("blockDragger");
function u(a,b,c){if(!(a instanceof Kb)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof b||""==b.trim())throw Error('Invalid name "'+b+'". The name must be a non-empty string.');b=b.toLowerCase();if(!c)throw Error("Can not register a null value");var d=Jb[a];d||(d=Jb[a]=Object.create(null));switch(a){case String(Ob):if("function"!=typeof c.S)throw Error('Type "'+
a+'" must have a fromJson function');}if(d[b])throw Error('Name "'+b+'" with type "'+a+'" already registered.');d[b]=c}function Wb(a,b,c){a=String(a).toLowerCase();b=b.toLowerCase();var d=Jb[a];if(!d||!d[b]){b="Unable to find ["+b+"]["+a+"] in the registry.";if(c)throw Error(b+" You must require or register a "+a+" plugin.");console.warn(b);return null}return d[b]}function Xb(a,b,c){b=b.plugins[a.toString()]||"default";return"function"==typeof b?b:Wb(a,b,c)};var Yb="",Zb=!0,v=0,$b=["create","move"],ac=[];function x(a){0==v&&(ac.length||setTimeout(bc,0),ac.push(a))}function bc(){for(var a=cc(ac,!0),b=ac.length=0,c;c=a[b];b++)if(c.Pb){var d=dc[c.Pb]||null;if(d){var e=c;if(e.Mb)for(d.Hg.push(e),d.jj.length=0;d.Hg.length>d.Bp&&0<=d.Bp;)d.Hg.shift();for(var f=0;c=d.tb[f];f++)c(e)}}}
function cc(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),e=0,f;f=a[e];e++)if(!f.bl()){var l=[f.Gn?"ui":f.type,f.pa,f.Pb].join(" "),m=d[l],n=m?m.event:null;if(!m)d[l]={event:f,index:e},c.push(f);else if("move"==f.type&&m.index==e-1)n.vg=f.vg,n.ug=f.ug,n.xf=f.xf,m.index=e;else if("change"==f.type&&f.element==n.element&&f.name==n.name)n.newValue=f.newValue;else if("viewport_change"==f.type)n.md=f.md,n.ld=f.ld,n.scale=f.scale,n.dj=f.dj;else if("click"!=f.type||"bubble_open"!=n.type)d[l]=
{event:f,index:e},c.push(f)}a=c.filter(function(q){return!q.bl()});b||a.reverse();for(e=1;f=a[e];e++)"change"==f.type&&"mutation"==f.element&&a.unshift(a.splice(e,1)[0]);return a}function y(a){Yb="boolean"==typeof a?a?mb():"":a}function ec(a){var b=[];a=tb(a,!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b}function A(a){return Wb(Nb,a)}
function fc(a){if(("move"==a.type||"create"==a.type)&&a.Pb){var b=dc[a.Pb]||null,c=b.qc(a.pa);if(c){a=Zb;try{Zb=!1;var d=c.getParent();if(d&&d.isEnabled()){var e=tb(c,!1);b=0;for(var f;f=e[b];b++)f.kc(!0)}else if((c.A||c.L)&&!b.jb()){do c.kc(!1),c=ub(c);while(c)}}finally{Zb=a}}}};function gc(a){this.Vu=a}gc.prototype.toString=function(){return this.Vu};var hc=new gc("animate"),ic=new gc("circle"),jc=new gc("clipPath"),kc=new gc("defs"),lc=new gc("feComposite"),mc=new gc("feGaussianBlur"),nc=new gc("fePointLight"),oc=new gc("feSpecularLighting"),pc=new gc("filter"),qc=new gc("foreignObject"),rc=new gc("g"),sc=new gc("image"),tc=new gc("line"),uc=new gc("path"),vc=new gc("pattern"),wc=new gc("polygon"),xc=new gc("rect"),yc=new gc("svg"),zc=new gc("text"),Ac=new gc("tspan");var Bc=null,Cc=0,Dc=null;function B(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",String(a));for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a}function C(a,b){var c=a.getAttribute("class")||"";a.setAttribute("class",c+" "+b)}
function Ec(a,b){for(var c=(a.getAttribute("class")||"").split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}function Fc(a,b){return-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" "+b+" ")}function D(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Gc(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)}
function Hc(a,b){a.style.transform=b;a.style["-webkit-transform"]=b}function Ic(){Cc++;Bc||(Bc=Object.create(null))}function Jc(){Cc--;Cc||(Bc=null)}function Kc(a,b,c,d){var e=a.textContent;a=e+"\n"+a.className.baseVal;var f;if(Bc&&(f=Bc[a]))return f;Dc||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),Dc=f.getContext("2d"));Dc.font=c+" "+b+" "+d;f=Dc.measureText(e).width;Bc&&(Bc[a]=f);return f}
function Lc(a,b,c,d){var e=document.createElement("span");e.style.font=c+" "+b+" "+d;e.textContent=a;a=document.createElement("div");a.style.width="1px";a.style.height=0;b=document.createElement("div");b.style.display="flex";b.style.position="fixed";b.style.top=0;b.style.left=0;b.appendChild(e);b.appendChild(a);document.body.appendChild(b);try{c={},b.style.alignItems="baseline",c.Sc=a.offsetTop-e.offsetTop,b.style.alignItems="flex-end",c.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(b)}return c}
;

function Mc(a,b,c,d,e){this.g=a;b=void 0===b?!0:b;c=void 0===c?!0:c;var f=b&&c;b&&(this.Ia=new Nc(a,!0,f,d,e));c&&(this.ta=new Nc(a,!1,f,d,e));f&&(this.zi=B(xc,{height:Oc,width:Oc,"class":"blocklyScrollbarBackground"},null),Gc(this.zi,a.Ad));this.va=null}g=Mc.prototype;g.o=function(){D(this.zi);this.va=this.g=this.zi=null;this.Ia&&(this.Ia.o(),this.Ia=null);this.ta&&(this.ta.o(),this.ta=null)};
g.resize=function(){var a=this.g.bc();if(a){var b=!1,c=!1;this.va&&this.va.yb==a.yb&&this.va.xb==a.xb&&this.va.Xb==a.Xb&&this.va.Qb==a.Qb?(this.va&&this.va.scrollWidth==a.scrollWidth&&this.va.ld==a.ld&&this.va.scrollLeft==a.scrollLeft||(b=!0),this.va&&this.va.scrollHeight==a.scrollHeight&&this.va.md==a.md&&this.va.scrollTop==a.scrollTop||(c=!0)):c=b=!0;if(b||c){try{v++,this.Ia&&b&&this.Ia.resize(a),this.ta&&c&&this.ta.resize(a)}finally{v--}Pc(this.g)}this.Ia&&this.ta&&(this.va&&this.va.yb==a.yb&&
this.va.Qb==a.Qb||this.zi.setAttribute("x",this.ta.position.x),this.va&&this.va.xb==a.xb&&this.va.Xb==a.Xb||this.zi.setAttribute("y",this.Ia.position.y));this.va=a}};g.Ml=function(a,b){this.Ia&&this.Ia.Ml(a,b);this.ta&&this.ta.Ml(a,b)};g.set=function(a,b,c){this.Ia&&this.Ia.set(a,!1);this.ta&&this.ta.set(b,!1);if(c||void 0===c)a={},this.Ia&&(a.x=Qc(this.Ia)),this.ta&&(a.y=Qc(this.ta)),this.g.tj(a)};g.Bg=function(a){this.Ia&&this.Ia.Bg(a);this.ta&&this.ta.Bg(a)};
g.isVisible=function(){var a=!1;this.Ia&&(a=this.Ia.isVisible());this.ta&&(a=a||this.ta.isVisible());return a};
function Nc(a,b,c,d,e){this.g=a;this.Bf=c||!1;this.kg=b;this.qg=void 0!==e?e:.5;this.ratio=this.va=null;this.pe(d);this.position=new k(0,0);a=Oc;b?(this.Nb.setAttribute("height",a),this.Wd.setAttribute("height",a),this.Pc.setAttribute("height",a-5),this.Pc.setAttribute("y",2.5),this.dl="width",this.Ar="x"):(this.Nb.setAttribute("width",a),this.Wd.setAttribute("width",a),this.Pc.setAttribute("width",a-5),this.Pc.setAttribute("x",2.5),this.dl="height",this.Ar="y");this.vr=p(this.Nb,"mousedown",this,
this.vu);this.wr=p(this.Pc,"mousedown",this,this.wu)}var Rc,Sc;g=Nc.prototype;g.Co=new k(0,0);g.Or=0;g.hd=0;g.mf=0;g.Oi=0;g.Kc=!0;g.cg=!0;var Oc=15;wb&&(Oc=25);g=Nc.prototype;g.o=function(){Tc();r(this.vr);this.vr=null;r(this.wr);this.wr=null;D(this.Wd);this.Nb=this.v=this.Wd=null;this.Pc&&(this.g.lb.unsubscribe(this.Pc),this.Pc=null);this.g=null};function Uc(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.hd)}function Vc(a,b){a.mf=b;a.Pc.setAttribute(a.dl,a.mf)}
function Wc(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.hd-a.mf)}function Xc(a,b){a.Oi=b;a.Pc.setAttribute(a.Ar,a.Oi)}function Yc(a,b){a.hd=b;a.Wd.setAttribute(a.dl,a.hd);a.Nb.setAttribute(a.dl,a.hd)}g.setPosition=function(a,b){this.position.x=a;this.position.y=b;Hc(this.Wd,"translate("+(this.position.x+this.Co.x)+"px,"+(this.position.y+this.Co.y)+"px)")};
g.resize=function(a){if(!a&&(a=this.g.bc(),!a))return;var b;(b=!this.va)||(b=this.va,b=!(a.yb==b.yb&&a.xb==b.xb&&a.ld==b.ld&&a.md==b.md&&a.Xb==b.Xb&&a.Qb==b.Qb&&a.scrollWidth==b.scrollWidth&&a.scrollHeight==b.scrollHeight&&a.scrollLeft==b.scrollLeft&&a.scrollTop==b.scrollTop));b&&(this.kg?(b=a,Zc(this,b)?$c(this,b):ad(this,b)):(b=a,Zc(this,b)?bd(this,b):cd(this,b)),this.va=a,dd(this))};function Zc(a,b){return a.va?a.va.yb!==b.yb||a.va.xb!==b.xb||a.va.Qb!==b.Qb||a.va.Xb!==b.Xb:!0}
function $c(a,b){var c=b.yb-2*a.qg;a.Bf&&(c-=Oc);Yc(a,Math.max(0,c));c=b.Qb+a.qg;a.Bf&&a.g.u&&(c+=Oc);a.setPosition(c,b.Xb+b.xb-Oc-a.qg);ad(a,b)}function ad(a,b){if(b.yb>=b.scrollWidth)Vc(a,a.hd),Xc(a,0),a.Bf||a.sa(!1);else{a.Bf||a.sa(!0);var c=a.hd*b.yb/b.scrollWidth;c=Uc(a,c);Vc(a,c);c=b.scrollWidth-b.yb;var d=a.hd-a.mf;b=(b.ld-b.scrollLeft)/c*d;b=Wc(a,b);Xc(a,b);a.ratio=d/c}}
function bd(a,b){var c=b.xb-2*a.qg;a.Bf&&(c-=Oc);Yc(a,Math.max(0,c));a.setPosition(a.g.u?b.Qb+a.qg:b.Qb+b.yb-Oc-a.qg,b.Xb+a.qg);cd(a,b)}function cd(a,b){if(b.xb>=b.scrollHeight)Vc(a,a.hd),Xc(a,0),a.Bf||a.sa(!1);else{a.Bf||a.sa(!0);var c=a.hd*b.xb/b.scrollHeight;c=Uc(a,c);Vc(a,c);c=b.scrollHeight-b.xb;var d=a.hd-a.mf;b=(b.md-b.scrollTop)/c*d;b=Wc(a,b);Xc(a,b);a.ratio=d/c}}
g.pe=function(a){var b="blocklyScrollbar"+(this.kg?"Horizontal":"Vertical");a&&(b+=" "+a);this.Wd=B(yc,{"class":b},null);this.v=B(rc,{},this.Wd);this.Nb=B(xc,{"class":"blocklyScrollbarBackground"},this.v);a=Math.floor((Oc-5)/2);this.Pc=B(xc,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.v);this.g.lb.subscribe(this.Pc,"scrollbarColour","fill");this.g.lb.subscribe(this.Pc,"scrollbarOpacity","fill-opacity");Gc(this.Wd,E(this.g))};g.isVisible=function(){return this.Kc};
g.Bg=function(a){var b=a!=this.cg;this.cg=a;b&&this.Kj()};g.sa=function(a){var b=a!=this.isVisible();if(this.Bf)throw Error("Unable to toggle visibility of paired scrollbars.");this.Kc=a;b&&this.Kj()};g.Kj=function(){this.cg&&this.isVisible()?this.Wd.setAttribute("display","block"):this.Wd.setAttribute("display","none")};
g.vu=function(a){ed(this.g);xb=null;Tc();if(fb(a))a.stopPropagation();else{var b=gb(a,E(this.g),fd(this.g));b=this.kg?b.x:b.y;var c=eb(this.Pc);c=this.kg?c.x:c.y;var d=this.Oi,e=.95*this.mf;b<=c?d-=e:b>=c+this.mf&&(d+=e);Xc(this,Wc(this,d));dd(this);a.stopPropagation();a.preventDefault()}};
g.wu=function(a){ed(this.g);Tc();fb(a)?a.stopPropagation():(this.Qu=this.Oi,gd(this.g),this.Or=this.kg?a.clientX:a.clientY,Rc=p(document,"mouseup",this,this.Bu),Sc=p(document,"mousemove",this,this.zu),a.stopPropagation(),a.preventDefault())};g.zu=function(a){Xc(this,Wc(this,this.Qu+((this.kg?a.clientX:a.clientY)-this.Or)));dd(this)};g.Bu=function(){hd(this.g);xb=null;Tc()};function Tc(){id(!0);Rc&&(r(Rc),Rc=null);Sc&&(r(Sc),Sc=null)}function Qc(a){a=a.Oi/(a.hd-a.mf);isNaN(a)&&(a=0);return a}
function dd(a){var b=Qc(a),c={};a.kg?c.x=b:c.y=b;a.g.tj(c)}g.set=function(a,b){Xc(this,Wc(this,a*this.ratio));(b||void 0===b)&&dd(this)};g.Ml=function(a,b){this.Co=new k(a,b)};function jd(a,b,c){if(c<a){var d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};
function kd(){this.Rd=null;this.Pb=void 0;this.group=Yb;this.Mb=Zb}g=kd.prototype;g.Gn=!1;g.X=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};g.S=function(a){this.Rd=!1;this.group=a.group};g.bl=function(){return!1};g.run=function(){};function ld(a){if(a.Pb)var b=dc[a.Pb]||null;if(!b)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return b};function F(a,b){a.j=b.prototype;a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function md(a,b){for(var c in b)a[c]=b[c]}function nd(a){return Object.values?Object.values(a):Object.keys(a).map(function(b){return a[b]})};function G(a){return document.createElementNS("https://developers.google.com/blockly/xml",a)};function od(a){for(var b=pd,c=G("xml"),d=qd(b),e=G("variables"),f=0,l;l=d[f];f++){var m=G("variable");m.appendChild(document.createTextNode(l.name));l.type&&m.setAttribute("type",l.type);m.id=l.V();e.appendChild(m)}e.hasChildNodes()&&c.appendChild(e);e=[].concat(b.Wl);1<e.length&&(b.fe.offset=Math.sin(3*Math.PI/180),b.u&&(b.fe.offset*=-1),e.sort(b.fe));for(d=0;f=e[d];d++)c.appendChild(f.Qv(a));b=b.pb(!0);for(d=0;e=b[d];d++)c.appendChild(rd(e,a));return c}
function rd(a,b){if(a.Cb()&&(a=sd(a,!1)[0],!a))return new DocumentFragment;var c;a.h.u&&(c=a.h.ye());b=td(a,b);var d=a.na();b.setAttribute("x",Math.round(a.h.u?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b}
function td(a,b){if(a.Cb())return(a=sd(a,!1)[0])?td(a):new DocumentFragment;var c=G(a.aa?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.ma){var d=a.ma();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}d=0;for(var e;e=a.C[d];d++)for(var f=0,l;l=e.ga[f];f++){var m=!1;l.name&&(l.Yf?m=!0:l.Vh&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),
m=!0));m?(m=G("field"),m.setAttribute("name",l.name||""),l=l.Xr(m)):l=null;l&&c.appendChild(l)}if(d=a.mc.text)e=a.mc.size,f=a.mc.Ko,l=G("comment"),l.appendChild(document.createTextNode(d)),l.setAttribute("pinned",f),l.setAttribute("h",e.height),l.setAttribute("w",e.width),c.appendChild(l);a.data&&(d=G("data"),d.appendChild(document.createTextNode(a.data)),c.appendChild(d));for(d=0;e=a.C[d];d++){var n;f=!0;5!=e.type&&(m=e.connection.K(),1==e.type?n=G("value"):3==e.type&&(n=G("statement")),l=e.connection.oh(),
!l||m&&m.aa||n.appendChild(ud(l,b)),m&&(l=td(m,b),l.nodeType==Node.ELEMENT_NODE&&(n.appendChild(l),f=!1)),n.setAttribute("name",e.name),f||c.appendChild(n))}void 0!=a.Be&&a.Be!=a.bu&&c.setAttribute("inline",a.Be);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.isEnabled()||c.setAttribute("disabled",!0);a.bd()||a.aa||c.setAttribute("deletable",!1);a.sb()||a.aa||c.setAttribute("movable",!1);a.fc()||c.setAttribute("editable",!1);if(d=ub(a))l=td(d,b),l.nodeType==Node.ELEMENT_NODE&&(n=G("next"),n.appendChild(l),
c.appendChild(n));l=a.F&&a.F.oh();!l||d&&d.aa||n.appendChild(ud(l,b));return c}function ud(a,b){for(var c=a=a.cloneNode(!0),d;c;)if(b&&"shadow"==c.nodeName&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;)d=c,c=c.parentNode,d.nodeType==Node.TEXT_NODE&&""==d.data.trim()&&c.firstChild!=d&&D(d);c&&(d=c,c=c.nextSibling,d.nodeType==Node.TEXT_NODE&&""==d.data.trim()&&D(d))}return a}
function vd(a){return(new XMLSerializer).serializeToString(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")}function wd(a){var b=(new DOMParser).parseFromString(a,"text/xml");if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement}
function xd(a,b){var c;b.u&&(c=b.ye());var d=[];Ic();var e=Yb;e||y(!0);b.Vb&&b.Vb(!1);var f=!0;try{for(var l=0,m;m=a.childNodes[l];l++){var n=m.nodeName.toLowerCase(),q=m;if("block"==n||"shadow"==n&&!Zb){var t=yd(q,b);d.push(t.id);var w=q.hasAttribute("x")?parseInt(q.getAttribute("x"),10):10,z=q.hasAttribute("y")?parseInt(q.getAttribute("y"),10):10;isNaN(w)||isNaN(z)||t.moveBy(b.u?c-w:w,z);f=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("variables"==n){if(f)for(var P=
void 0,Ta=b,qa=0;P=q.childNodes[qa];qa++){if(P.nodeType==Node.ELEMENT_NODE){var kb=P.getAttribute("type"),gf=P.getAttribute("id");Ta.nd(P.textContent,kb,gf)}}else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1}}}}finally{e||y(!1),Jc()}b.Vb&&b.Vb(!0);x(new (A("finished_loading"))(b))}
function yd(a,b){if(a instanceof zd){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}v++;c=b.eg();try{var d=Ad(a,b),e=tb(d,!1);if(b.N){Bd(d,!1);for(var f=e.length-1;0<=f;f--)e[f].Jc();for(f=e.length-1;0<=f;f--)e[f].U(!1);setTimeout(function(){d.Wc||Bd(d,!0)},1);Cd(d);Dd(b)}else for(f=e.length-1;0<=f;f--)e[f].lg()}finally{v--}if(0==v){a=Ed(b,c);for(f=0;f<a.length;f++)b=a[f],x(new (A("var_create"))(b));x(new (A("create"))(d))}return d}
function Fd(a,b){for(var c=0,d;d=a[c];c++){var e=d.textContent,f="true"==d.getAttribute("pinned"),l=parseInt(d.getAttribute("w"),10);d=parseInt(d.getAttribute("h"),10);b.Kf(e);b.mc.Ko=f;isNaN(l)||isNaN(d)||(b.mc.size=new Ia(l,d));f&&b.Nt&&!b.Ta&&setTimeout(function(){b.Uc.sa(!0)},1)}}function Gd(a){for(var b={mi:null,ni:null},c=0,d;d=a.childNodes[c];c++)d.nodeType==Node.ELEMENT_NODE&&("block"==d.nodeName.toLowerCase()?b.mi=d:"shadow"==d.nodeName.toLowerCase()&&(b.ni=d));return b}
function Ad(a,b,c,d){var e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");f=b.Vd(e,f);for(var l=[],m=[],n=[],q=[],t=[],w=[],z=0,P;P=a.childNodes[z];z++)if(P.nodeType!=Node.TEXT_NODE)switch(P.nodeName.toLowerCase()){case "mutation":l.push(P);break;case "comment":if(!Hd){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}m.push(P);break;case "data":n.push(P);break;case "title":case "field":q.push(P);break;
case "value":case "statement":t.push(P);break;case "next":w.push(P);break;default:console.warn("Ignoring unknown tag: "+P.nodeName)}z=!1;P=0;for(var Ta;Ta=l[P];P++)f.Ha&&(f.Ha(Ta),f.Jc&&(z=!0));l=z;Fd(m,f);for(m=0;z=n[m];m++)f.data=z.textContent;if(c)if(d)if(f.L)c.connect(f.L);else throw TypeError("Next block does not have previous statement.");else if(f.A)c.connect(f.A);else if(f.L)c.connect(f.L);else throw TypeError("Child block does not have output or previous statement.");for(c=0;m=q[c];c++)n=
m.getAttribute("name"),d=f,(z=Id(d,n))?z.Ok(m):console.warn("Ignoring non-existent field "+n+" in block "+d.type);for(q=0;d=t[q];q++){n=d.getAttribute("name");c=H(f,n);if(!c){console.warn("Ignoring non-existent input "+n+" in block "+e);break}d=Gd(d);if(d.mi){if(!c.connection)throw TypeError("Input connection does not exist.");Ad(d.mi,b,c.connection,!1)}d.ni&&c.connection.vj(d.ni)}for(e=0;t=w[e];e++){t=Gd(t);if(t.mi){if(!f.F)throw TypeError("Next statement does not exist.");if(f.F.isConnected())throw TypeError("Next statement is already connected.");
Ad(t.mi,b,f.F,!0)}t.ni&&f.F&&f.F.vj(t.ni)}l&&f.Jc();(b=a.getAttribute("inline"))&&f.Nc("true"==b);(b=a.getAttribute("disabled"))&&f.kc("true"!=b&&"disabled"!=b);if(b=a.getAttribute("deletable"))f.Hm="true"==b;(b=a.getAttribute("movable"))&&f.Ll("true"==b);(b=a.getAttribute("editable"))&&f.Yo("true"==b);(b=a.getAttribute("collapsed"))&&f.Jf("true"==b);if("shadow"==a.nodeName.toLowerCase()){a=sd(f,!1);for(b=0;w=a[b];b++)if(!w.aa)throw TypeError("Shadow block not allowed non-shadow child.");if(f.xe().length)throw TypeError("Shadow blocks cannot have variable references.");
f.ap(!0)}return f};function Jd(a){Jd.j.constructor.call(this);this.pa=(this.Rd="undefined"==typeof a)?"":a.id;this.Pb=this.Rd?"":a.h.id}F(Jd,kd);Jd.prototype.X=function(){var a=Jd.j.X.call(this);a.blockId=this.pa;return a};Jd.prototype.S=function(a){Jd.j.S.call(this,a);this.pa=a.blockId};function Kd(a,b,c,d,e){Kd.j.constructor.call(this,a);a&&(this.element="undefined"==typeof b?"":b,this.name="undefined"==typeof c?"":c,this.oldValue="undefined"==typeof d?"":d,this.newValue="undefined"==typeof e?"":e)}F(Kd,Jd);g=Kd.prototype;
g.type="change";g.X=function(){var a=Kd.j.X.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};g.S=function(a){Kd.j.S.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};g.bl=function(){return this.oldValue==this.newValue};
g.run=function(a){var b=ld(this).qc(this.pa);if(b)switch(b.Lb&&b.Lb.sa(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=Id(b,this.name))?b.$a(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Kf(a||null);break;case "collapsed":b.Jf(!!a);break;case "disabled":b.kc(!a);break;case "inline":b.Nc(!!a);break;case "mutation":var c="";b.ma&&(c=(c=b.ma())&&vd(c));if(b.Ha){var d=wd(a||"<mutation/>");b.Ha(d)}x(new Kd(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+
this.element)}else console.warn("Can't change non-existent block: "+this.pa)};function Ld(a){Ld.j.constructor.call(this,a);a&&(a.aa&&(this.Mb=!1),this.xml=a.h.N?rd(a):td(a),this.rf=ec(a))}F(Ld,Jd);Ld.prototype.type="create";Ld.prototype.X=function(){var a=Ld.j.X.call(this);a.xml=vd(this.xml);a.ids=this.rf;this.Mb||(a.recordUndo=this.Mb);return a};Ld.prototype.S=function(a){Ld.j.S.call(this,a);this.xml=wd(a.xml);this.rf=a.ids;void 0!==a.recordUndo&&(this.Mb=a.recordUndo)};
Ld.prototype.run=function(a){var b=ld(this);if(a)a=G("xml"),a.appendChild(this.xml),xd(a,b);else{a=0;for(var c;c=this.rf[a];a++){var d=b.qc(c);d?d.o(!1):c==this.pa&&console.warn("Can't uncreate non-existent block: "+c)}}};function Md(a){Md.j.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.aa&&(this.Mb=!1);this.Bh=a.h.N?rd(a):td(a);this.rf=ec(a)}}F(Md,Jd);Md.prototype.type="delete";
Md.prototype.X=function(){var a=Md.j.X.call(this);a.oldXml=vd(this.Bh);a.ids=this.rf;this.Mb||(a.recordUndo=this.Mb);return a};Md.prototype.S=function(a){Md.j.S.call(this,a);this.Bh=wd(a.oldXml);this.rf=a.ids;void 0!==a.recordUndo&&(this.Mb=a.recordUndo)};Md.prototype.run=function(a){var b=ld(this);if(a){a=0;for(var c;c=this.rf[a];a++){var d=b.qc(c);d?d.o(!1):c==this.pa&&console.warn("Can't delete non-existent block: "+c)}}else a=G("xml"),a.appendChild(this.Bh),xd(a,b)};
function Nd(a){Nd.j.constructor.call(this,a);a&&(a.aa&&(this.Mb=!1),a=Od(this),this.mr=a.xr,this.ir=a.Gq,this.io=a.$p)}F(Nd,Jd);g=Nd.prototype;g.type="move";g.X=function(){var a=Nd.j.X.call(this);this.vg&&(a.newParentId=this.vg);this.ug&&(a.newInputName=this.ug);this.xf&&(a.newCoordinate=Math.round(this.xf.x)+","+Math.round(this.xf.y));this.Mb||(a.recordUndo=this.Mb);return a};
g.S=function(a){Nd.j.S.call(this,a);this.vg=a.newParentId;this.ug=a.newInputName;if(a.newCoordinate){var b=a.newCoordinate.split(",");this.xf=new k(Number(b[0]),Number(b[1]))}void 0!==a.recordUndo&&(this.Mb=a.recordUndo)};function Pd(a){var b=Od(a);a.vg=b.xr;a.ug=b.Gq;a.xf=b.$p}function Od(a){var b=ld(a).qc(a.pa);a={};var c=b.getParent();if(c){if(a.xr=c.id,b=Qd(c,b))a.Gq=b.name}else a.$p=b.na();return a}g.bl=function(){return this.mr==this.vg&&this.ir==this.ug&&xa(this.io,this.xf)};
g.run=function(a){var b=ld(this),c=b.qc(this.pa);if(c){var d=a?this.vg:this.mr,e=a?this.ug:this.ir,f=a?this.xf:this.io;a=null;if(d&&(a=b.qc(d),!a)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&Rd(c);if(f)e=c.na(),c.moveBy(f.x-e.x,f.y-e.y);else{c=c.A||c.L;b=c.type;if(e){if(a=H(a,e))var l=a.connection}else 4==b&&(l=a.F);l?c.connect(l):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.pa)};
u(Nb,"create",Ld);u(Nb,"delete",Md);u(Nb,"change",Kd);u(Nb,"move",Nd);function Sd(a,b){this.m=a;this.type=b}g=Sd.prototype;g.M=null;g.Wc=!1;g.eh=null;g.Pl=null;g.x=0;g.y=0;g.zk=function(a){var b=this.G(),c=a.G();a.isConnected()&&a.disconnect();if(this.isConnected()){var d=this.oh(!0);this.Pl=null;var e=this.K();if(e.aa)e.o(!1);else{this.disconnect();var f=e}this.Pl=d}var l;0==v&&(l=new (A("move"))(c));if(!this||!a)throw Error("Cannot connect null connections.");this.M=a;a.M=this;c.Nl(b);l&&(Pd(l),x(l));f&&(a=1===this.type?f.A:f.L,(c=Td(c,a))?a.connect(c):a.po(this))};
g.o=function(){if(this.isConnected()){this.vj(null);var a=this.K();a&&Rd(a)}this.Wc=!0};g.G=function(){return this.m};function Ud(a){return 1==a.type||3==a.type}g.isConnected=function(){return!!this.M};g.po=function(){};g.connect=function(a){if(this.M!=a&&0==Vd(this,a,!1)){var b=Yb;b||y(!0);Ud(this)?this.zk(a):a.zk(this);b||y(!1)}};function Wd(a,b){var c=null;b=b.A;for(var d=0,e;e=a.C[d];d++)if((e=e.connection)&&0==Vd(b,e,!1)){if(c)return null;c=e}return c}
function Td(a,b){if(2===b.type){a:{b=b.G();for(var c;c=Wd(a,b);)if(a=c.K(),!a||a.aa){b=c;break a}b=null}return b}return(a=a.cl(!0))&&0==Vd(b,a,!1)?a:null}g.disconnect=function(){var a=this.M;if(!a)throw Error("Source connection not connected.");if(a.M!=this)throw Error("Target connection not connected to source connection.");if(Ud(this)){var b=this.m;var c=a.G();a=this}else b=a.G(),c=this.m;var d=Yb;d||y(!0);this.Lm(b,c);c.aa||a.oj();d||y(!1)};
g.Lm=function(a,b){var c;0==v&&(c=new (A("move"))(b));this.M=this.M.M=null;b.Nl(null);c&&(Pd(c),x(c))};g.oj=function(){var a=this.G(),b=this.oh();if(a.h&&b)if(a=yd(b,a.h),a.A)this.connect(a.A);else if(a.L)this.connect(a.L);else throw Error("Child block does not have output or previous statement.");};g.K=function(){return this.isConnected()?this.M.G():null};g.qr=function(){!this.isConnected()||this.M&&0==Vd(this,this.M,!1)||Rd(Ud(this)?this.K():this.m)};
g.Ua=function(a){a?(Array.isArray(a)||(a=[a]),this.eh=a,this.qr()):this.eh=null;return this};g.vj=function(a){this.Pl=a;a=this.K();a?a.aa&&(a.o(!1),this.oj()):this.oj()};g.oh=function(a){return a&&this.K().aa?td(this.K()):this.Pl};g.$q=function(){return[]};g.Od=function(){for(var a=null,b=this.m.C,c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a};function Vd(a,b,c,d){if(a&&b){if(Ud(a)){var e=a.G();var f=b.G()}else f=a.G(),e=b.G();e=e==f?1:b.type!=oa[a.type]?2:e.h!==f.h?5:e.aa&&!f.aa?6:0}else e=3;return 0!=e?e:Xd(a,b)?c&&!Yd(a,b,d||0)?7:0:4}function Xd(a,b){a=a.eh;b=b.eh;if(!a||!b)return!0;for(var c=0;c<a.length;c++)if(-1!=b.indexOf(a[c]))return!0;return!1}
function Yd(a,b,c){if(Zd(a,b)>c||b.G().Cb())return!1;switch(b.type){case 4:return a.M||-1!=$d.indexOf(b)?a=!1:b.M?(a=b.K(),a=a.Cb()?!(a.L&&a.L.K()):!1):a=!0,a;case 2:if(b.isConnected()&&!b.K().Cb()||a.isConnected())return!1;break;case 1:if(b.isConnected()&&!b.K().sb()&&!b.K().aa)return!1;break;case 3:if(b.isConnected()&&!a.G().F&&!b.K().aa&&b.K().F)return!1;break;default:return!1}return-1!=$d.indexOf(b)?!1:!0}u(Lb,"default",function(){});function ae(){this.name="classic";u(Rb,"classic",this)}ae.prototype.sd=function(){return this.name+"-theme"};var be={};be=new ae;function ce(a){if(!a)return null;if(a instanceof Element||"string"==typeof a){if(a){if("string"!=typeof a&&(Ma&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=wd(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;var b={contents:de(a)};a instanceof Node&&ee(a,b);a=b}b=a.kind;var c=a.contents;if(b&&"flyoutToolbox"!=b&&"categoryToolbox"!=b)throw Error("Invalid toolbox kind "+b+". Please supply either flyoutToolbox or categoryToolbox");
if(!c)throw Error("Toolbox must have a contents attribute.");return a}function fe(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:de(a):[]}function ge(a){if(!a)return!1;var b=a.kind;return b?"categoryToolbox"==b:!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length}
function de(a){var b=[],c=a.childNodes;c||(c=a);a=0;for(var d;d=c[a];a++)if(d.tagName){var e={},f=d.tagName.toUpperCase();e.kind=f;"BLOCK"==f?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=de(d));ee(d,e);b.push(e)}return b}function ee(a,b){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];-1<d.nodeName.indexOf("css-")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace("css-","")]=d.value):b[d.nodeName]=d.value}};function he(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,l=!1,m=!1,n=!1;else{c=ce(a.toolbox);d=ge(c);e=a.trashcan;void 0===e&&(e=d);var q=a.maxTrashcanContents;e?void 0===q&&(q=32):q=0;f=a.collapse;void 0===f&&(f=d);l=a.comments;void 0===l&&(l=d);m=a.disable;void 0===m&&(m=d);n=a.sounds;void 0===n&&(n=!0)}var t=!!a.rtl;var w="end"!==a.toolboxPosition==t?3:2;var z=a.css;void 0===z&&(z=!0);var P="https://blockly-demo.appspot.com/static/media/";a.media?P=a.media:a.path&&(P=a.path+"media/");var Ta=
void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,qa=a.renderer||"geras",kb=a.plugins||{};this.u=t;this.Ub=Ta;this.collapse=f;this.ri=l;this.disable=m;this.readOnly=b;this.Wn=a.maxBlocks||Infinity;this.il=a.maxInstances;this.Df=P;this.xq=d;b=a.move||{};f={};void 0===b.scrollbars&&void 0===a.scrollbars?f.scrollbars=d:"object"==typeof b.scrollbars?(f.scrollbars={},f.scrollbars.Qi=!!b.scrollbars.horizontal,f.scrollbars.vertical=!!b.scrollbars.vertical,f.scrollbars.Qi&&f.scrollbars.vertical?f.scrollbars=
!0:f.scrollbars.Qi||f.scrollbars.vertical||(f.scrollbars=!1)):f.scrollbars=!!b.scrollbars||!!a.scrollbars;f.Rh=f.scrollbars&&void 0!==b.wheel?!!b.wheel:"object"==typeof f.scrollbars;f.ue=f.scrollbars?void 0===b.drag?!0:!!b.drag:!1;this.Tb=f;this.Aq=e;this.jl=q;this.Zt=n;this.Xt=z;this.Ud=c;c=a.grid||{};d={};d.spacing=Number(c.spacing)||0;d.oi=c.colour||"#888";d.length=void 0===c.length?1:Number(c.length);d.Pv=0<d.spacing&&!!c.snap;this.wq=d;c=a.zoom||{};d={};d.controls=void 0===c.controls?!1:!!c.controls;
d.Rh=void 0===c.wheel?!1:!!c.wheel;d.Pr=void 0===c.startScale?1:Number(c.startScale);d.$i=void 0===c.maxScale?3:Number(c.maxScale);d.bj=void 0===c.minScale?.3:Number(c.minScale);d.Kr=void 0===c.scaleSpeed?1.2:Number(c.scaleSpeed);d.zr=void 0===c.pinch?d.Rh||d.controls:!!c.pinch;this.Pa=d;this.mb=w;this.mj=qa;this.nj=a.rendererOverrides;this.tn=null;this.fb=a.parentWorkspace;this.plugins=kb};function ie(a){ie.j.constructor.call(this);this.Qf=(this.Rd="undefined"==typeof a)?"":a.V();this.Pb=this.Rd?"":a.h.id}F(ie,kd);ie.prototype.X=function(){var a=ie.j.X.call(this);a.varId=this.Qf;return a};ie.prototype.S=function(a){ie.j.X.call(this);this.Qf=a.varId};function je(a){je.j.constructor.call(this,a);a&&(this.Kg=a.type,this.Jg=a.name)}F(je,ie);je.prototype.type="var_create";je.prototype.X=function(){var a=je.j.X.call(this);a.varType=this.Kg;a.varName=this.Jg;return a};
je.prototype.S=function(a){je.j.S.call(this,a);this.Kg=a.varType;this.Jg=a.varName};je.prototype.run=function(a){var b=ld(this);a?b.nd(this.Jg,this.Kg,this.Qf):b.se(this.Qf)};function ke(a){ke.j.constructor.call(this,a);a&&(this.Kg=a.type,this.Jg=a.name)}F(ke,ie);ke.prototype.type="var_delete";ke.prototype.X=function(){var a=ke.j.X.call(this);a.varType=this.Kg;a.varName=this.Jg;return a};ke.prototype.S=function(a){ke.j.S.call(this,a);this.Kg=a.varType;this.Jg=a.varName};
ke.prototype.run=function(a){var b=ld(this);a?b.se(this.Qf):b.nd(this.Jg,this.Kg,this.Qf)};function le(a,b){le.j.constructor.call(this,a);a&&(this.jo=a.name,this.co="undefined"==typeof b?"":b)}F(le,ie);le.prototype.type="var_rename";le.prototype.X=function(){var a=le.j.X.call(this);a.oldName=this.jo;a.newName=this.co;return a};le.prototype.S=function(a){le.j.S.call(this,a);this.jo=a.oldName;this.co=a.newName};le.prototype.run=function(a){var b=ld(this);a?b.Hf(this.Qf,this.co):b.Hf(this.Qf,this.jo)};
u(Nb,"var_create",je);u(Nb,"var_delete",ke);u(Nb,"var_rename",le);
function me(a){this.$=Object.create(null);this.h=a}g=me.prototype;g.clear=function(){this.$=Object.create(null)};g.Hf=function(a,b){var c=this.vd(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);a=this.Zc(b,c.type);var d=ne(this.h);y(!0);try{if(a&&a.V()!=c.V()){var e=c.type;b!=a.name&&oe(a,b,d);for(b=0;b<d.length;b++)d[b].Il(c.V(),a.V());x(new (A("var_delete"))(c));this.$[e].splice(this.Ni(e).indexOf(c),1)}else oe(c,b,d)}finally{y(!1)}};
function oe(a,b,c){x(new (A("var_rename"))(a,b));a.name=b;for(b=0;b<c.length;b++)c[b].Xl(a)}g.nd=function(a,b,c){var d=this.Zc(a,b);if(d){if(c&&d.V()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.V()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.vd(c))throw Error('Variable id, "'+c+'", is already in use.');b=b||"";d=new pe(this.h,a,b,c||mb());a=this.$[b]||[];a.push(d);delete this.$[b];this.$[b]=a;return d};
g.se=function(a){var b=this.vd(a);if(b){var c=b.name,d=this.sn(a);a=0;for(var e;e=d[a];a++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){a=I(e,"NAME");c=h.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);qe(c);return}var f=this;1<d.length?(c=h.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),re(c,function(l){l&&b&&se(f,b,d)})):se(f,b,d)}else console.warn("Can't delete non-existent variable: "+a)};
function se(a,b,c){var d=Yb;d||y(!0);try{for(var e=0;e<c.length;e++)c[e].o(!0);var f=a.$[b.type];a=0;for(var l;l=f[a];a++)if(l.V()==b.V()){f.splice(a,1);x(new (A("var_delete"))(b));break}}finally{d||y(!1)}}g.Zc=function(a,b){if(b=this.$[b||""])for(var c=0,d;d=b[c];c++)if(te(d.name,a))return d;return null};g.vd=function(a){for(var b=Object.keys(this.$),c=0;c<b.length;c++)for(var d=b[c],e=0,f;f=this.$[d][e];e++)if(f.V()==a)return f;return null};g.Ni=function(a){return(a=this.$[a||""])?a.slice():[]};
g.rn=function(a){var b={};md(b,this.$);a&&a.Ef&&md(b,a.Ef.$);a=Object.keys(b);b=!1;for(var c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};g.eg=function(){var a=[],b;for(b in this.$)a=a.concat(this.$[b]);return a};g.gn=function(){var a=[],b;for(b in this.$)for(var c=this.$[b],d=0,e;e=c[d];d++)a.push(e.name);return a};g.sn=function(a){for(var b=[],c=ne(this.h),d=0;d<c.length;d++){var e=c[d].xe();if(e)for(var f=0;f<e.length;f++)e[f].V()==a&&b.push(c[d])}return b};function zd(a){this.id=mb();dc[this.id]=this;this.options=a||new he({});this.u=!!this.options.u;this.mb=this.options.mb;new (Xb(Lb,this.options,!0))(this);this.Gj=[];this.Wl=[];Object.create(null);this.tb=[];this.Hg=[];this.jj=[];this.rm=Object.create(null);this.Xe=Object.create(null);this.$=new me(this);this.Ef=null}g=zd.prototype;g.N=!1;g.En=!1;g.Bp=1024;g.Bk=null;g.o=function(){this.tb.length=0;this.clear();delete dc[this.id]};
g.fe=function(a,b){a=a.na();b=b.na();return a.y+zd.prototype.fe.offset*a.x-(b.y+zd.prototype.fe.offset*b.x)};g.kk=function(a){this.Gj.push(a)};g.Hl=function(a){if(!rb(this.Gj,a))throw Error("Block not present in workspace's list of top-most blocks.");};g.pb=function(a){var b=[].concat(this.Gj);a&&1<b.length&&(this.fe.offset=Math.sin(3*Math.PI/180),this.u&&(this.fe.offset*=-1),b.sort(this.fe));return b};function ue(a,b){return a.Xe[b]?a.Xe[b].slice(0):[]}
function ne(a){var b=a.pb(!1);for(a=0;a<b.length;a++)b.push.apply(b,sd(b[a],!1));return b.filter(function(c){return!c.Cb()})}g.clear=function(){this.En=!0;try{var a=Yb;for(a||y(!0);this.Gj.length;)this.Gj[0].o(!1);for(;this.Wl.length;)this.Wl[this.Wl.length-1].o(!1);a||y(!1);this.$.clear();this.Ef&&this.Ef.clear()}finally{this.En=!1}};g.Hf=function(a,b){this.$.Hf(a,b)};g.nd=function(a,b,c){return this.$.nd(a,b,c)};g.sn=function(a){return this.$.sn(a)};g.se=function(a){this.$.se(a)};
g.Zc=function(a,b){return this.$.Zc(a,b)};g.vd=function(a){return this.$.vd(a)};g.Ni=function(a){return this.$.Ni(a)};g.rn=function(){return this.$.rn(this)};g.eg=function(){return this.$.eg()};g.gn=function(){return this.$.gn()};g.ye=function(){return 0};g.Vd=function(a,b){return new ve(this,a,b)};function we(a){return isNaN(a.options.Wn)?Infinity:a.options.Wn-ne(a).length}
function xe(a,b){if(!ye(a))return!0;var c=0,d;for(d in b){if(b[d]>(a.options.il?(void 0!==a.options.il[d]?a.options.il[d]:Infinity)-ue(a,d).length:Infinity))return!1;c+=b[d]}return c>we(a)?!1:!0}function ye(a){return Infinity!=a.options.Wn||!!a.options.il}function ze(a,b){var c=b?a.jj:a.Hg;a=b?a.Hg:a.jj;var d=c.pop();if(d){for(var e=[d];c.length&&d.group&&d.group==c[c.length-1].group;)e.push(c.pop());for(c=0;d=e[c];c++)a.push(d);e=cc(e,b);Zb=!1;try{for(c=0;d=e[c];c++)d.run(b)}finally{Zb=!0}}}
function Ae(a,b){a.tb.push(b)}g.qc=function(a){return this.rm[a]||null};g.Ol=function(a){this.$=a};var dc=Object.create(null);function Be(){var a=[],b;for(b in dc)a.push(dc[b]);return a};function Ce(a,b,c,d,e,f){this.g=a;this.yi=b;this.Ou=c;this.vo=this.uo=this.Zn=this.So=null;this.Wc=!1;c=De;this.g.u&&(c=-c);this.ut=c*Math.PI/180;a.Ad.appendChild(this.pe(b,!(!e||!f)));this.cb=d;this.Jl&&Ee(this);e&&f||(a=this.yi.getBBox(),e=a.width+2*Fe,f=a.height+2*Fe);this.sj(e,f);Ee(this);Ge(this);this.Jl=!0}var Fe=6,De=20,He=null,Ie=null;function Je(){He&&(r(He),He=null);Ie&&(r(Ie),Ie=null)}function Ke(){xb=null;Je()}g=Ce.prototype;g.Jl=!1;g.cb=null;g.Zd=0;g.Gf=0;g.ya=0;g.Jb=0;g.qm=!0;
g.pe=function(a,b){this.Tc=B(rc,{},null);var c={filter:"url(#"+this.g.Na.I().Lk+")"};Oa&&(c={});c=B(rc,c,this.Tc);this.Sp=B(uc,{},c);this.pk=B(xc,{"class":"blocklyDraggable",x:0,y:0,rx:Fe,ry:Fe},c);b?(this.Ne=B(rc,{"class":this.g.u?"blocklyResizeSW":"blocklyResizeSE"},this.Tc),b=2*Fe,B(wc,{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.Ne),B(tc,{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.Ne),B(tc,{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.Ne)):this.Ne=
null;this.g.options.readOnly||(this.uo=p(this.pk,"mousedown",this,this.xt),this.Ne&&(this.vo=p(this.Ne,"mousedown",this,this.Ju)));this.Tc.appendChild(a);return this.Tc};g.W=function(){return this.Tc};function Le(a,b){a.Tc.dataset&&(a.Tc.dataset.blockId=b)}g.xt=function(a){var b=this.g.ve(a);if(b){if(b.hg)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");b.Oc||(b.Oc=this);b.cd=a}};g.xj=function(){};g.bd=function(){return!1};g.Xo=function(){};
g.Ju=function(a){Me(this);Je();fb(a)||(this.g.Aj(a,new k(this.g.u?-this.ya:this.ya,this.Jb)),He=p(document,"mouseup",this,Ke),Ie=p(document,"mousemove",this,this.Ku),id());a.stopPropagation()};g.Ku=function(a){this.qm=!1;var b=this.g;a=gb(a,E(b),fd(b));a.x/=b.scale;a.y/=b.scale;b=Aa(b.kq,a);this.sj(this.g.u?-b.x:b.x,b.y);this.g.u&&Ee(this)};function Me(a){var b=a.Tc.parentNode;return b.lastChild!==a.Tc?(b.appendChild(a.Tc),!0):!1}
function Ne(a,b,c){var d=a.g.u?a.cb.x-b.x-a.ya:b.x+a.cb.x;b=b.y+a.cb.y;return Math.max(0,Math.min(1,(Math.min(d+a.ya,c.left+c.width)-Math.max(d,c.left))*(Math.min(b+a.Jb,c.top+c.height)-Math.max(b,c.top))/(a.ya*a.Jb)))}function Ee(a){var b=a.cb.x;b=a.g.u?b-(a.Zd+a.ya):b+a.Zd;a.moveTo(b,a.Gf+a.cb.y)}g.moveTo=function(a,b){this.Tc.setAttribute("transform","translate("+a+","+b+")")};g.Lf=function(a){!a&&this.Zn&&this.Zn()};g.hn=function(){return new Ia(this.ya,this.Jb)};
g.sj=function(a,b){var c=2*Fe;a=Math.max(a,c+45);b=Math.max(b,c+20);this.ya=a;this.Jb=b;this.pk.setAttribute("width",a);this.pk.setAttribute("height",b);this.Ne&&(this.g.u?this.Ne.setAttribute("transform","translate("+2*Fe+","+(b-c)+") scale(-1 1)"):this.Ne.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));if(this.qm){a=Oe(this.g.jc,!0);b=-this.ya/4;if(!(this.ya>a.width)){if(this.g.u){c=this.cb.x-b;var d=c-this.ya;var e=a.left+a.width,f=a.left+Oc/this.g.scale}else d=b+this.cb.x,c=d+this.ya,
f=a.left,e=a.left+a.width-Oc/this.g.scale;this.g.u?d<f?b=-(f-this.cb.x+this.ya):c>e&&(b=-(e-this.cb.x)):d<f?b=f-this.cb.x:c>e&&(b=e-this.cb.x-this.ya)}d=b;b=-this.Jb/4;if(!(this.Jb>a.height)){c=this.cb.y+b;e=c+this.Jb;f=a.top;var l=a.top+a.height-Oc/this.g.scale,m=this.cb.y;c<f?b=f-m:e>l&&(b=l-m-this.Jb)}f=b;e=this.Ou.getBBox();b={x:d,y:-this.Jb-this.g.Na.I().Yh};c={x:-this.ya-30,y:f};f={x:e.width,y:f};l={x:d,y:e.height};d=e.width<e.height?f:l;e=e.width<e.height?l:f;f=Ne(this,b,a);l=Ne(this,c,a);
m=Ne(this,d,a);a=Math.max(f,l,m,Ne(this,e,a));f==a?(this.Zd=b.x,this.Gf=b.y):l==a?(this.Zd=c.x,this.Gf=c.y):m==a?(this.Zd=d.x,this.Gf=d.y):(this.Zd=e.x,this.Gf=e.y)}Ee(this);Ge(this);this.So&&this.So()};
function Ge(a){var b=[],c=a.ya/2,d=a.Jb/2,e=-a.Zd,f=-a.Gf;if(c==e&&d==f)b.push("M "+c+","+d);else{f-=d;e-=c;a.g.u&&(e*=-1);var l=Math.sqrt(f*f+e*e),m=Math.acos(e/l);0>f&&(m=2*Math.PI-m);var n=m+Math.PI/2;n>2*Math.PI&&(n-=2*Math.PI);var q=Math.sin(n),t=Math.cos(n),w=a.hn();n=(w.width+w.height)/5;n=Math.min(n,w.width,w.height)/4;w=1-8/l;e=c+w*e;f=d+w*f;w=c+n*t;var z=d+n*q;c-=n*t;d-=n*q;q=m+a.ut;q>2*Math.PI&&(q-=2*Math.PI);m=Math.sin(q)*l/4;l=Math.cos(q)*l/4;b.push("M"+w+","+z);b.push("C"+(w+l)+","+
(z+m)+" "+e+","+f+" "+e+","+f);b.push("C"+e+","+f+" "+(c+l)+","+(d+m)+" "+c+","+d)}b.push("z");a.Sp.setAttribute("d",b.join(" "))}g.Va=function(a){this.pk.setAttribute("fill",a);this.Sp.setAttribute("fill",a)};g.o=function(){this.uo&&r(this.uo);this.vo&&r(this.vo);Je();D(this.Tc);this.Wc=!0};g.$n=function(a,b){a?a.Gg(b.x,b.y):this.moveTo(b.x,b.y);this.Zd=this.g.u?this.cb.x-b.x-this.ya:b.x-this.cb.x;this.Gf=b.y-this.cb.y;Ge(this)};
g.na=function(){return new k(this.g.u?-this.Zd+this.cb.x-this.ya:this.cb.x+this.Zd,this.cb.y+this.Gf)};function Pe(a){var b=B(zc,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Fe},null);a=a.split("\n");for(var c=0;c<a.length;c++)B(Ac,{dy:"1em",x:Fe},b).appendChild(document.createTextNode(a[c]));return b}
function Qe(a,b,c){c=new Ce(b.h,a,b.wa.Fa,c,null,null);Le(c,b.id);if(b.u){b=a.getBBox().width;for(var d=0,e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+Fe)}return c};var Re=!1;function Se(a){if(Re)throw Error("CSS already injected");Array.prototype.push.apply(Te,a);a.length=0}
var Te=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];function Ue(a){Ue.j.constructor.call(this);this.Rd="undefined"==typeof a;this.Pb=a?a:"";this.Mb=!1}F(Ue,kd);Ue.prototype.Gn=!0;function Ve(a,b,c,d){Ve.j.constructor.call(this,a?a.h.id:void 0);this.pa=a?a.id:null;this.element="undefined"==typeof b?"":b;this.oldValue="undefined"==typeof c?"":c;this.newValue="undefined"==typeof d?"":d}F(Ve,Ue);Ve.prototype.type="ui";
Ve.prototype.X=function(){var a=Ve.j.X.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.pa&&(a.blockId=this.pa);return a};Ve.prototype.S=function(a){Ve.j.S.call(this,a);this.element=a.element;this.newValue=a.newValue;this.pa=a.blockId};u(Nb,"ui",Ve);function We(a,b,c){We.j.constructor.call(this,a?a.h.id:void 0);this.pa=a?a.id:null;this.xh=b;this.tm=c}F(We,Ue);We.prototype.type="bubble_open";We.prototype.X=function(){var a=We.j.X.call(this);a.isOpen=this.xh;a.bubbleType=this.tm;a.blockId=this.pa;return a};We.prototype.S=function(a){We.j.S.call(this,a);this.xh=a.isOpen;this.tm=a.bubbleType;this.pa=a.blockId};u(Nb,"bubble_open",We);function Xe(a){this.D=a;this.dc=null}g=Xe.prototype;g.Yp=!0;g.fk=17;g.Xa=null;g.qf=null;function Ye(a){a.dc||(a.dc=B(rc,{"class":"blocklyIconGroup"},null),a.D.Ta&&C(a.dc,"blocklyIconGroupReadonly"),a.Pm(a.dc),a.D.W().appendChild(a.dc),p(a.dc,"mouseup",a,a.xn),a.Ye())}g.o=function(){D(this.dc);this.dc=null;this.sa(!1);this.D=null};g.Ye=function(){};g.isVisible=function(){return!!this.Xa};g.xn=function(a){this.D.h.jb()||this.D.Ta||fb(a)||this.sa(!this.isVisible())};
g.Wa=function(){this.isVisible()&&this.Xa.Va(this.D.style.ef)};function Ze(a){var b=a.D.na(),c=bb(a.dc);b=new k(b.x+c.x+a.fk/2,b.y+c.y+a.fk/2);xa(a.qf,b)||(a.qf=b,a.isVisible()&&(a=a.Xa,a.cb=b,a.Jl&&Ee(a)))};function $e(a){$e.j.constructor.call(this,a);Ye(this);this.Ue=Object.create(null)}F($e,Xe);g=$e.prototype;g.Yp=!1;g.Pm=function(a){B(uc,{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);B(uc,{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);B(xc,{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};g.sa=function(a){a!=this.isVisible()&&(x(new (A("bubble_open"))(this.D,a,"warning")),a?this.Ck():this.Jk())};
g.Ck=function(){this.xg=Pe(this.cc());this.Xa=Qe(this.xg,this.D,this.qf);this.Wa()};g.Jk=function(){this.Xa.o();this.xg=this.Xa=null};function af(a,b,c){a.Ue[c]!=b&&(b?a.Ue[c]=b:delete a.Ue[c],a.isVisible()&&(a.sa(!1),a.sa(!0)))}g.cc=function(){var a=[],b;for(b in this.Ue)a.push(this.Ue[b]);return a.join("\n")};g.o=function(){this.D.Qc=null;Xe.prototype.o.call(this)};function Hd(a){Hd.j.constructor.call(this,a);this.Kb=a.mc;this.Kb.text=this.Kb.text||"";this.wm="";this.vl=this.ql=this.Dl=this.zf=null;Ye(this)}F(Hd,Xe);g=Hd.prototype;
g.Pm=function(a){B(ic,{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);B(uc,{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);B(xc,{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
g.Dm=function(){this.Ki=B(qc,{x:Fe,y:Fe},null);var a=document.createElementNS("http://www.w3.org/1999/xhtml","body");a.setAttribute("xmlns","http://www.w3.org/1999/xhtml");a.className="blocklyMinimalBody";var b=this.Fg=document.createElementNS("http://www.w3.org/1999/xhtml","textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.D.u?"RTL":"LTR");b.value=this.Kb.text;bf(this);a.appendChild(b);this.Ki.appendChild(a);this.zf=p(b,"mouseup",this,this.Ru,!0,!0);this.Dl=p(b,"wheel",this,
function(c){c.stopPropagation()});this.ql=p(b,"change",this,function(){this.wm!=this.Kb.text&&x(new (A("change"))(this.D,"comment",null,this.wm,this.Kb.text))});this.vl=p(b,"input",this,function(){this.Kb.text=b.value});setTimeout(b.focus.bind(b),0);return this.Ki};g.Ye=function(){Hd.j.Ye.call(this);this.isVisible()&&(this.Jk(),this.Ck())};g.qu=function(){this.isVisible()&&(this.Kb.size=this.Xa.hn(),bf(this))};
function bf(a){var b=a.Kb.size,c=2*Fe,d=b.width-c;b=b.height-c;a.Ki.setAttribute("width",d);a.Ki.setAttribute("height",b);a.Fg.style.width=d-4+"px";a.Fg.style.height=b-4+"px"}g.sa=function(a){a!=this.isVisible()&&(x(new (A("bubble_open"))(this.D,a,"comment")),(this.Kb.Ko=a)?this.Ck():this.Jk())};
g.Ck=function(){!this.D.fc()||Ma?(this.xg=Pe(this.D.mc.text),this.Xa=Qe(this.xg,this.D,this.qf)):(this.Xa=new Ce(this.D.h,this.Dm(),this.D.wa.Fa,this.qf,this.Kb.size.width,this.Kb.size.height),Le(this.Xa,this.D.id),this.Xa.So=this.qu.bind(this));this.Wa()};g.Jk=function(){this.zf&&(r(this.zf),this.zf=null);this.Dl&&(r(this.Dl),this.Dl=null);this.ql&&(r(this.ql),this.ql=null);this.vl&&(r(this.vl),this.vl=null);this.Xa.o();this.xg=this.Ki=this.Fg=this.Xa=null};
g.Ru=function(){Me(this.Xa)&&this.Fg.focus();this.wm=this.Kb.text};g.hn=function(){return this.Kb.size};g.sj=function(a,b){this.Xa?this.Xa.sj(a,b):(this.Kb.size.width=a,this.Kb.size.height=b)};g.o=function(){this.D.pi=null;Xe.prototype.o.call(this)};Se(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(","));
var cf,df,ef,ff=null,hf=null,jf=null,kf=null,lf="",mf="";
function nf(){if(!cf){var a=document.createElement("div");a.className="blocklyDropDownDiv";(of||document.body).appendChild(a);cf=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);df=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);ef=b;cf.style.opacity=0;cf.style.transition="transform 0.25s, opacity 0.25s";a.addEventListener("focusin",function(){C(a,"blocklyFocused")});a.addEventListener("focusout",function(){Ec(a,"blocklyFocused")})}}
function pf(a,b){var c=qf(a);var d=new Ba(c.top,c.bottom,c.left,c.right);c=d.left+(d.right-d.left)/2;var e=d.bottom;d=d.top;for(var f=a.G(),l=f.h;l.options.fb;)l=l.options.fb;ff=E(l).parentNode;f=f.u;hf=a;kf=b||null;a=cf;a.style.direction=f?"rtl":"ltr";b=rf;lf=b.Na.sd();mf=b.we().sd();C(a,lf);C(a,mf);a=La(ff);b=Ja(ff);a={left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height};b=Ja(cf);e+b.height<a.bottom?c=sf(c,e,a,b):d-b.height>a.top?c=tf(c,d,a,b):e+b.height<document.documentElement.clientHeight?
c=sf(c,e,a,b):d-b.height>document.documentElement.clientTop?c=tf(c,d,a,b):(c=uf(c,a.left,a.right,b.width),c={zn:c.ih,An:0,$m:c.ih,an:0,nm:null,$g:null,pm:null,om:!1});a=c;a.om?(ef.style.display="",ef.style.transform="translate("+a.$g+"px,"+a.pm+"px) rotate(45deg)",ef.setAttribute("class",a.nm?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):ef.style.display="none";c=Math.floor(a.zn);e=Math.floor(a.An);d=Math.floor(a.$m);a=Math.floor(a.an);b=cf;b.style.left=c+"px";
b.style.top=e+"px";b.style.display="block";b.style.opacity=1;b.style.transform="translate("+(d-c)+"px,"+(a-e)+"px)"}function sf(a,b,c,d){a=uf(a,c.left,c.right,d.width);return{zn:a.ih,An:b,$m:a.ih,an:b+16,$g:a.$g,pm:-9,nm:!0,om:!0}}function tf(a,b,c,d){a=uf(a,c.left,c.right,d.width);return{zn:a.ih,An:b-d.height,$m:a.ih,an:b-d.height-16,$g:a.$g,pm:d.height-2-8,nm:!1,om:!0}}function uf(a,b,c,d){var e=a;a=jd(b,a-d/2,c-d);b=jd(12,e-8-a,d-12-16);return{$g:b,ih:a}}
function vf(){var a=cf;a.style.transform="translate(0, 0)";a.style.opacity=0;jf=setTimeout(function(){wf()},250);kf&&(kf(),kf=null)}function wf(){if(hf){jf&&clearTimeout(jf);var a=cf;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";kf&&(kf(),kf=null);df.textContent="";df.style.width="";hf=null;lf&&(Ec(a,lf),lf="");mf&&(Ec(a,mf),mf="");ed(rf)}};var xf=0,yf=null;function zf(a,b,c,d){var e=(new Date-c)/150;1<e?D(a):(a.setAttribute("transform","translate("+(a.av+(b?-1:1)*a.Pp.width*d/2*e)+","+(a.bv+a.Pp.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(zf,10,a,b,c,d))}function Af(a,b,c){var d=(new Date-b)/150;1<d?D(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,xf=setTimeout(Af,10,a,b,c))}
function Bf(a,b,c){var d=(new Date-c)/200;1<d?a.yj="":(a.yj="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",yf=a,xf=setTimeout(Bf,10,a,b,c));a.setAttribute("transform",a.Ij+a.yj)}function Cf(){if(yf){clearTimeout(xf);var a=yf;a.yj="";a.setAttribute("transform",a.Ij);yf=null}};function Df(a,b,c){Df.j.constructor.call(this,a?a.h.id:void 0);this.pa=a?a.id:null;this.Lq=b;this.Rp=c}F(Df,Ue);Df.prototype.type="drag";Df.prototype.X=function(){var a=Df.j.X.call(this);a.isStart=this.Lq;a.blockId=this.pa;a.blocks=this.Rp;return a};Df.prototype.S=function(a){Df.j.S.call(this,a);this.Lq=a.isStart;this.pa=a.blockId;this.Rp=a.blocks};u(Nb,"drag",Df);function Ef(){this.gf=Object.create(null);this.bh=Object.create(null)}function Ff(a,b){var c=b.component.id;if(a.gf[c])throw Error('Plugin "'+c+'" with capabilities "'+a.gf[c].Hd+'" already added.');a.gf[c]=b;for(var d=[],e=0;e<b.Hd.length;e++){var f=String(b.Hd[e]).toLowerCase();d.push(f);void 0===a.bh[f]?a.bh[f]=[c]:a.bh[f].push(c)}a.gf[c].Hd=d}
function Gf(a,b){var c=a.gf[b];if(c){for(var d=0;d<c.Hd.length;d++){var e=String(c.Hd[d]).toLowerCase();a.bh[e].splice(a.bh[e].indexOf(b),1)}delete a.gf[b]}}function Hf(a,b){var c=If;c=String(c).toLowerCase();return-1!==a.gf[b].Hd.indexOf(c)}function Jf(a,b){b=String(b).toLowerCase();b=a.bh[b];if(!b)return[];var c=[],d=[],e=a.gf;b.forEach(function(f){d.push(e[f])});d.sort(function(f,l){return f.weight-l.weight});d.forEach(function(f){c.push(f.component)});return c}function Kf(a){this.He=a}
Kf.prototype.toString=function(){return this.He};var Lf=new Kf("positionable"),Mf=new Kf("drag_target"),If=new Kf("delete_area"),Nf=new Kf("autohideable");function Of(a){this.Pf=J=a;this.g=a.h;this.uf=this.Jn=null;this.Ii=Pf(this,this.Pf);this.hc=this.hb=null;this.Cd=!1;this.Hi=this.wn=this.rg=null;this.mk=Qf(this)}Of.prototype.o=function(){this.mk.length=0;v++;try{this.Ii&&this.Ii.o(),this.uf&&this.uf.o()}finally{v--}};
Of.prototype.update=function(a,b){var c=28;for(var d=null,e=null,f=0;f<this.mk.length;f++){var l=this.mk[f],m=l.closest(c,a);m.connection&&(d=m.connection,e=l,c=m.Fl)}c={closest:d,local:e,Fl:c};if((this.Cd=this.ep(c,b))||Rf(this,c,a)){v++;c.closest?(a=this.hb!=c.closest,b=this.hc!=c.local,this.hb&&this.hc&&(a||b||this.Cd)&&Sf(this)):Sf(this);this.hc=this.hb=this.rg=null;if(!this.Cd&&(a=c.closest,b=c.local,a))if(a==this.hb||a.G().Cb())console.log("Trying to connect to an insertion marker");else{this.hb=
a;this.hc=b;a=this.hb;b=this.hc;c=this.Pf;2==b.type||4==b.type?((d=!a.isConnected())||(d=a.K(),d=!!Td(c,2===b.type?d.A:d.L)),b=d?0:2):b=0;switch(b){case 1:this.wn=this.hb.G();break;case 0:d=this.hc;b=this.hb;c=this.Jn&&d==this.Jn?this.uf:this.Ii;d=c.on(d.G(),d);if(d==this.rg)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");c.U();c.N=!0;c.W().setAttribute("visibility","visible");d&&b&&(3!=d.type&&1!=d.type||c.moveBy(b.x-d.x,b.y-d.y));b&&d.connect(b);this.rg=d;break;
case 2:this.Hi=this.hb.K(),Tf(this.Hi.wa,"blocklyReplaceable",!0)}a&&(c=a.m.h.Na.I(),b=Uf(c,a),1==a.type||2==a.type?(c=c.Zg,b=Vf(0,-c)+K("v",c)+b.ed+K("v",c)):(c=c.Zh-c.Ja,b=Vf(-c,0)+K("h",c)+b.Cf+K("h",c)),c=a.m.na(),Sd.Eq=B(uc,{"class":"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(a.x-c.x)+","+(a.y-c.y)+")"+(a.m.u?" scale(-1 1)":"")},a.m.W()))}v--}};
function Pf(a,b){var c=b.type;v++;try{var d=a.g.Vd(c);d.Lr(!0);if(b.ma){var e=b.ma();e&&d.Ha(e)}for(a=0;a<b.C.length;a++){var f=b.C[a];if("_TEMP_COLLAPSED_INPUT"!=f.name){var l=d.C[a];if(!l)throw Error("The insertion marker manager tried to create a marker but the result is missing an input. If you are using a mutator, make sure your domToMutation method is properly defined.");for(c=0;c<f.ga.length;c++){var m=f.ga[c],n=l.ga[c];if(!n)throw Error("The insertion marker manager tried to create a marker but the result is missing a field. If you are using a mutator, make sure your domToMutation method is properly defined.");
n.$a(m.Za())}}}d.Jf(b.isCollapsed());d.Nc(Wf(b));d.Jc();d.W().setAttribute("visibility","hidden")}finally{v--}return d}function Qf(a){var b=a.Pf.td(!1),c=a.Pf.cl(!0);if(c&&c!=a.Pf.F){b.push(c);a.Jn=c;if(a.uf){v++;try{a.uf.o()}finally{v--}}a.uf=Pf(a,c.G())}return b}
function Rf(a,b,c){var d=b.local,e=b.closest;b=b.Fl;if(d&&e){if(a.hc&&a.hb){if(a.hb==e&&a.hc==d)return!1;d=a.hc.x+c.x-a.hb.x;a=a.hc.y+c.y-a.hb.y;a=Math.sqrt(d*d+a*a);return!(e&&b>a-8)}if(a.hc||a.hb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.hc||!a.hb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}Of.prototype.ep=function(a,b){return b&&Hf(this.g.Cc,b.id)?b.pp(this.Pf,a&&!!a.closest):!1};
function Sf(a){a.hb&&a.hb.K()&&(D(Sd.Eq),delete Sd.Eq);if(a.Hi)Tf(a.Hi.wa,"blocklyReplaceable",!1),a.Hi=null;else if(a.wn)a.wn=null;else if(a.rg)if(a.rg){var b=a.rg,c=b.G(),d=c.F,e=c.L,f=c.A;f=1==b.type&&!(f&&f.M);!(b!=d||e&&e.M)||f?Rd(b.K(),!1):3==b.type&&b!=d?(d=b.M,Rd(d.G(),!1),e=e?e.M:null,Rd(c,!0),e&&e.connect(d)):Rd(c,!0);if(b.M)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.rg=null;(a=c.W())&&a.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
Of.prototype.nh=function(){var a=[];this.Ii&&a.push(this.Ii);this.uf&&a.push(this.uf);return a};function Xf(a,b){this.Ma=a;this.g=b;this.Nd=new Of(this.Ma);this.ib=null;this.Cd=!1;this.Qe=this.Ma.na();b=[];a=tb(a,!1);for(var c=0,d;d=a[c];c++){d=Yf(d);for(var e=0;e<d.length;e++)b.push({location:d[e].qf,icon:d[e]})}this.Kk=b}g=Xf.prototype;g.o=function(){this.Kk.length=0;this.Nd&&this.Nd.o()};
g.Aj=function(a,b){Yb||y(!0);var c=new (A("drag"))(this.Ma,!0,tb(this.Ma,!1));x(c);this.g.Wi&&Zf(this.Ma);Ic();this.g.Vb(!1);Cf();if(this.Ma.getParent()||b&&this.Ma.F&&this.Ma.F.K())Rd(this.Ma,b),a=this.Ch(a),a=Aa(this.Qe,a),this.Ma.translate(a.x,a.y),a=this.Ma,a.h.ke.play("disconnect"),1>a.h.scale||(b=$f(a).height,b=Math.atan(10/b)/Math.PI*180,a.u||(b*=-1),Bf(a.W(),b,new Date)),a=this.Nd,a.mk=Qf(a);this.Ma.Lf(!0);a=this.Ma;a.Pj&&(b=a.na(),a.W().removeAttribute("transform"),a.h.Ac.Gg(b.x,b.y),(b=
a.W())&&ag(a.h.Ac,b))};g.ue=function(a,b){b=this.Ch(b);this.Ma.$n(Aa(this.Qe,b));for(var c=0;c<this.Kk.length;c++){var d=this.Kk[c],e=d.icon;d=Aa(d.location,b);e.qf=d;e.isVisible()&&(e=e.Xa,e.cb=d,e.Jl&&Ee(e))}c=this.ib;this.ib=bg(this.g,a);this.Nd.update(b,this.ib);a=this.Cd;this.Cd=this.Nd.Cd;a!=this.Cd&&this.Ma.Xo(this.Cd);this.ib!==c&&(c&&c.tl(),this.ib&&this.ib.no());this.ib&&this.ib.oo()};
g.Fi=function(a,b){this.ue(a,b);this.Kk=[];a=new (A("drag"))(this.Ma,!1,tb(this.Ma,!1));x(a);Jc();Cf();b=this.Ch(b);a=Aa(this.Qe,b);var c=this.Ma;c.Pj&&(c.translate(a.x,a.y),c.h.Ac.vk(c.h.Ea));this.ib&&this.ib.ul();this.Cd?(cg(this),this.Ma.o(!1,!0),$d=[],a=!0):a=!1;if(!a)if(this.Ma.Lf(!1),b){dg(this.Ma,b.x,b.y);cg(this);if(this.Nd.hb){if(b=this.Nd,b.hb&&(v++,Sf(b),v--,b.hc.connect(b.hb),b.Pf.N)){c=(Ud(b.hc)?b.hb:b.hc).G();var d=c.h;a=d.scale;d.ke.play("click");if(!(1>a)){var e=eg(d,c.W());c.A?(e.x+=
(c.u?3:-3)*a,e.y+=13*a):c.L&&(e.x+=(c.u?-23:23)*a,e.y+=3*a);c=B(ic,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},E(d));Af(c,new Date,a)}Zf(b.Pf.ud())}}else this.Ma.U();fg(this.Ma)}else gg(this.Ma.h,this.g.jc.lf(!0),this.Ma);this.g.Vb(!0);y(!1)};function cg(a){var b=new (A("move"))(a.Ma);b.io=a.Qe;Pd(b);x(b)}g.Ch=function(a){a=new k(a.x/this.g.scale,a.y/this.g.scale);this.g.Wi&&a.scale(1/this.g.options.fb.scale);return a};g.nh=function(){return this.Nd&&this.Nd.nh?this.Nd.nh():[]};
u(Vb,"default",Xf);function hg(a,b){this.nc=a;this.g=b;this.ib=null;this.Sj=!1;this.Qe=this.nc.na();this.dg=ob()&&b.Ac?b.Ac:null}hg.prototype.o=function(){this.dg=this.g=this.nc=null};function ig(a,b,c){c=a.Ch(c);a.nc.$n(a.dg,Aa(a.Qe,c));c=a.ib;a.ib=bg(a.g,b);b=a.Sj;a.Sj=a.ep(a.ib);b!=a.Sj&&a.nc.Xo(a.Sj);a.ib!==c&&(c&&c.tl(),a.ib&&a.ib.no());a.ib&&a.ib.oo()}hg.prototype.ep=function(a){return a&&Hf(this.g.Cc,a.id)?a.pp(this.nc,!1):!1};
function jg(a,b,c){ig(a,b,c);b=a.Ch(c);b=Aa(a.Qe,b);a.nc.moveTo(b.x,b.y);a.ib&&a.ib.ul();a.Sj?a.nc.o(!1,!0):(a.dg&&a.dg.vk(a.g.Ad),a.nc.Lf&&a.nc.Lf(!1));a.g.Vb(!0);y(!1)}hg.prototype.Ch=function(a){a=new k(a.x/this.g.scale,a.y/this.g.scale);this.g.Wi&&a.scale(1/this.g.options.fb.scale);return a};function kg(a,b,c){kg.j.constructor.call(this,a?a.h.id:b);this.pa=a?a.id:null;this.Ur=c}F(kg,Ue);kg.prototype.type="click";kg.prototype.X=function(){var a=kg.j.X.call(this);a.targetType=this.Ur;this.pa&&(a.blockId=this.pa);return a};kg.prototype.S=function(a){kg.j.S.call(this,a);this.Ur=a.targetType;this.pa=a.blockId};u(Nb,"click",kg);var lg=!1,mg=!1,ng=0,og=0,pg=0,qg=0,rg=null,sg=null,tg=null;function ug(a){for(;a&&a.kd;){if("string"==typeof a.kd||"function"==typeof a.kd)return a;a=a.kd}return null}function vg(a){a.lu=Ib(a,"mouseover",null,wg);a.ju=Ib(a,"mouseout",null,xg);a.addEventListener("mousemove",yg,!1)}function zg(a){a&&(r(a.lu),r(a.ju),a.removeEventListener("mousemove",yg))}function wg(a){mg||(a=ug(a.currentTarget),rg!=a&&(Ag(),sg=null,rg=a),clearTimeout(ng))}
function xg(){mg||(ng=setTimeout(function(){sg=rg=null;Ag()},1),clearTimeout(og))}function yg(a){if(rg&&rg.kd&&!mg)if(lg){var b=pg-a.pageX;a=qg-a.pageY;10<Math.sqrt(b*b+a*a)&&Ag()}else sg!=rg&&(clearTimeout(og),pg=a.pageX,qg=a.pageY,og=setTimeout(Bg,750))}function Ag(){lg&&(lg=!1,tg&&(tg.style.display="none"));og&&clearTimeout(og)}
function Bg(){if(!mg&&(sg=rg,tg)){tg.textContent="";var a;if(a=ug(rg)){for(a=a.kd;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");}else a="";a=Fa(a,50);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));tg.appendChild(c)}a=rg.u;b=document.documentElement.clientWidth;c=document.documentElement.clientHeight;tg.style.direction=a?"rtl":"ltr";tg.style.display="block";lg=!0;
var d=pg;d=a?d-(0+tg.offsetWidth):d+0;var e=qg+10;e+tg.offsetHeight>c+window.scrollY&&(e-=tg.offsetHeight+20);a?d=Math.max(5-window.scrollX,d):d+tg.offsetWidth>b+window.scrollX-10&&(d=b-tg.offsetWidth-10);tg.style.top=e+"px";tg.style.left=d+"px"}};function Cg(a){this.g=a;this.Fq=Dg(this.g);this.js=Eg(this.g);this.Tu=new k(a.scrollX,a.scrollY)}Cg.prototype.o=function(){this.g=null};Cg.prototype.Aj=function(){J&&Fg(J);gd(this.g)};Cg.prototype.Fi=function(a){this.ue(a);hd(this.g)};Cg.prototype.ue=function(a){a=Aa(this.Tu,a);if(this.Fq&&this.js)this.g.scroll(a.x,a.y);else if(this.Fq)this.g.scroll(a.x,this.g.scrollY);else if(this.js)this.g.scroll(this.g.scrollX,a.y);else throw new TypeError("Invalid state.");};function Gg(a,b){this.Yq=null;this.Zb=new k(0,0);this.kb=this.Ob=this.Mh=this.Nh=this.Oc=null;this.Em=b;this.Ui=this.ng=this.Vi=this.gg=!1;this.cd=a;this.O=this.Mg=this.Gd=this.df=this.Cl=this.Bl=null;this.Bq=this.Zk=this.hg=this.Up=!1}g=Gg.prototype;g.o=function(){xb=null;mg=!1;this.Em.Sb=null;this.Bl&&r(this.Bl);this.Cl&&r(this.Cl);this.Gd&&this.Gd.o();this.Mg&&this.Mg.o();this.df&&this.df.o()};
function Hg(a,b){a.Zb=za(new k(b.clientX,b.clientY),a.Yq);if(a.gg)var c=!1;else c=a.Zb,a.gg=Math.sqrt(c.x*c.x+c.y*c.y)>(a.O?10:5),c=a.gg;if(c){if(a.Up)throw Error("updateIsDragging_ should only be called once per gesture.");a.Up=!0;a.Oc?(a.Ui=!0,a.df=new hg(a.Oc,a.kb),c=a.df,Yb||y(!0),c.g.Vb(!1),c.nc.qm=!1,c.dg&&(c.nc.moveTo(0,0),c.dg.Gg(c.Qe.x,c.Qe.y),ag(c.dg,c.nc.W())),c.nc.Lf&&c.nc.Lf(!0),ig(a.df,a.cd,a.Zb),c=!0):c=!1;if(!c){if(a.Ob){if(a.O){if(a.Ob&&a.Ob.isEnabled()){if(!(c=!Ig(a.O))){c=a.Zb;
c=Math.atan2(c.y,c.x)/Math.PI*180;var d=a.O.Ht;c=c<d&&c>-d||c<-180+d||c>180-d?!0:!1}c?(a.kb=a.O.Z,Jg(a.kb),Yb||y(!0),a.Mh=null,a.Ob=Kg(a.O,a.Ob),a.Ob.select(),c=!0):c=!1}else c=!1;a.ng=c}else a.Ob.sb()&&(a.ng=!0);a.ng?(a.Gd=new (Xb(Vb,a.Em.options,!0))(a.Ob,a.kb),a.Gd.Aj(a.Zb,a.Bq),a.Gd.ue(a.cd,a.Zb),c=!0):c=!1}else c=!1;if(c=!c)if(a.O)c=Ig(a.O);else if(c=a.kb)c=a.kb,c=c.options.Tb&&c.options.Tb.ue;c&&(a.Mg=new Cg(a.kb),a.Vi=!0,a.Mg.Aj())}Bb()}a.cd=b}
g.Mm=function(a){ab(a)?this.cancel():(this.hg=!0,Cf(),Jg(this.kb),this.kb.Wi&&this.kb.resize(),id(!!this.O),ed(this.kb),this.cd=a,Ag(),mg=!0,this.Ob&&this.Ob.select(),fb(a)?Cb(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||Ab(a,this),this.Yq=new k(a.clientX,a.clientY),this.Bq=a.altKey||a.ctrlKey||a.metaKey,this.Qp(a)))};
g.Qp=function(a){this.Bl=p(document,"mousemove",null,this.qh.bind(this));this.Cl=p(document,"mouseup",null,this.Uk.bind(this));a.preventDefault();a.stopPropagation()};g.qh=function(a){Hg(this,a);this.Vi?this.Mg.ue(this.Zb):this.ng?this.Gd.ue(this.cd,this.Zb):this.Ui&&ig(this.df,this.cd,this.Zb);a.preventDefault();a.stopPropagation()};
g.Uk=function(a){Hg(this,a);Bb();if(this.Zk)console.log("Trying to end a gesture recursively.");else{this.Zk=!0;if(this.Ui)jg(this.df,a,this.Zb);else if(this.ng)this.Gd.Fi(a,this.Zb);else if(this.Vi)this.Mg.Fi(this.Zb);else if(this.Oc&&!this.gg)this.Oc.Mu&&this.Oc.Mu(),this.Oc.select&&this.Oc.select();else if(Lg(this)){var b=this.Nh,c=this.cd;Mg(b)&&b.ee(c);Ng(this)}else!this.Mh||this.gg||Lg(this)?this.Mh||this.Oc||this.Nh||this.gg||(b=this.Em,J&&Fg(J),b=this.kb||b,x(new (A("click"))(null,b.id,"workspace"))):
(this.O&&this.O.cf?this.Ob.isEnabled()&&(Yb||y(!0),fg(Kg(this.O,this.Ob))):(b=new (A("click"))(this.Mh,this.kb.id,"block"),x(b)),Ng(this),y(!1));a.preventDefault();a.stopPropagation();this.o()}};g.cancel=function(){this.Zk||(Bb(),this.Ui?jg(this.df,this.cd,this.Zb):this.ng?this.Gd.Fi(this.cd,this.Zb):this.Vi&&this.Mg.Fi(this.Zb),this.o())};function Cb(a,b){a.Ob?(Ng(a),id(!!a.O),a.Ob.xj(b)):a.Oc?a.Oc.xj(b):a.kb&&!a.O&&(id(),a.kb.xj(b));b.preventDefault();b.stopPropagation();a.o()}
function Og(a,b,c){if(a.hg)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.kb||(a.kb=c);a.cd=b;a.Mm(b)}function Pg(a,b,c){if(a.hg)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.O||(a.O=c);Og(a,b,c.g)}function Ng(a){a.Ob&&!a.O&&Zf(a.Ob)}function Qg(a,b){a.Mh||a.Oc||(a.Mh=b,b.Ta&&b!=b.ud()?Rg(a,b.ud()):Rg(a,b))}function Rg(a,b){b.aa?Rg(a,b.getParent()):a.Ob=b}
function Lg(a){return(a.Nh?Mg(a.Nh):!1)&&!a.gg&&(!a.O||!a.O.cf)}g.jb=function(){return this.Vi||this.ng||this.Ui};g.nh=function(){return this.Gd?this.Gd.nh():[]};function Sg(){for(var a=Be(),b=0,c;c=a[b];b++)if(c.Sb)return!0;return!1};function Tg(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.Jj=a;this.Y=b;this.ns=null;(a=c||null)&&a.ls&&(this.ns=a.ls)}var Ug=!1;function Vg(a){return a?new Tg("field",a):null}function Wg(a){if(!a)return null;var b=a.type;return 1==b||3==b&&a.Od()?Xg(a.Od()):3==b?new Tg("next",a):2==b?new Tg("output",a):4==b?new Tg("previous",a):null}function Xg(a){return a&&a.connection?new Tg("input",a.connection):null}function Yg(a){return a?new Tg("block",a):null}
function Zg(a){return a?new Tg("stack",a):null}g=Tg.prototype;g.getType=function(){return this.Jj};function $g(a,b){a=a.Y;a instanceof ve||(a=a.G());if(!a||!a.h)return null;var c=a.ud();a=c.h.pb(!0);for(var d=0,e;e=a[d];d++)if(c.id==e.id)return b=d+(b?1:-1),-1==b||b==a.length?null:Zg(a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!");}function ah(a){if(!a)return null;do var b=a.L&&a.L.K();while(b&&ub(b)==a&&(a=b));return(b=a.L||a.A)&&b.M&&b.M.Od()?Xg(b.M.Od()):Zg(a)}
g.G=function(){return"block"===this.getType()?this.Y:"stack"===this.getType()?this.Y:"workspace"===this.getType()?null:this.Y.G()};
g.next=function(){switch(this.Jj){case "stack":return $g(this,!0);case "output":var a=this.Y;return Yg(a.G());case "field":a:{var b=this.Y,c=b.Od();a=b.G();b=c.ga.indexOf(b)+1;c=a.C.indexOf(c);for(var d;d=a.C[c];c++){for(var e=d.ga;b<e.length;){if(Mg(e[b])||Ug){a=Vg(e[b]);break a}b++}b=0;if(d.connection){a=Xg(d);break a}}a=null}return a;case "input":a:{b=this.Y.Od();a=b.G();for(b=a.C.indexOf(b)+1;c=a.C[b];b++){d=c.ga;e=0;for(var f;f=d[e];e++)if(Mg(f)||Ug){a=Vg(f);break a}if(c.connection){a=Xg(c);
break a}}a=null}return a;case "block":return Wg(this.Y.F);case "previous":return a=this.Y,Yg(a.G());case "next":return a=this.Y,Wg(a.M)}return null};g.sf=function(){switch(this.Jj){case "workspace":var a=this.Y.pb(!0);if(0<a.length)return Zg(a[0]);break;case "stack":a=this.Y;var b=a.L||a.A;return b?Wg(b):Yg(a);case "block":a=this.Y;a:{a=a.C;b=0;for(var c;c=a[b];b++){for(var d=c.ga,e=0,f;f=d[e];e++)if(Mg(f)||Ug){a=Vg(f);break a}if(c.connection){a=Xg(c);break a}}a=null}return a;case "input":return Wg(this.Y.M)}return null};
g.Le=function(){switch(this.Jj){case "stack":return $g(this,!1);case "field":a:{var a=this.Y;var b=a.Od();var c=a.G();a=b.ga.indexOf(a)-1;for(var d=c.C.indexOf(b),e;e=c.C[d];d--){if(e.connection&&e!==b){b=Xg(e);break a}for(e=e.ga;-1<a;){if(Mg(e[a])||Ug){b=Vg(e[a]);break a}a--}0<=d-1&&(a=c.C[d-1].ga.length-1)}b=null}return b;case "input":a:{b=this.Y.Od();c=b.G();for(a=c.C.indexOf(b);d=c.C[a];a--){if(d.connection&&d!==b){b=Xg(d);break a}d=d.ga;e=d.length-1;for(var f;f=d[e];e--)if(Mg(f)||Ug){b=Vg(f);
break a}}b=null}return b;case "block":return b=this.Y,Wg(b.L||b.A);case "previous":b=this.Y;if((b=b.M)&&!b.Od())return Wg(b);break;case "next":return b=this.Y,Yg(b.G())}return null};
g.Af=function(){switch(this.Jj){case "stack":var a=this.Y,b=a.na();a=a.h;return(b=new k(b.x,b.y+-20),a)?new Tg("workspace",a,{ls:b}):null;case "output":return b=this.Y,(a=b.M)?Wg(a):Zg(b.G());case "field":return Yg(this.Y.G());case "input":return b=this.Y,Yg(b.G());case "block":return a=this.Y,ah(a);case "previous":return b=this.Y,ah(b.G());case "next":return b=this.Y,ah(b.G())}return null};function bh(){this.Xc=this.Ec=this.oi=null;this.type="marker"}function ch(a,b){var c=a.Ec;a.Ec=b;a.Xc&&a.Xc.qd(c,a.Ec)}bh.prototype.qd=function(){this.Xc&&this.Xc.qd(this.Ec,this.Ec)};bh.prototype.Bb=function(){this.Xc&&this.Xc.Bb()};bh.prototype.o=function(){this.Xc&&this.Xc.o()};function dh(){dh.j.constructor.call(this);this.type="cursor"}F(dh,bh);dh.prototype.next=function(){var a=this.Ec;if(!a)return null;for(a=a.next();a&&a.next()&&("next"==a.getType()||"block"==a.getType());)a=a.next();a&&ch(this,a);return a};dh.prototype.sf=function(){var a=this.Ec;if(!a)return null;if("previous"==a.getType()||"output"==a.getType())a=a.next();(a=a.sf())&&ch(this,a);return a};
dh.prototype.Le=function(){var a=this.Ec;if(!a)return null;for(a=a.Le();a&&a.Le()&&("next"==a.getType()||"block"==a.getType());)a=a.Le();a&&ch(this,a);return a};dh.prototype.Af=function(){var a=this.Ec;if(!a)return null;(a=a.Af())&&"block"==a.getType()&&(a=a.Le()||a);a&&ch(this,a);return a};u(Mb,"default",dh);function eh(a){this.qe=this.Vc=null;this.Zi=Object.create(null);this.g=a}g=eh.prototype;g.mh=function(){return this.Vc};g.Mi=function(a){return this.Zi[a]||null};g.Oe=function(a){a?(this.g.Ea.appendChild(a),this.qe=a):this.qe=null};g.Mf=function(a){a?this.g.Ea&&(this.qe?this.g.Ea.insertBefore(a,this.qe):this.g.Ea.appendChild(a)):this.Ge=null};
g.o=function(){for(var a=Object.keys(this.Zi),b=0,c;c=a[b];b++){var d=this.Zi[c];if(d)d.o(),delete this.Zi[c];else throw Error("Marker with ID "+c+" does not exist. Can only unregister markers that exist.");}this.Zi=null;this.Vc&&(this.Vc.o(),this.Vc=null)};var fh,gh=null,hh=null,ih="",jh="";function kh(a,b,c){lh();gh=a;hh=c;a=fh;a.style.direction=b?"rtl":"ltr";a.style.display="block";b=rf;ih=b.Na.sd();jh=b.we().sd();C(a,ih);C(a,jh)}function lh(){if(gh){gh=null;var a=fh;a.style.display="none";a.style.left="";a.style.top="";hh&&hh();hh=null;a.textContent="";ih&&(Ec(a,ih),ih="");jh&&(Ec(a,jh),jh="");ed(rf)}}function mh(a,b,c){fh.style.left=a+"px";fh.style.top=b+"px";fh.style.height=c+"px"};function nh(a,b,c){this.xa=this.Sf;this.$r=this.Ig=null;this.Db=new Ia(0,0);this.i=this.Yn=this.Te=this.ub=this.Ga=this.oc=this.Ge=this.qe=null;c&&this.Rb(c);this.$a(a);b&&(this.Ig=b)}g=nh.prototype;g.Sf=null;g.name=void 0;g.Wc=!1;g.Xq=50;g.m=null;g.Td=!0;g.Rf=!0;g.wk=null;g.Vh=!0;g.Yf=!1;g.Rb=function(a){var b=a.tooltip;"string"==typeof b&&(b=ib(a.tooltip));b&&this.Da(b)};g.bp=function(a){if(this.m)throw Error("Field already bound to a block.");this.m=a};
g.I=function(){!this.i&&this.m&&this.m.h&&this.m.h.N&&(this.i=this.m.h.Na.I());return this.i};g.G=function(){return this.m};g.J=function(){this.oc||(this.oc=B(rc,{},null),this.isVisible()||(this.oc.style.display="none"),this.m.W().appendChild(this.oc),this.tf(),this.Ye(),this.Da(this.$r),vg(oh(this)),this.Yn=p(oh(this),"mousedown",this,this.yf),this.lg())};g.tf=function(){ph(this);qh(this)};g.lg=function(){};
function ph(a){a.Ga=B(xc,{rx:a.I().Zj,ry:a.I().Zj,x:0,y:0,height:a.Db.height,width:a.Db.width,"class":"blocklyFieldRect"},a.oc)}function qh(a){a.ub=B(zc,{"class":"blocklyText"},a.oc);a.I().bm&&a.ub.setAttribute("dominant-baseline","central");a.Te=document.createTextNode("");a.ub.appendChild(a.Te)}g.Ok=function(a){this.$a(a.textContent)};g.Xr=function(a){a.textContent=this.Za();return a};g.o=function(){hf===this&&vf();gh==this&&lh();zg(oh(this));this.Yn&&r(this.Yn);D(this.oc);this.Wc=!0};
g.Ye=function(){var a=this.oc;this.Vh&&a&&(this.m.fc()?(C(a,"blocklyEditableText"),Ec(a,"blocklyNonEditableText"),a.style.cursor=this.Wj):(C(a,"blocklyNonEditableText"),Ec(a,"blocklyEditableText"),a.style.cursor=""))};function Mg(a){return!!a.m&&a.m.fc()&&!!a.ee&&"function"===typeof a.ee}g.isVisible=function(){return this.Rf};g.sa=function(a){if(this.Rf!=a){this.Rf=a;var b=this.W();b&&(b.style.display=a?"block":"none")}};function rh(a,b){a.Ig=b}g.vq=function(){return this.Ig};g.W=function(){return this.oc};
g.Wa=function(){};g.Gh=function(){this.Te&&(this.Te.nodeValue=this.Sk());this.mp()};g.mp=function(a){var b=this.I();a=void 0!=a?a:this.Ga?this.I().Og:0;var c=2*a,d=b.$j,e=0;this.ub&&(e=Kc(this.ub,b.Qg+"pt",b.Rg,b.Pg),c+=e);this.Ga&&(d=Math.max(d,b.Zl));this.Db.height=d;this.Db.width=c;sh(this,a,e);th(this)};function sh(a,b,c){if(a.ub){var d=a.I(),e=a.Db.height/2;a.ub.setAttribute("x",a.m.u?a.Db.width-c-b:b);a.ub.setAttribute("y",d.bm?e:e-d.$j/2+d.xp)}}
function th(a){a.Ga&&(a.Ga.setAttribute("width",a.Db.width),a.Ga.setAttribute("height",a.Db.height),a.Ga.setAttribute("rx",a.I().Zj),a.Ga.setAttribute("ry",a.I().Zj))}g.getSize=function(){if(!this.isVisible())return new Ia(0,0);this.Td?(this.Gh(),this.Td=!1):this.Rf&&0==this.Db.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Gh());return this.Db};
function qf(a){if(a.Ga)b=a.Ga.getBoundingClientRect(),a=La(a.Ga),d=b.width,b=b.height;else{var b=$f(a.m),c=a.m.h.scale;a=La(oh(a));var d=b.width*c;b=b.height*c;Qa?(a.x+=1.5*c,a.y+=1.5*c):Na||Ma||(a.x-=.5*c,a.y-=.5*c);d+=1*c;b+=1*c}return new Ba(a.y,a.y+b,a.x,a.x+d)}g.Sk=function(){var a=this.cc();if(!a)return"\u00a0";a.length>this.Xq&&(a=a.substring(0,this.Xq-2)+"\u2026");a=a.replace(/\s/g,"\u00a0");this.m&&this.m.u&&(a+="\u200f");return a};
g.cc=function(){if(this.Tk){var a=this.Tk.call(this);if(null!==a)return String(a)}return String(this.Za())};g.Yi=function(){this.Td=!0;this.i=null};function uh(a){a.Td=!0;a.m&&a.m.N&&(a.m.U(),a.m.Ya(),a.lp())}
g.$a=function(a){if(null!==a){var b=this.te(a);a=vh(this,a,b);if(!(a instanceof Error)){if(b=this.vq())if(b=b.call(this,a),a=vh(this,a,b),a instanceof Error)return;b=this.m;if(!b||!b.Wc){var c=this.Za();c===a?this.pd(a):(b&&0==v&&x(new (A("change"))(b,"field",this.name||null,c,a)),this.pd(a),this.Td&&uh(this))}}}};function vh(a,b,c){if(null===c)return a.jq(),a.Td&&uh(a),Error();void 0!==c&&(b=c);return b}g.Za=function(){return this.xa};g.te=function(a){return null===a||void 0===a?null:a};
g.pd=function(a){this.xa=a;this.Td=!0};g.jq=function(){};g.yf=function(a){if(this.m&&this.m.h&&(a=this.m.h.ve(a))){if(a.hg)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Nh||(a.Nh=this)}};g.Da=function(a){a||""===a||(a=this.m);var b=oh(this);b?b.kd=a:this.$r=a};function oh(a){return a.wk||a.W()}g.kj=function(){return!1};g.Od=function(){for(var a=null,b=this.m,c=b.C,d=0;d<b.C.length;d++)for(var e=c[d],f=e.ga,l=0;l<f.length;l++)if(f[l]===this){a=e;break}return a};
g.tq=function(){return!1};g.Mq=function(){return!1};g.Oe=function(a){a?(this.oc.appendChild(a),this.qe=a):this.qe=null};g.Mf=function(a){a?(this.oc.appendChild(a),this.Ge=a):this.Ge=null};g.lp=function(){var a=this.m.h;a.zh&&this.qe&&a.mh().qd();a.zh&&this.Ge&&a.Mi("local_marker_1").qd()};function wh(a){var b=Wb(Ob,a.type);return b?b.S(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};function xh(a,b){a.setAttribute("role",b)}function yh(a,b,c){Array.isArray(c)&&(c=c.join(" "));a.setAttribute("aria-"+b,c)};var zh=0;function Ah(){return"blockly-"+(zh++).toString(36)};function Bh(a,b,c){Bh.j.constructor.call(this,a,b,c);this.Ie=this.zl=this.yl=this.Al=this.rl=this.pf=this.Ke=null}F(Bh,nh);Bh.S=function(a){return new Bh(a.colour,void 0,a)};g=Bh.prototype;g.Yf=!0;g.Wj="default";g.Td=!1;g.Am=null;g.Wr=null;g.yk=0;g.Rb=function(a){Bh.j.Rb.call(this,a);a.colourOptions&&(this.Am=a.colourOptions,this.Wr=a.colourTitles);a.columns&&(this.yk=a.columns)};
g.tf=function(){this.Db=new Ia(this.I().Es,this.I().Ds);this.I().vp?this.wk=this.m.W():(ph(this),this.Ga.style.fillOpacity="1")};g.Wa=function(){this.I().vp?(this.m.wa.Fa.setAttribute("fill",this.Za()),this.m.wa.Fa.setAttribute("stroke","#fff")):this.Ga&&(this.Ga.style.fill=this.Za())};g.te=function(a){return"string"!=typeof a?null:ra(a)};g.pd=function(a){this.xa=a;this.Ga?this.Ga.style.fill=a:this.m&&this.m.N&&(this.m.wa.Fa.setAttribute("fill",a),this.m.wa.Fa.setAttribute("stroke","#fff"))};
g.cc=function(){var a=this.xa;/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]);return a};var Ch="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");
Bh.prototype.Sf=Ch[0];var Dh=[],Eh=7;g=Bh.prototype;g.ee=function(){this.Vm();df.appendChild(this.Ke);pf(this,this.Wm.bind(this));this.Ke.focus({preventScroll:!0})};g.mo=function(a){a=(a=a.target)&&a.label;null!==a&&(this.$a(a),hf===this&&vf())};
g.to=function(a){var b=!1;if(38===a.keyCode)Fh(this,0,-1),b=!0;else if(40===a.keyCode)Fh(this,0,1),b=!0;else if(37===a.keyCode)Fh(this,-1,0),b=!0;else if(39===a.keyCode)Fh(this,1,0),b=!0;else if(13===a.keyCode){if(b=Gh(this))b=b&&b.label,null!==b&&this.$a(b);wf();b=!0}b&&a.stopPropagation()};
function Fh(a,b,c){var d=a.Am||Ch,e=a.yk||Eh,f=a.pf%e,l=Math.floor(a.pf/e);f+=b;l+=c;0>b?0>f&&0<l?(f=e-1,l--):0>f&&(f=0):0<b?f>e-1&&l<Math.floor(d.length/e)-1?(f=0,l++):f>e-1&&f--:0>c?0>l&&(l=0):0<c&&l>Math.floor(d.length/e)-1&&(l=Math.floor(d.length/e)-1);Hh(a,a.Ke.childNodes[l].childNodes[f],l*e+f)}g.Au=function(a){var b=(a=a.target)&&Number(a.getAttribute("data-index"));null!==b&&b!==this.pf&&Hh(this,a,b)};g.xu=function(){this.Ke.focus({preventScroll:!0})};
g.yu=function(){this.Ke.blur();var a=Gh(this);a&&Ec(a,"blocklyColourHighlighted")};function Gh(a){var b=a.yk||Eh,c=a.Ke.childNodes[Math.floor(a.pf/b)];return c?c.childNodes[a.pf%b]:null}function Hh(a,b,c){var d=Gh(a);d&&Ec(d,"blocklyColourHighlighted");C(b,"blocklyColourHighlighted");a.pf=c;yh(a.Ke,"activedescendant",b.getAttribute("id"))}
g.Vm=function(){var a=this.yk||Eh,b=this.Am||Ch,c=this.Wr||Dh,d=this.Za(),e=document.createElement("table");e.className="blocklyColourTable";e.tabIndex=0;e.dir="ltr";xh(e,"grid");yh(e,"expanded",!0);yh(e,"rowcount",Math.floor(b.length/a));yh(e,"colcount",a);for(var f,l=0;l<b.length;l++){0==l%a&&(f=document.createElement("tr"),xh(f,"row"),e.appendChild(f));var m=document.createElement("td");f.appendChild(m);m.label=b[l];m.title=c[l]||b[l];m.id=Ah();m.setAttribute("data-index",l);xh(m,"gridcell");yh(m,
"label",b[l]);yh(m,"selected",b[l]==d);m.style.backgroundColor=b[l];b[l]==d&&(m.className="blocklyColourSelected",this.pf=l)}this.rl=p(e,"click",this,this.mo,!0);this.Al=p(e,"mousemove",this,this.Au,!0);this.yl=p(e,"mouseenter",this,this.xu,!0);this.zl=p(e,"mouseleave",this,this.yu,!0);this.Ie=p(e,"keydown",this,this.to);this.Ke=e};
g.Wm=function(){this.rl&&(r(this.rl),this.rl=null);this.Al&&(r(this.Al),this.Al=null);this.yl&&(r(this.yl),this.yl=null);this.zl&&(r(this.zl),this.zl=null);this.Ie&&(r(this.Ie),this.Ie=null);this.pf=this.Ke=null};
Se([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;",
"outline: 1px solid #333;","position: relative;","}"]);u(Ob,"field_colour",Bh);function Ih(a,b,c,d){this.g=a;this.Vl=b;this.Ue=c.text;this.yg=new k(0,0);this.Ce=d;this.rk=c.callbackKey||c.callbackkey;this.aq=c["web-class"]||null;this.zf=null;this.info=c}g=Ih.prototype;g.width=0;g.height=0;
g.La=function(){var a=this.Ce?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.aq&&(a+=" "+this.aq);this.v=B(rc,{"class":a},this.g.Ea);if(!this.Ce)var b=B(xc,{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.v);a=B(xc,{"class":this.Ce?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.v);var c=B(zc,{"class":this.Ce?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.v),d=ib(this.Ue);this.g.u&&(d+="\u200f");c.textContent=d;this.Ce&&(this.hp=
c,this.g.lb.subscribe(this.hp,"flyoutForegroundColour","fill"));var e=Ka(c,"fontSize"),f=Ka(c,"fontWeight"),l=Ka(c,"fontFamily");this.width=Kc(c,e,f,l);d=Lc(d,e,f,l);this.height=d.height;this.Ce||(this.width+=10,this.height+=4,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",this.height/2-d.height/2+d.Sc);Jh(this);this.zf=p(this.v,"mouseup",this,this.Cu);
return this.v};g.show=function(){Jh(this);this.v.setAttribute("display","block")};function Jh(a){a.v.setAttribute("transform","translate("+a.yg.x+","+a.yg.y+")")}g.moveTo=function(a,b){this.yg.x=a;this.yg.y=b;Jh(this)};g.o=function(){this.zf&&r(this.zf);this.v&&D(this.v);this.hp&&this.g.lb.unsubscribe(this.hp)};
g.Cu=function(a){(a=this.Vl.ve(a))&&a.cancel();this.Ce&&this.rk?console.warn("Labels should not have callbacks. Label text: "+this.Ue):this.Ce||this.rk&&Kh(this.Vl,this.rk)?this.Ce||Kh(this.Vl,this.rk)(this):console.warn("Buttons should have callbacks. Button text: "+this.Ue)};Se(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(","));var L=Object.create(null);var Lh=Object.create(null);function Mh(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(Lh[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');Lh[a]=b}function Nh(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');Mh(a,function(){Oh(this,b)})}
function Ph(a,b,c,d){var e='Error when registering mutator "'+a+'": ';Qh(e,b.Ha,"domToMutation");Qh(e,b.ma,"mutationToDom");var f=Rh(b,e);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');Mh(a,function(){if(f){if(!Sh)throw Error(e+"Missing require for Blockly.Mutator");this.Kh(new Sh(d||[]))}Oh(this,b);c&&c.apply(this)})}
function Th(a,b,c){var d=Lh[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c){if(Uh(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);}else var e=Uh(b);d.apply(b);if(c){a='Error after applying mutator "'+a+'": ';if("function"!=typeof b.Ha)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.ma)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');
Rh(b,a)}else{a:if(c=e,b=Uh(b),b.length!=c.length)b=!1;else{for(d=0;d<b.length;d++)if(c[d]!=b[d]){b=!1;break a}b=!0}if(!b)throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');}}function Qh(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');}
function Rh(a,b){var c=void 0!==a.Id,d=void 0!==a.Ld;if(c&&d){if("function"!=typeof a.Id)throw Error(b+"compose must be a function.");if("function"!=typeof a.Ld)throw Error(b+"decompose must be a function.");return!0}if(!c&&!d)return!1;throw Error(b+'Must have both or neither of "compose" and "decompose"');}function Uh(a){var b=[];void 0!==a.Ha&&b.push(a.Ha);void 0!==a.ma&&b.push(a.ma);void 0!==a.Id&&b.push(a.Id);void 0!==a.Ld&&b.push(a.Ld);return b}
function Vh(a,b){var c=[];"object"==typeof document&&qb(function(){for(var d in b)lb(b[d])});return function(){this.type&&-1==c.indexOf(this.type)&&(Wh(this,a,b),c.push(this.type));this.Da(function(){var d=String(I(this,a)),e=b[d];null==e?-1==c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field "+a,null!=this.type&&(d+=" of block type "+this.type),console.warn(d+".")):e=ib(e);return e}.bind(this))}}
function Wh(a,b,c){var d=Id(a,b);if(!Xh(d)){d=Yh(d);for(var e=0;e<d.length;++e){var f=d[e][1];null==c[f]&&console.warn("No tooltip mapping for value "+f+" of field "+b+" of block type "+a.type)}}}function Zh(a){"object"==typeof document&&qb(function(){lb(a)});return function(){this.Da(function(){var b=Id(this,"VAR");return ib(a).replace("%1",b?b.cc():"")}.bind(this))}}Mh("parent_tooltip_when_inline",function(){this.Yu=this.kd;this.Da(function(){var a=this.getParent();return a&&Wf(a)&&a.kd||this.Yu}.bind(this))});function $h(a,b,c){this.tk=null;$h.j.constructor.call(this,a,null,c);c||(this.tk=b||null)}F($h,nh);$h.prototype.Sf="";$h.S=function(a){var b=ib(a.text);return new $h(b,void 0,a)};$h.prototype.Vh=!1;$h.prototype.Rb=function(a){$h.j.Rb.call(this,a);this.tk=a["class"]};$h.prototype.tf=function(){qh(this);this.tk&&C(this.ub,this.tk)};$h.prototype.te=function(a){return null===a||void 0===a?null:String(a)};u(Ob,"field_label",$h);function ai(a,b,c,d){if(5!=a&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.m=c;this.connection=d;this.ga=[]}g=ai.prototype;g.align=-1;g.Rf=!0;g.G=function(){return this.m};function M(a,b,c){bi(a,a.ga.length,b,c);return a}
function bi(a,b,c,d){if(0>b||b>a.ga.length)throw Error("index "+b+" out of bounds.");if(!(c||""==c&&d))return b;"string"==typeof c&&(c=wh({type:"field_label",text:c}));c.bp(a.m);a.m.N&&(c.J(),c.Wa());c.name=d;c.sa(a.isVisible());c.Mo&&(b=bi(a,b,c.Mo));a.ga.splice(b,0,c);++b;c.gp&&(b=bi(a,b,c.gp));a.m.N&&(a.m=a.m,a.m.U(),a.m.Ya());return b}g.isVisible=function(){return this.Rf};
g.sa=function(a){if(this.Rf!=a){this.Rf=a;for(var b=0,c;c=this.ga[b];b++)c.sa(a);if(this.connection){this.connection=this.connection;if(a)ci(this.connection);else if(b=this.connection,di(b,!1),b.M)for(b=tb(b.K(),!1),c=0;c<b.length;c++){for(var d=b[c],e=d.td(!0),f=0;f<e.length;f++)di(e[f],!1);d=Yf(d);for(f=0;f<d.length;f++)d[f].sa(!1)}if(b=this.connection.K())b.W().style.display=a?"block":"none"}}};g.Yi=function(){for(var a=0,b;b=this.ga[a];a++)b.Yi()};
g.Ua=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Ua(a);return this};function ei(a,b){a.align=b;a.m.N&&(a.m=a.m,a.m.U());return a}g.vj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.vj(a)};g.oh=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.oh()};g.J=function(){if(this.m.h.N)for(var a=0;a<this.ga.length;a++)this.ga[a].J()};
g.o=function(){for(var a=0,b;b=this.ga[a];a++)b.o();this.connection&&this.connection.o();this.m=null};function ve(a,b,c){if(fi&&"undefined"!=typeof fi.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!a.qc(c)?c:mb();a.rm[this.id]=this;this.L=this.F=this.A=null;this.C=[];this.Be=void 0;this.disabled=!1;this.kd="";this.contextMenu=!0;this.Xd=null;this.me=[];this.mq=this.Zq=this.Hm=!0;this.ag=this.aa=!1;this.pi=null;this.mc={text:null,Ko:!1,size:new Ia(160,80)};this.os=new k(0,0);this.h=a;this.Ta=a.wd;this.u=a.u;this.wh=!1;this.Pd=void 0;this.N=
null;if(b){this.type=b;c=L[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+b);md(this,c)}a.kk(this);a.Xe[this.type]||(a.Xe[this.type]=[]);a.Xe[this.type].push(this);(a=Yb)||y(!0);b=Zb;try{"function"==typeof this.J&&(Zb=!1,this.J(),Zb=b),0==v&&x(new (A("create"))(this))}finally{a||y(!1),Zb=b}this.bu=this.Be;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.ej&&rb(this.h.tb,this.ej);if(this.onchange=a)this.ej=
a.bind(this),Ae(this.h,this.ej)}}g=ve.prototype;g.data=null;g.Wc=!1;g.Hb="#000000";g.Dg="";
g.o=function(a){if(this.h){this.ej&&rb(this.h.tb,this.ej);Rd(this,a);0==v&&x(new (A("delete"))(this));v++;try{if(this.h){this.h.Hl(this);var b=this.h;b.Xe[this.type].splice(b.Xe[this.type].indexOf(this),1);b.Xe[this.type].length||delete b.Xe[this.type];delete this.h.rm[this.id];this.h=null}J==this&&(J=null);for(var c=this.me.length-1;0<=c;c--)this.me[c].o(!1);c=0;for(var d;d=this.C[c];c++)d.o();this.C.length=0;var e=this.td(!0);c=0;for(var f;f=e[c];c++)f.o()}finally{v--,this.Wc=!0}}};
g.lg=function(){for(var a=0,b;b=this.C[a];a++)for(var c=0,d;d=b.ga[c];c++)d.lg&&d.lg()};
function Rd(a,b){if(a.A){var c=null;a.A.isConnected()&&(c=a.A.M,a.A.disconnect());if(c&&b){a:{b=null;for(var d=0;d<a.C.length;d++){var e=a.C[d].connection;if(e&&1==e.type&&e.M){if(b){a=null;break a}b=e}}a=b}a&&a.isConnected()&&!a.K().aa&&(a=a.M,a.disconnect(),0==Vd(a,c,!1)?c.connect(a):a.po(c))}}else a.L&&(c=null,a.L.isConnected()&&(c=a.L.M,a.L.disconnect()),d=ub(a),b&&d&&!d.aa&&(a=a.F.M,a.disconnect(),c&&0==Vd(c,a,!1)&&c.connect(a)))}
g.td=function(){var a=[];this.A&&a.push(this.A);this.L&&a.push(this.L);this.F&&a.push(this.F);for(var b=0,c;c=this.C[b];b++)c.connection&&a.push(c.connection);return a};g.cl=function(a){for(var b=this.F;b;){var c=b.K();if(!c||a&&c.aa)return b;b=c.F}return null};g.Ya=function(){};g.getParent=function(){return this.Xd};function Qd(a,b){for(var c=0,d;d=a.C[c];c++)if(d.connection&&d.connection.K()==b)return d;return null}
function gi(a){do{var b=a;a=a.getParent();if(!a)return null}while(ub(a)==b);return a}function ub(a){return a.F&&a.F.K()}g.ud=function(){var a=this;do{var b=a;a=b.Xd}while(a);return b};function sd(a,b){if(!b)return a.me;b=[];for(var c=0,d;d=a.C[c];c++)d.connection&&(d=d.connection.K())&&b.push(d);(a=ub(a))&&b.push(a);return b}
g.Nl=function(a){if(a!=this.Xd){if(this.Xd){rb(this.Xd.me,this);if(this.L&&this.L.isConnected())throw Error("Still connected to previous block.");if(this.A&&this.A.isConnected())throw Error("Still connected to parent block.");this.Xd=null}else this.h.Hl(this);(this.Xd=a)?a.me.push(this):this.h.kk(this)}};function tb(a,b){var c=[a];a=sd(a,b);for(var d,e=0;d=a[e];e++)c.push.apply(c,tb(d,b));return c}g.bd=function(){return this.Hm&&!this.aa&&!(this.h&&this.h.options.readOnly)};
g.sb=function(){return this.Zq&&!this.aa&&!(this.h&&this.h.options.readOnly)};g.Ll=function(a){this.Zq=a};g.ap=function(a){this.aa=a};g.Cb=function(){return this.wh};g.Lr=function(a){this.wh=a};g.fc=function(){return this.mq&&!(this.h&&this.h.options.readOnly)};g.Yo=function(a){this.mq=a;a=0;for(var b;b=this.C[a];a++)for(var c=0,d;d=b.ga[c];c++)d.Ye()};
g.on=function(a,b){var c=this.td(!0);a=a.td(!0);if(c.length!=a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]==b)return c[d];return null};g.Da=function(a){this.kd=a};g.mn=function(){return this.Hb};g.Va=function(a){this.Hb=vb(a).Pi};g.Pe=function(a){this.Dg=a};
function Id(a,b){if("string"!==typeof b)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===b?"nothing":b+" of type "+typeof b)+" instead");for(var c=0,d;d=a.C[c];c++)for(var e=0,f;f=d.ga[e];e++)if(f.name===b)return f;return null}g.$c=function(){for(var a=[],b=0,c;c=this.C[b];b++)for(var d=0,e;e=c.ga[d];d++)e.kj()&&a.push(e.Za());return a};
g.xe=function(){for(var a=[],b=0,c;c=this.C[b];b++)for(var d=0,e;e=c.ga[d];d++)e.kj()&&(e=this.h.vd(e.Za()))&&a.push(e);return a};g.Xl=function(a){for(var b=0,c;c=this.C[b];b++)for(var d=0,e;e=c.ga[d];d++)e.kj()&&a.V()==e.Za()&&uh(e)};g.Il=function(a,b){for(var c=0,d;d=this.C[c];c++)for(var e=0,f;f=d.ga[e];e++)f.kj()&&a==f.Za()&&f.$a(b)};function I(a,b){return(a=Id(a,b))?a.Za():null}function hi(a,b,c){a=Id(a,c);if(!a)throw Error('Field "'+c+'" not found.');a.$a(b)}
g.ce=function(a,b){if(a){void 0===b&&(b=null);if(!this.L){if(this.A)throw Error("Remove output connection prior to adding previous connection.");this.L=this.Xi(4)}this.L.Ua(b)}else if(this.L){if(this.L.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.L.o();this.L=null}};
g.ae=function(a,b){if(a)void 0===b&&(b=null),this.F||(this.F=this.Xi(3)),this.F.Ua(b);else if(this.F){if(this.F.isConnected())throw Error("Must disconnect next statement before removing connection.");this.F.o();this.F=null}};
g.vc=function(a,b){if(a){void 0===b&&(b=null);if(!this.A){if(this.L)throw Error("Remove previous connection prior to adding output connection.");this.A=this.Xi(2)}this.A.Ua(b)}else if(this.A){if(this.A.isConnected())throw Error("Must disconnect output value before removing connection.");this.A.o();this.A=null}};g.Nc=function(a){this.Be!=a&&(x(new (A("change"))(this,"inline",null,this.Be,a)),this.Be=a)};
function Wf(a){if(void 0!=a.Be)return a.Be;for(var b=1;b<a.C.length;b++)if(5==a.C[b-1].type&&5==a.C[b].type)return!1;for(b=1;b<a.C.length;b++)if(1==a.C[b-1].type&&5==a.C[b].type)return!0;return!1}g.isEnabled=function(){return!this.disabled};g.kc=function(a){this.isEnabled()!=a&&(x(new (A("change"))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function ii(a){for(a=gi(a);a;){if(a.disabled)return!0;a=gi(a)}return!1}g.isCollapsed=function(){return this.ag};
g.Jf=function(a){this.ag!=a&&(x(new (A("change"))(this,"collapsed",null,this.ag,a)),this.ag=a)};
g.toString=function(a,b){function c(q){var t=q.eh;!t&&q.M&&(t=q.M.eh);return!!t&&(-1!=t.indexOf("Boolean")||-1!=t.indexOf("Number"))}function d(){l&&l.getType()==m.getType()&&l.Y==m.Y&&(l=null)}var e=[];b=b||"?";var f=Ug;Ug=!0;for(var l=Yg(this),m=l;l;){switch(l.getType()){case "input":var n=l.Y;l.sf()?c(n)&&e.push("("):e.push(b);break;case "field":n=l.Y,"_TEMP_COLLAPSED_FIELD"!=n.name&&e.push(n.cc())}n=l;l=n.sf()||n.next();if(!l){l=n.Af();for(d();l&&!l.next();)l=l.Af(),d(),l&&"input"==l.getType()&&
c(l.Y)&&e.push(")");l&&(l=l.next())}}Ug=f;for(b=2;b<e.length;b++)"("==e[b-2]&&")"==e[b]&&(e[b-2]=e[b-1],e.splice(b-1,2));e=e.reduce(function(q,t){return q+("("==q.substr(-1)||")"==t?"":" ")+t},"");e=e.trim()||"???";a&&e.length>a&&(e=e.substring(0,a-3)+"...");return e};function ji(a,b){return a.Fd(1,b)}function N(a,b){return a.Fd(5,b||"")}
function ki(a,b){var c=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");b.style&&b.style.Pd&&(a.Pd=b.style.Pd,b.style=null);if(b.style&&b.colour)throw Error(c+"Must not have both a colour and a style.");if(b.style){var d=b.style;try{a.Pe(d)}catch(kb){console.warn(c+"Style does not exist: ",d)}}else if("colour"in b)if(void 0===b.colour)console.warn(c+"Undefined colour value.");else{d=b.colour;try{a.Va(d)}catch(kb){console.warn(c+
"Illegal colour value: ",d)}}for(d=0;void 0!==b["message"+d];){var e=a,f=b["args"+d]||[],l=b["lastDummyAlign"+d],m=c,n=jb(b["message"+d],!0),q=e;var t=n;for(var w=f.length,z=[],P=0,Ta=0;Ta<t.length;Ta++){var qa=t[Ta];if("number"==typeof qa){if(1>qa||qa>w)throw Error('Block "'+q.type+'": Message index %'+qa+" out of range.");if(z[qa])throw Error('Block "'+q.type+'": Message index %'+qa+" duplicated.");z[qa]=!0;P++}}if(P!=w)throw Error('Block "'+q.type+'": Message does not reference all '+w+" arg(s).");
q=f;f=[];for(t=0;t<n.length;t++){w=n[t];"number"==typeof w&&(w=q[w-1]);if("string"==typeof w&&(w=li(w),!w))continue;f.push(w)}(n=f.length)&&!mi(f[n-1].type)&&(n={type:"input_dummy"},l&&(n.align=l),f.push(n));l=f;f=[];for(n=0;t=l[n];n++)if(mi(t.type)){q=e;w=m;P={LEFT:-1,RIGHT:1,CENTRE:0,CENTER:0};z=null;switch(t.type){case "input_value":z=ji(q,t.name);break;case "input_statement":z=q.Fd(3,t.name);break;case "input_dummy":z=N(q,t.name)}z?(t.check&&z.Ua(t.check),t.align&&(q=P[t.align.toUpperCase()],
void 0===q?console.warn(w+"Illegal align value: ",t.align):ei(z,q)),q=z):q=null;if(q){for(t=0;w=f[t];t++)M(q,w[0],w[1]);f.length=0}}else(q=ni(e,t))&&f.push([q,t.name]);d++}void 0!==b.inputsInline&&a.Nc(b.inputsInline);void 0!==b.output&&a.vc(!0,b.output);void 0!==b.previousStatement&&a.ce(!0,b.previousStatement);void 0!==b.nextStatement&&a.ae(!0,b.nextStatement);void 0!==b.tooltip&&(d=b.tooltip,d=ib(d),a.Da(d));void 0!==b.enableContextMenu&&(d=b.enableContextMenu,a.contextMenu=!!d);void 0!==b.helpUrl&&
(d=b.helpUrl,d=ib(d),a.rb=d);"string"==typeof b.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&Th(b.mutator,a,!0);b=b.extensions;if(Array.isArray(b))for(c=0;c<b.length;++c)Th(b[c],a,!1)}function Oh(a,b){var c=[],d;for(d in b)void 0!==a[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));md(a,b)}
function ni(a,b){var c=wh(b);return!c&&b.alt?"string"==typeof b.alt?(b=li(b.alt))?ni(a,b):null:ni(a,b.alt):c}function mi(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}function li(a){return(a=a.trim())?{type:"field_label",text:a}:null}g.Fd=function(a,b){var c=null;if(1==a||3==a)c=this.Xi(a);a=new ai(a,b,this,c);this.C.push(a);return a};
function oi(a,b,c){if(b!=c){for(var d=-1,e=c?-1:a.C.length,f=0,l;l=a.C[f];f++)if(l.name==b){if(d=f,-1!=e)break}else if(c&&l.name==c&&(e=f,-1!=d))break;if(-1==d)throw Error('Named input "'+b+'" not found.');if(-1==e)throw Error('Reference input "'+c+'" not found.');a.ao(d,e)}}
g.ao=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.C.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.C.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.C[a];this.C.splice(a,1);a<b&&b--;this.C.splice(b,0,c)};g.Aa=function(a,b){for(var c=0,d;d=this.C[c];c++)if(d.name==a)return d.o(),this.C.splice(c,1),!0;if(b)return!1;throw Error("Input not found: "+a);};
function H(a,b){for(var c=0,d;d=a.C[c];c++)if(d.name==b)return d;return null}function pi(a,b){return(a=H(a,b))&&a.connection&&a.connection.K()}g.Kf=function(a){this.mc.text!=a&&(x(new (A("change"))(this,"comment",null,this.mc.text,a)),this.pi=this.mc.text=a)};g.Lh=function(){};g.Kh=function(){};g.na=function(){return this.os};g.moveBy=function(a,b){if(this.Xd)throw Error("Block has parent.");var c=new (A("move"))(this);this.os.translate(a,b);Pd(c);x(c)};g.Xi=function(a){return new Sd(this,a)};function fi(a){this.He=a;this.Ks=new RegExp(this.ua,"g")}g=fi.prototype;g.Sg=null;g.bb=null;g.Ba=null;g.Qa="  ";g.rp=60;g.bi=[];g.pg=null;
function qi(a,b){b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=rf);var c=[];a.J(b);b=b.pb(!0);for(var d=0,e;e=b[d];d++){var f=ri(a,e);Array.isArray(f)&&(f=f[0]);f&&(e.A&&(f=a.Wo(f),a.bb&&!e.Se&&(f=O(a.bb,e)+f),a.Ba&&!e.Se&&(f+=O(a.Ba,e))),c.push(f))}c=c.join("\n");c=a.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");return c=c.replace(/[ \t]+\n/g,"\n")}function si(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function ti(a){var b=[];a=tb(a,!0);for(var c=0;c<a.length;c++){var d=a[c].mc.text;d&&b.push(d)}b.length&&b.push("");return b.join("\n")}
function ri(a,b){!1===a.pg&&console.warn("Generator init was not called before blockToCode was called.");if(!b)return"";if(!b.isEnabled())return ri(a,ub(b));if(b.Cb())return ri(a,sd(b,!1)[0]);var c=a[b.type];if("function"!=typeof c)throw Error('Language "'+a.He+'" does not know how to generate code for block type "'+b.type+'".');c=c.call(b,b);if(Array.isArray(c)){if(!b.A)throw TypeError("Expecting string from statement block: "+b.type);return[a.Hh(b,c[0]),c[1]]}if("string"==typeof c)return a.bb&&
!b.Se&&(c=O(a.bb,b)+c),a.Ba&&!b.Se&&(c+=O(a.Ba,b)),a.Hh(b,c);if(null===c)return"";throw SyntaxError("Invalid code generated: "+c);}
function Q(a,b,c,d){if(isNaN(d))throw TypeError("Expecting valid order from block: "+b.type);var e=pi(b,c);if(!e)return"";c=ri(a,e);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+e.type);b=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+e.type);if(!b)return"";e=!1;var f=Math.floor(d),l=Math.floor(c);if(f<=l&&(f!=l||0!=f&&99!=f))for(e=!0,f=0;f<a.bi.length;f++)if(a.bi[f][0]==d&&a.bi[f][1]==c){e=!1;break}e&&(b="("+b+")");
return b}function ui(a,b,c){b=pi(b,c);c=ri(a,b);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(b&&b.type));c&&(c=si(c,a.Qa));return c}function vi(a,b,c){a.Sg&&(b=si(O(a.Sg,c),a.Qa)+b);a.Ba&&!c.Se&&(b=si(O(a.Ba,c),a.Qa)+b);a.bb&&!c.Se&&(b+=si(O(a.bb,c),a.Qa));return b}function O(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}g.ek="";function wi(a,b){a.ek+=b+","}g.ua="{leCUI8hutHZI4480Dc}";
function R(a,b,c){if(!a.Ca[b]){var d=xi(a.P,b,"PROCEDURE");a.fn[b]=d;c=c.join("\n").replace(a.Ks,d);for(var e;e!=c;)e=c,c=c.replace(/^(( {2})*) {2}/gm,"$1\x00");c=c.replace(/\0/g,a.Qa);a.Ca[b]=c}return a.fn[b]}g.J=function(){this.Ca=Object.create(null);this.fn=Object.create(null)};g.Hh=function(a,b){return b};g.finish=function(a){delete this.Ca;delete this.fn;return a};g.Wo=function(a){return a};var S=new fi("JavaScript");wi(S,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(pa).join(","));S.Ra=0;S.tv=1.1;S.H=1.2;S.B=2;S.pv=3;S.mv=3;S.Ys=4.1;S.wv=4.2;S.di=4.3;S.lc=4.4;S.vv=4.5;S.xv=4.6;S.nv=4.7;S.jv=4.8;
S.Ep=5;S.fm=5.1;S.$h=5.2;S.ai=5.3;S.bf=6.1;S.Ed=6.2;S.$s=7;S.ci=8;S.ov=8;S.qv=8;S.Dp=9;S.Xs=10;S.bt=11;S.Zs=12;S.Vf=13;S.Wf=14;S.ie=15;S.Uf=16;S.yv=17;S.af=18;S.s=99;S.bi=[[S.B,S.H],[S.B,S.B],[S.H,S.H],[S.H,S.B],[S.lc,S.lc],[S.fm,S.fm],[S.Ed,S.Ed],[S.Vf,S.Vf],[S.Wf,S.Wf]];S.pg=!1;
S.J=function(a){Object.getPrototypeOf(this).J.call(this);this.P?this.P.reset():this.P=new yi(this.ek);this.P.Ol(a.$);zi(this.P,a);Ai(this.P,a);for(var b=[],c=Bi(a),d=0;d<c.length;d++)b.push(this.P.za(c[d],Ci));a=qd(a);for(d=0;d<a.length;d++)b.push(this.P.za(a[d].V(),"VARIABLE"));b.length&&(this.Ca.variables="var "+b.join(", ")+";");this.pg=!0};S.finish=function(a){var b=nd(this.Ca);a=Object.getPrototypeOf(this).finish.call(this,a);this.pg=!1;this.P.reset();return b.join("\n\n")+"\n\n\n"+a};
S.Wo=function(a){return a+";\n"};S.Lc=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};S.bo=function(a){return a.split(/\n/g).map(this.Lc).join(" + '\\n' +\n")};S.Hh=function(a,b){var c="";if(!a.A||!a.A.M){var d=a.mc.text;d&&(d=Fa(d,this.rp-3),c+=si(d+"\n","// "));for(var e=0;e<a.C.length;e++)1==a.C[e].type&&(d=a.C[e].connection.K())&&(d=ti(d))&&(c+=si(d,"// "))}a=a.F&&a.F.K();a=ri(this,a);return c+b+a};
S.Ab=function(a,b,c,d,e){c=c||0;e=e||this.s;a.h.options.Ub&&c--;var f=a.h.options.Ub?"1":"0";a=0<c?Q(this,a,b,this.Ed)||f:0>c?Q(this,a,b,this.bf)||f:d?Q(this,a,b,this.di)||f:Q(this,a,b,e)||f;if(Di(a))a=Number(a)+c,d&&(a=-a);else{if(0<c){a=a+" + "+c;var l=this.Ed}else 0>c&&(a=a+" - "+-c,l=this.bf);d&&(a=c?"-("+a+")":"-"+a,l=this.di);l=Math.floor(l);e=Math.floor(e);l&&e>=l&&(a="("+a+")")}return a};var T=new fi("Python");wi(T,"False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip");
T.Ra=0;T.kv=1;T.uv=1;T.H=2.1;T.B=2.2;T.Ep=3;T.dk=4;T.Ys=4;T.zc=5;T.Tf=6;T.$s=7;T.Xs=8;T.bt=9;T.Zs=10;T.ci=11;T.lc=12;T.Vf=13;T.Wf=14;T.ie=15;T.rv=16;T.s=99;T.bi=[[T.B,T.H],[T.B,T.B],[T.H,T.H],[T.H,T.B],[T.lc,T.lc],[T.Vf,T.Vf],[T.Wf,T.Wf]];T.pg=!1;
T.J=function(a){Object.getPrototypeOf(this).J.call(this);this.Xf=this.Qa+"pass\n";this.P?this.P.reset():this.P=new yi(this.ek);this.P.Ol(a.$);zi(this.P,a);Ai(this.P,a);for(var b=[],c=Bi(a),d=0;d<c.length;d++)b.push(this.P.za(c[d],Ci)+" = None");a=qd(a);for(d=0;d<a.length;d++)b.push(this.P.za(a[d].V(),"VARIABLE")+" = None");this.Ca.variables=b.join("\n");this.pg=!0};
T.finish=function(a){var b=[],c=[],d;for(d in this.Ca){var e=this.Ca[d];e.match(/^(from\s+\S+\s+)?import\s+\S+/)?b.push(e):c.push(e)}a=Object.getPrototypeOf(this).finish.call(this,a);this.pg=!1;this.P.reset();return(b.join("\n")+"\n\n"+c.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+a};T.Wo=function(a){return a+"\n"};T.Lc=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n");var b="'";-1!==a.indexOf("'")&&(-1===a.indexOf('"')?b='"':a=a.replace(/'/g,"\\'"));return b+a+b};
T.bo=function(a){return a.split(/\n/g).map(this.Lc).join(" + '\\n' + \n")};T.Hh=function(a,b){var c="";if(!a.A||!a.A.M){var d=a.mc.text;d&&(d=Fa(d,this.rp-3),c+=si(d+"\n","# "));for(var e=0;e<a.C.length;e++)1==a.C[e].type&&(d=a.C[e].connection.K())&&(d=ti(d))&&(c+=si(d,"# "))}a=a.F&&a.F.K();a=ri(this,a);return c+b+a};
T.pc=function(a,b,c,d){c=c||0;a.h.options.Ub&&c--;var e=a.h.options.Ub?"1":"0";a=Q(this,a,b,c?this.Tf:this.s)||e;Di(a)?(a=parseInt(a,10)+c,d&&(a=-a)):(a=0<c?"int("+a+" + "+c+")":0>c?"int("+a+" - "+-c+")":"int("+a+")",d&&(a="-"+a));return a};function Ei(){this.yd=[];this.Ag=this.Ib=this.wl=this.ll=this.kl=this.ne=this.ml=this.jg=this.Bo=null}g=Ei.prototype;
g.U=function(a){var b=document.createElement("div");b.className="blocklyMenu goog-menu blocklyNonSelectable";b.tabIndex=0;this.Ag&&xh(b,this.Ag);this.Ib=b;for(var c=0,d;d=this.yd[c];c++)b.appendChild(d.La());this.ml=p(b,"mouseover",this,this.Vt,!0);this.ne=p(b,"click",this,this.Qt,!0);this.kl=p(b,"mouseenter",this,this.Tt,!0);this.ll=p(b,"mouseleave",this,this.Ut,!0);this.wl=p(b,"keydown",this,this.Rt);a.appendChild(b)};g.focus=function(){var a=this.Ib;a&&(a.focus({preventScroll:!0}),C(a,"blocklyFocused"))};
g.uj=function(a){this.Ag=a};g.o=function(){this.ml&&(r(this.ml),this.ml=null);this.ne&&(r(this.ne),this.ne=null);this.kl&&(r(this.kl),this.kl=null);this.ll&&(r(this.ll),this.ll=null);this.wl&&(r(this.wl),this.wl=null);for(var a=0,b;b=this.yd[a];a++)b.o();this.Ib=null};function Fi(a,b){for(var c=a.Ib;b&&b!=c;){if(Fc(b,"blocklyMenuItem"))for(var d=0,e;e=a.yd[d];d++)if(e.Ib==b)return e;b=b.parentElement}return null}
g.zd=function(a){var b=this.jg;b&&(b.zd(!1),this.jg=null);if(a){a.zd(!0);this.jg=a;b=this.Ib;var c=a.Ib,d=La(c),e=La(b);var f=Ka(b,"borderLeftWidth");Ka(b,"borderRightWidth");var l=Ka(b,"borderTopWidth");Ka(b,"borderBottomWidth");f=d.x-e.x-parseFloat(f);d=d.y-e.y-parseFloat(l);c=new Ia(c.offsetWidth,c.offsetHeight);e=b.clientHeight-c.height;l=b.scrollLeft;var m=b.scrollTop;l+=Math.min(f,Math.max(f-(b.clientWidth-c.width),0));m+=Math.min(d,Math.max(d-e,0));f=new k(l,m);b.scrollLeft=f.x;b.scrollTop=
f.y;yh(b,"activedescendant",a.V())}};function Gi(a,b,c){b+=c;for(var d;d=a.yd[b];){if(d.isEnabled()){a.zd(d);break}b+=c}}g.Vt=function(a){(a=Fi(this,a.target))&&(a.isEnabled()?this.jg!=a&&this.zd(a):this.zd(null))};g.Qt=function(a){var b=this.Bo;this.Bo=null;b&&"number"==typeof a.clientX&&1>ya(b,new k(a.clientX,a.clientY))||(a=Fi(this,a.target))&&a.isEnabled()&&a.ji&&a.ji(a)};g.Tt=function(){this.focus()};g.Ut=function(){if(this.Ib){var a=this.Ib;a&&(a.blur(),Ec(a,"blocklyFocused"));this.zd(null)}};
g.Rt=function(a){if(this.yd.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.jg;switch(a.keyCode){case 13:case 32:b&&b.isEnabled()&&b.ji&&b.ji(b);break;case 38:b=this.yd.indexOf(this.jg);Gi(this,0>b?this.yd.length:b,-1);break;case 40:Gi(this,this.yd.indexOf(this.jg),1);break;case 33:case 36:Gi(this,-1,1);break;case 34:case 35:Gi(this,this.yd.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
g.getSize=function(){var a=this.Ib,b=Ja(a);b.height=a.scrollHeight;return b};function Hi(a,b){this.yi=a;this.xa=b;this.Mk=!0;this.Ib=null;this.Uo=!1;this.Ag=null;this.Dq=this.ym=this.xm=!1;this.ji=null}g=Hi.prototype;
g.La=function(){var a=document.createElement("div");a.id=Ah();this.Ib=a;a.className="blocklyMenuItem goog-menuitem "+(this.Mk?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.ym?"blocklyMenuItemSelected goog-option-selected ":"")+(this.Dq?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Uo?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var b=document.createElement("div");b.className="blocklyMenuItemContent goog-menuitem-content";if(this.xm){var c=document.createElement("div");
c.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";b.appendChild(c)}c=this.yi;"string"==typeof this.yi&&(c=document.createTextNode(this.yi));b.appendChild(c);a.appendChild(b);this.Ag&&xh(a,this.Ag);yh(a,"selected",this.xm&&this.ym||!1);yh(a,"disabled",!this.Mk);return a};g.o=function(){this.Ib=null};g.V=function(){return this.Ib.id};g.Za=function(){return this.xa};g.uj=function(a){this.Ag=a};
g.zd=function(a){this.Dq=a;var b=this.Ib;b&&this.isEnabled()&&(a?(C(b,"blocklyMenuItemHighlight"),C(b,"goog-menuitem-highlight")):(Ec(b,"blocklyMenuItemHighlight"),Ec(b,"goog-menuitem-highlight")))};g.isEnabled=function(){return this.Mk};g.kc=function(a){this.Mk=a};function Ii(a,b,c){a.ji=b.bind(c)};var Ji={Dk:null,ic:null,show:function(a,b,c){kh(Ji,c,Ji.o);if(b.length){var d=Ji.Eu(b,c);Ji.ic=d;Ji.yg(d,a,c);setTimeout(function(){d.focus()},1);Ji.Dk=null}else Ji.Bb()},Eu:function(a,b){var c=new Ei;c.uj("menu");for(var d=0,e;e=a[d];d++){var f=new Hi(e.text);f.Uo=b;f.uj("menuitem");c.yd.push(f);f.kc(e.enabled);e.enabled&&Ii(f,function(){Ji.Bb();this.qa(this.scope)},e)}return c},yg:function(a,b,c){var d=document.body;var e=document.documentElement;d=new k(d.scrollLeft||e.scrollLeft,d.scrollTop||
e.scrollTop);d=new Ba(d.y,document.documentElement.clientHeight+d.y,d.x,document.documentElement.clientWidth+d.x);var f=new Ba(b.clientY+d.top,b.clientY+d.top,b.clientX+d.left,b.clientX+d.left);Ji.Bt(a);b=a.getSize();c&&(f.left+=b.width,f.right+=b.width,d.left+=b.width,d.right+=b.width);e=f.bottom+b.height>=d.bottom?f.top-b.height:f.bottom;c?(c=Math.max(f.right-b.width,d.left),c=Math.min(c,d.right-b.width)):(c=Math.min(f.left,d.right-b.width),c=Math.max(c,d.left));0>e?mh(c,0,b.height+e):mh(c,e,b.height);
a.focus()},Bt:function(a){a.U(fh);var b=a.Ib;C(b,"blocklyContextMenu");p(b,"contextmenu",null,$a);a.focus()},Bb:function(){gh==Ji&&lh();Ji.Dk=null},o:function(){Ji.ic&&(Ji.ic.o(),Ji.ic=null)},qk:function(a,b){return function(){v++;try{var c=yd(b,a.h),d=a.na();d.x=a.u?d.x-28:d.x+28;d.y+=56;c.moveBy(d.x,d.y)}finally{v--}0==v&&!c.aa&&x(new (A("create"))(c));c.select()}}};function Ki(){Li=this;this.fd=Object.create(null)}var Li=null;Ki.prototype.register=function(a){if(this.fd[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.fd[a.id]=a};Ki.prototype.unregister=function(a){if(!this.fd[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.fd[a]};Ki.prototype.getItem=function(a){return this.fd[a]||null};
function Mi(a,b){var c=[],d=Li.fd;Object.keys(d).forEach(function(e){e=d[e];if(a==e.Mc){var f=e.gb(b);"hidden"!=f&&(e={text:"function"==typeof e.$b?e.$b(b):e.$b,enabled:"enabled"==f,qa:e.qa,scope:b,weight:e.weight},c.push(e))}});c.sort(function(e,f){return e.weight-f.weight});return c}new Ki;function Ni(a,b,c){Ni.j.constructor.call(this,c);this.gr=a;this.cr=b}F(Ni,Ue);Ni.prototype.type="selected";Ni.prototype.X=function(){var a=Ni.j.X.call(this);a.oldElementId=this.gr;a.newElementId=this.cr;return a};Ni.prototype.S=function(a){Ni.j.S.call(this,a);this.gr=a.oldElementId;this.cr=a.newElementId};u(Nb,"selected",Ni);function Oi(a,b){Oi.j.constructor.call(this,a,b);this.Kd=a.h.Bk[b];this.bq=a.h.Bk[oa[b]];this.wg=new k(0,0);this.We=Pi;this.M=null}F(Oi,Sd);var Pi=-1;g=Oi.prototype;g.o=function(){Oi.j.o.call(this);1==this.We&&Qi(this.Kd,this,this.y)};g.G=function(){return Oi.j.G.call(this)};g.K=function(){return Oi.j.K.call(this)};function Zd(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}
function Ri(a,b){if(!a.m.h.jb()){var c=a.m.ud();if(!c.Ta){var d=!1;if(!c.sb()){c=b.G().ud();if(!c.sb())return;b=a;d=!0}var e=J==c;e||c.jk();var f=b.x+28+Math.floor(10*Math.random())-a.x,l=b.y+28+Math.floor(10*Math.random())-a.y;d&&(l=-l);c.u&&(f=b.x-28-Math.floor(10*Math.random())-a.x);c.moveBy(f,l);e||c.lj()}}}
g.moveTo=function(a,b){if(this.We==Pi){var c=this.Kd;c.eb.splice(Si(c,b),0,this);this.We=1}else 1==this.We&&(Qi(this.Kd,this,this.y),c=this.Kd,c.eb.splice(Si(c,b),0,this));this.x=a;this.y=b};g.moveBy=function(a,b){this.moveTo(this.x+a,this.y+b)};function Ti(a,b){a.moveTo(b.x+a.wg.x,b.y+a.wg.y)}function Ui(a,b,c){a.wg.x=b;a.wg.y=c}
function Vi(a){var b=a.M.x-a.x,c=a.M.y-a.y;if(0!=b||0!=c){a=a.K();var d=a.W();if(!d)throw Error("block is not rendered.");d=bb(d);a.W().setAttribute("transform","translate("+(d.x-b)+","+(d.y-c)+")");dg(a,-b,-c)}}
g.closest=function(a,b){var c=this.bq;if(c.eb.length){var d=this.y,e=this.x;this.x=e+b.x;this.y=d+b.y;var f=Si(c,this.y);b=null;for(var l=a,m,n=f-1;0<=n&&Math.abs(c.eb[n].y-this.y)<=a;)m=c.eb[n],0==Vd(this,m,!0,l)&&(b=m,l=Zd(m,this)),n--;for(;f<c.eb.length&&Math.abs(c.eb[f].y-this.y)<=a;)m=c.eb[f],0==Vd(this,m,!0,l)&&(b=m,l=Zd(m,this)),f++;this.x=e;this.y=d;a={connection:b,Fl:l}}else a={connection:null,Fl:a};return a};
function di(a,b){b&&1==a.We||!b&&0==a.We||a.m.Ta||(b?(b=a.Kd,b.eb.splice(Si(b,a.y),0,a),a.We=1):(1==a.We&&Qi(a.Kd,a,a.y),a.We=0))}function ci(a){di(a,!0);var b=[];if(1!=a.type&&3!=a.type)return b;if(a=a.K()){if(a.isCollapsed()){var c=[];a.A&&c.push(a.A);a.F&&c.push(a.F);a.L&&c.push(a.L)}else c=a.td(!0);for(var d=0;d<c.length;d++)b.push.apply(b,ci(c[d]));b.length||(b[0]=a)}return b}
g.po=function(a){var b=this.G();if(Zb){var c=Yb;setTimeout(function(){b.Wc||b.getParent()||(y(c),Ri(this,a),y(!1))}.bind(this),250)}};g.Lm=function(a,b){Oi.j.Lm.call(this,a,b);a.N&&a.U();b.N&&(Cd(b),b.U(),b.W().style.display="block")};g.oj=function(){Oi.j.oj.call(this);var a=this.K();a&&(a.Jc(),a.U(!1),a=this.G(),a.N&&a.U())};g.$q=function(a){return Wi(this.bq,this,a)};
g.zk=function(a){Oi.j.zk.call(this,a);var b=this.G();a=a.G();var c=b.N,d=a.N;c&&Cd(b);d&&Cd(a);c&&d&&(3==this.type||4==this.type?a.U():b.U());if(b=Qd(b,a))b=b.isVisible(),a.W().style.display=b?"block":"none"};g.qr=function(){!this.isConnected()||this.M&&0==Vd(this,this.M,!1)||(Rd(Ud(this)?this.K():this.m),this.m.Ya())};function Xi(){Xi.j.constructor.call(this)}F(Xi,dh);g=Xi.prototype;g.next=function(){var a=this.Ec;if(!a)return null;(a=Yi(this,a,this.np))&&ch(this,a);return a};g.sf=function(){return this.next()};g.Le=function(){var a=this.Ec;if(!a)return null;(a=Zi(this,a,this.np))&&ch(this,a);return a};g.Af=function(){return this.Le()};function Yi(a,b,c){if(!b)return null;var d=b.sf()||b.next();if(c(d))return d;if(d)return Yi(a,d,c);b=$i(a,b.Af());return c(b)?b:b?Yi(a,b,c):null}
function Zi(a,b,c){if(!b)return null;var d=b.Le();d=d?aj(a,d):b.Af();return c(d)?d:d?Zi(a,d,c):null}g.np=function(a){var b=!1;a=a&&a.getType();if("output"==a||"input"==a||"field"==a||"next"==a||"previous"==a||"workspace"==a)b=!0;return b};function $i(a,b){if(!b)return null;var c=b.next();return c?c:$i(a,b.Af())}function aj(a,b){if(!b.sf())return b;for(b=b.sf();b.next();)b=b.next();return aj(a,b)}u(Mb,"basicCursor",Xi);function bj(){bj.j.constructor.call(this)}F(bj,Xi);bj.prototype.np=function(a){var b=!1,c=a&&a.getType();a&&(a=a.Y,"field"==c&&a&&a.Mq()&&Mg(a)&&(b=!0));return b};function U(a,b,c){this.v=B(rc,{},null);this.v.Ij="";this.style=cj(a.Na.I(),null);this.wa=a.Na.Vq(this.v,this.style);this.Ro=this.N=!1;this.h=a;this.L=this.F=this.A=null;this.Pj=ob()&&!!a.Ac;var d=this.wa.Fa;d.kd=this;vg(d);U.j.constructor.call(this,a,b,c);this.v.dataset?this.v.dataset.id=this.id:Ma&&this.v.setAttribute("data-id",this.id)}F(U,ve);g=U.prototype;g.height=0;g.width=0;g.xc=null;
g.Jc=function(){if(!this.h.N)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.C[a];a++)b.J();b=Yf(this);for(a=0;a<b.length;a++)Ye(b[a]);this.Wa();Tf(this.wa,"blocklyDraggable",this.sb());a=this.W();this.h.options.readOnly||this.Jt||!a||p(a,"mousedown",this,this.yf);this.Jt=!0;a.parentNode||this.h.Ea.appendChild(a)};
g.select=function(){if(this.aa&&this.getParent())this.getParent().select();else if(J!=this){var a=null;if(J){a=J.id;v++;try{Fg(J)}finally{v--}}a=new (A("selected"))(a,this.id,this.h.id);x(a);J=this;this.jk()}};function Fg(a){if(J==a){var b=new (A("selected"))(a.id,null,a.h.id);b.Pb=a.h.id;x(b);J=null;a.lj()}}g.Lb=null;g.pi=null;g.Uc=null;g.Qc=null;function Yf(a){var b=[];a.Lb&&b.push(a.Lb);a.Uc&&b.push(a.Uc);a.Qc&&b.push(a.Qc);return b}
g.Nl=function(a){var b=this.Xd;if(a!=b){Ic();U.j.Nl.call(this,a);Jc();var c=this.W();if(!this.h.En&&c){var d=this.na();a?(a.W().appendChild(c),a=this.na(),dg(this,a.x-d.x,a.y-d.y)):b&&(this.h.Ea.appendChild(c),this.translate(d.x,d.y));this.Wa()}}};g.na=function(){var a=0,b=0,c=this.Pj?this.h.Ac.Md:null,d=this.W();if(d){do{var e=bb(d);a+=e.x;b+=e.y;this.Pj&&this.h.Ac.Md.firstChild==d&&(e=this.h.Ac.pn(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.h.Ea&&d!=c)}return new k(a,b)};
g.moveBy=function(a,b){if(this.Xd)throw Error("Block has parent.");var c=0==v;if(c)var d=new (A("move"))(this);var e=this.na();this.translate(e.x+a,e.y+b);dg(this,a,b);c&&(Pd(d),x(d));Dd(this.h)};g.translate=function(a,b){this.W().setAttribute("transform","translate("+a+","+b+")")};g.moveTo=function(a){var b=this.na();this.moveBy(a.x-b.x,a.y-b.y)};g.$n=function(a){this.Pj?this.h.Ac.Gg(a.x,a.y):(this.v.Ij="translate("+a.x+","+a.y+")",this.v.setAttribute("transform",this.v.Ij+this.v.yj))};
function dj(a){if(a.h&&!a.h.jb()&&!a.getParent()&&!a.Ta){var b=a.h.ad;if(b&&b.Pu){var c=b.fp,d=c/2,e=a.na();b=Math.round((e.x-d)/c)*c+d-e.x;c=Math.round((e.y-d)/c)*c+d-e.y;b=Math.round(b);c=Math.round(c);0==b&&0==c||a.moveBy(b,c)}}}g.lh=function(){var a=this.na(),b=$f(this);if(this.u){var c=a.x-b.width;var d=a.x}else c=a.x,d=a.x+b.width;return new Ba(a.y,a.y+b.height,c,d)};g.Yi=function(){this.wa.wi=this.h.Na.I();for(var a=0,b;b=this.C[a];a++)b.Yi()};
g.Jf=function(a){this.ag!=a&&(U.j.Jf.call(this,a),a?this.N&&this.U():ej(this))};function ej(a){for(var b=a.isCollapsed(),c=0,d;d=a.C[c];c++)"_TEMP_COLLAPSED_INPUT"!=d.name&&d.sa(!b);if(b){d=Yf(a);for(c=0;b=d[c];c++)b.sa(!1);c=a.toString(30);(d=Id(a,"_TEMP_COLLAPSED_FIELD"))?d.$a(c):(d=H(a,"_TEMP_COLLAPSED_INPUT")||N(a,"_TEMP_COLLAPSED_INPUT"),M(d,new $h(c),"_TEMP_COLLAPSED_FIELD"))}else Cd(a),a.Aa("_TEMP_COLLAPSED_INPUT")}
g.yf=function(a){var b=this.h&&this.h.ve(a);if(b){if(b.hg)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Qg(b,this);b.cd=a}};g.showHelp=function(){var a="function"==typeof this.rb?this.rb():this.rb;a&&window.open(a)};g.xj=function(a){if(this.h.options.readOnly||!this.contextMenu)var b=null;else b=Mi("block",{block:this}),this.re&&this.re(b);b&&b.length&&(Ji.show(a,b,this.u),Ji.Dk=this)};
function dg(a,b,c){if(a.N){for(var d=a.td(!1),e=0;e<d.length;e++)d[e].moveBy(b,c);d=Yf(a);for(e=0;e<d.length;e++)Ze(d[e]);for(e=0;e<a.me.length;e++)dg(a.me[e],b,c)}}g.Lf=function(a){if(a){var b=this.W();b.Ij="";b.yj="";$d=$d.concat(this.td(!0));C(this.v,"blocklyDragging")}else $d=[],Ec(this.v,"blocklyDragging");for(b=0;b<this.me.length;b++)this.me[b].Lf(a)};g.Ll=function(a){U.j.Ll.call(this,a);Tf(this.wa,"blocklyDraggable",a)};g.Yo=function(a){U.j.Yo.call(this,a);a=Yf(this);for(var b=0;b<a.length;b++)a[b].Ye()};
g.ap=function(a){U.j.ap.call(this,a);this.Wa()};g.Lr=function(a){this.wh!=a&&(this.wh=a)&&(this.Va(this.h.Na.I().Os),Tf(this.wa,"blocklyInsertionMarker",!0))};g.W=function(){return this.v};
g.o=function(a,b){if(this.h){sg=rg=null;Ag();zg(this.wa.Fa);Ic();var c=this.h;J==this&&(Fg(this),fj(this.h));Ji.Dk==this&&Ji.Bb();if(b&&this.N){Rd(this,a);b=this.h;var d=this.W();b.ke.play("delete");var e=eg(b,d);d=d.cloneNode(!0);d.av=e.x;d.bv=e.y;d.setAttribute("transform","translate("+e.x+","+e.y+")");E(b).appendChild(d);d.Pp=d.getBBox();zf(d,b.u,new Date,b.scale)}this.N=!1;if(this.xc){for(var f in this.xc)clearTimeout(this.xc[f]);this.xc=null}f=Yf(this);for(b=0;b<f.length;b++)f[b].o();U.j.o.call(this,
!!a);D(this.v);Dd(c);this.v=null;Jc()}};g.Wa=function(){this.wa.Wa(this);for(var a=Yf(this),b=0;b<a.length;b++)a[b].Wa();for(a=0;b=this.C[a];a++)for(var c=0,d;d=b.ga[c];c++)d.Wa()};function Cd(a){var b=sd(a,!1);a.Wa();if(!a.isCollapsed()){a=0;for(var c;c=b[a];a++)c.N&&Cd(c)}}g.Nt=function(){return this.Uc};
g.Kf=function(a){if(!Hd)throw Error("Missing require for Blockly.Comment");this.mc.text!=a&&(U.j.Kf.call(this,a),a=null!=a,!!this.Uc==a?(a=this.Uc,a.Fg?a.Fg.value=a.Kb.text:a.xg&&(a.xg.firstChild.textContent=a.Kb.text)):(a?this.pi=this.Uc=new Hd(this):(this.Uc.o(),this.pi=this.Uc=null),this.N&&(this.U(),this.Ya())))};
g.Lh=function(a,b){if(!$e)throw Error("Missing require for Blockly.Warning");this.xc||(this.xc=Object.create(null));var c=b||"";if(c)this.xc[c]&&(clearTimeout(this.xc[c]),delete this.xc[c]);else for(var d in this.xc)clearTimeout(this.xc[d]),delete this.xc[d];if(this.h.jb()){var e=this;this.xc[c]=setTimeout(function(){e.h&&(delete e.xc[c],e.Lh(a,c))},100)}else{this.Ta&&(a=null);b=!1;if("string"==typeof a){d=gi(this);for(var f=null;d;)d.isCollapsed()&&(f=d),d=gi(d);f&&f.Lh(h.COLLAPSED_WARNINGS_WARNING,
"TEMP_COLLAPSED_WARNING_");this.Qc||(this.Qc=new $e(this),b=!0);af(this.Qc,a,c)}else this.Qc&&!c?(this.Qc.o(),b=!0):this.Qc&&(b=this.Qc.cc(),af(this.Qc,"",c),(d=this.Qc.cc())||this.Qc.o(),b=b!=d);b&&this.N&&(this.U(),this.Ya())}};g.Kh=function(a){this.Lb&&this.Lb!==a&&this.Lb.o();a&&(a.D=this,this.Lb=a,Ye(a));this.N&&(this.U(),this.Ya())};g.kc=function(a){this.isEnabled()!=a&&(U.j.kc.call(this,a),this.N&&!ii(this)&&Cd(this))};g.zd=function(a){this.N&&this.wa.ds(a)};
g.jk=function(){Tf(this.wa,"blocklySelected",!0)};g.lj=function(){Tf(this.wa,"blocklySelected",!1)};g.Xo=function(a){Tf(this.wa,"blocklyDraggingDelete",a)};g.mn=function(){return this.style.ef};g.Va=function(a){U.j.Va.call(this,a);a=gj(this.h.Na.I(),this.Hb);this.wa.Pe(a.style);this.style=a.style;this.Dg=a.name;this.Wa()};g.Pe=function(a){var b=cj(this.h.Na.I(),a);this.Dg=a;if(b)this.Pd=b.Pd,this.wa.Pe(b),this.Hb=b.ef,this.style=b,this.Wa();else throw Error("Invalid style name: "+a);};
function Zf(a){do{var b=a.W(),c=b.parentNode,d=c.childNodes;d[d.length-1]!==b&&c.appendChild(b);a=a.getParent()}while(a)}g.ce=function(a,b){U.j.ce.call(this,a,b);this.N&&(this.U(),this.Ya())};g.ae=function(a,b){U.j.ae.call(this,a,b);this.N&&(this.U(),this.Ya())};g.vc=function(a,b){U.j.vc.call(this,a,b);this.N&&(this.U(),this.Ya())};g.Nc=function(a){U.j.Nc.call(this,a);this.N&&(this.U(),this.Ya())};g.Aa=function(a,b){a=U.j.Aa.call(this,a,b);this.N&&(this.U(),this.Ya());return a};
g.ao=function(a,b){U.j.ao.call(this,a,b);this.N&&(this.U(),this.Ya())};g.Fd=function(a,b){a=U.j.Fd.call(this,a,b);this.N&&(this.U(),this.Ya());return a};function Bd(a,b){a.L&&di(a.L,b);a.A&&di(a.A,b);if(a.F){di(a.F,b);var c=a.F.K();c&&Bd(c,b)}if(!a.ag)for(c=0;c<a.C.length;c++){var d=a.C[c].connection;d&&(di(d,b),(d=d.K())&&Bd(d,b))}}
g.td=function(a){var b=[];if(a||this.N)if(this.A&&b.push(this.A),this.L&&b.push(this.L),this.F&&b.push(this.F),a||!this.ag){a=0;for(var c;c=this.C[a];a++)c.connection&&b.push(c.connection)}return b};g.cl=function(a){return U.j.cl.call(this,a)};g.on=function(a,b){return U.j.on.call(this,a,b)};g.Xi=function(a){return new Oi(this,a)};
g.Ya=function(){if(this.h&&!this.h.jb()){var a=this.ud();if(!a.Ta)for(var b=this.td(!1),c=0,d;d=b[c];c++){d.isConnected()&&Ud(d)&&d.K().Ya();for(var e=d.$q(28),f=0,l;l=e[f];f++)d.isConnected()&&l.isConnected()||l.G().ud()!=a&&(Ud(d)?Ri(l,d):Ri(d,l))}}};function fg(a){var b=Yb;setTimeout(function(){y(b);dj(a);y(!1)},125);setTimeout(function(){y(b);a.Ya();y(!1)},250)}g.getParent=function(){return U.j.getParent.call(this)};g.ud=function(){return U.j.ud.call(this)};
g.U=function(a){if(!this.Ro){this.Ro=!0;try{this.N=!0;Ic();this.isCollapsed()&&ej(this);this.h.Na.U(this);var b=this.na();this.L&&Ti(this.L,b);this.A&&Ti(this.A,b);for(var c=0;c<this.C.length;c++){var d=this.C[c].connection;d&&(Ti(d,b),d.isConnected()&&Vi(d))}this.F&&(Ti(this.F,b),this.F.isConnected()&&Vi(this.F));if(!1!==a){var e=this.getParent();e?e.U(!0):Dd(this.h)}Jc();this.lp()}finally{this.Ro=!1}}};g.lp=function(){this.h.zh&&this.wa.Ci&&this.h.mh().qd();this.h.zh&&this.wa.Un&&this.h.Mi("local_marker_1").qd()};
g.Oe=function(a){this.wa.Oe(a)};g.Mf=function(a){this.wa.Mf(a)};function $f(a){var b=a.height,c=a.width,d=ub(a);d&&(d=$f(d),a=a.h.Na.I().em,b+=d.height-a,c=Math.max(c,d.width));return{height:b,width:c}};function hj(){}hj.prototype.no=function(){};hj.prototype.oo=function(){};hj.prototype.tl=function(){};hj.prototype.ul=function(){};function ij(){ij.j.constructor.call(this);this.Ng=!1}F(ij,hj);ij.prototype.pp=function(a,b){a instanceof U?(a=!a.getParent()&&a.bd(),this.Oj(a&&!b)):this.Oj(a.bd());return this.Ng};ij.prototype.Oj=function(a){this.Ng=a};function jj(a,b,c){jj.j.constructor.call(this,c);this.jr=a;this.dr=b}F(jj,Ue);jj.prototype.type="toolbox_item_select";jj.prototype.X=function(){var a=jj.j.X.call(this);a.oldItem=this.jr;a.newItem=this.dr;return a};jj.prototype.S=function(a){jj.j.S.call(this,a);this.jr=a.oldItem;this.dr=a.newItem};u(Nb,"toolbox_item_select",jj);function kj(a,b,c){this.Ae=a.toolboxitemid||Ah();this.Ln=(this.Je=c||null)?this.Je.Ln+1:0;this.Zr=a;this.Go=b;this.g=this.Go.g}g=kj.prototype;g.J=function(){};g.nn=function(){return null};g.V=function(){return this.Ae};g.getParent=function(){return null};g.De=function(){return!1};g.o=function(){};function lj(a,b,c){lj.j.constructor.call(this,a,b,c);this.He=ib(a.name);this.Hb=mj(this,a.colour);this.In=this.yn=this.pj=this.gd=this.tc=null;this.od={container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"};md(this.od,a.cssconfig||a.cssConfig);this.cu=this.Jq=!1;this.jh=
[];b=a.contents;if(a.custom)this.jh=a.custom;else if(b)for(a=0;c=b[a];a++)this.jh.push(c)}F(lj,kj);g=lj.prototype;g.J=function(){this.pe();"true"==this.Zr.hidden&&this.Bb()};
g.pe=function(){this.tc=this.Cm();xh(this.tc,"treeitem");yh(this.tc,"selected",!1);yh(this.tc,"level",this.Ln);var a=document.createElement("div");C(a,this.od.row);var b=19*this.Ln;b=b.toString()+"px";this.g.u?a.style.paddingRight=b:a.style.paddingLeft=b;this.gd=a;this.gd.style.pointerEvents="auto";this.tc.appendChild(this.gd);a=document.createElement("div");C(a,this.od.rowcontentcontainer);this.pj=a;this.pj.style.pointerEvents="none";this.gd.appendChild(this.pj);a=document.createElement("span");
C(a,this.od.icon);a.style.display="inline-block";this.yn=a;xh(this.yn,"presentation");this.pj.appendChild(this.yn);a=this.He;b=document.createElement("span");b.setAttribute("id",this.V()+".label");b.textContent=a;C(b,this.od.label);this.In=b;this.pj.appendChild(this.In);yh(this.tc,"labelledby",this.In.getAttribute("id"));nj(this,this.Hb);return this.tc};g.Cm=function(){var a=document.createElement("div");C(a,this.od.container);return a};g.Eh=function(){this.Hb=mj(this,this.Zr.colour);nj(this,this.Hb)};
function nj(a,b){b&&(b="8px solid "+(b||"#ddd"),a.g.u?a.gd.style.borderRight=b:a.gd.style.borderLeft=b)}g.Mt=function(){return this.gd};function mj(a,b){b=ib(b);if(null==b||""===b)return"";var c=Number(b);if(isNaN(c)){if(c=ra(b))return c;console.warn('Toolbox category "'+a.He+'" has unrecognized colour attribute: '+b);return""}return va(c)}function oj(a,b){a.tc.style.display=b?"block":"none";a.Jq=!b;a.Go.wb==a&&pj(a.Go,null)}g.Bb=function(){oj(this,!1)};g.show=function(){oj(this,!0)};
g.isVisible=function(){var a;if(a=!this.Jq)a:{for(a=this;a.getParent();)if(a=a.getParent(),!a.Jv()){a=!1;break a}a=!0}return a};g.De=function(){return this.isVisible()&&!this.cu};function qj(a,b){if(b){var c=mj(a,"#57e");a.gd.style.backgroundColor=a.Hb||c;C(a.gd,a.od.selected)}else a.gd.style.backgroundColor="",Ec(a.gd,a.od.selected);yh(a.tc,"selected",b)}g.za=function(){return this.He};g.getParent=function(){return this.Je};g.nn=function(){return this.tc};g.o=function(){D(this.tc)};
Se([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px",
"}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;",
"}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);u(Sb,"category",lj);function rj(a,b){rj.j.constructor.call(this,a,b);this.od={container:"blocklyTreeSeparator"};md(this.od,a.cssconfig||a.cssConfig)}F(rj,kj);rj.prototype.J=function(){this.pe()};rj.prototype.pe=function(){var a=document.createElement("div");C(a,this.od.container);return this.tc=a};rj.prototype.nn=function(){return this.tc};rj.prototype.o=function(){D(this.tc)};Se('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(","));
u(Sb,"sep",rj);function sj(a){sj.j.constructor.call(this);this.g=a;this.id="toolbox";this.Yr=a.options.Ud||{contents:[]};this.jf=this.yc=null;this.Kc=!1;this.Ka=[];this.Jb=this.ya=0;this.u=a.options.u;this.O=null;this.Bm=Object.create(null);this.mb=a.options.mb;this.wb=null;this.ki=[]}F(sj,ij);g=sj.prototype;
g.J=function(){var a=this.g,b=E(a),c=this.g,d=new he({parentWorkspace:c,rtl:c.u,oneBasedIndex:c.options.Ub,renderer:c.options.mj,rendererOverrides:c.options.nj,move:{scrollbars:!0}});d.mb=c.options.mb;this.O=new (Xb(Tb,c.options,!0))(d);this.yc=this.pe(this.g);Gc(this.O.La("svg"),b);this.sa(!0);this.O.J(a);this.U(this.Yr);a=a.lb;a.subscribe(this.yc,"toolboxBackgroundColour","background-color");a.subscribe(this.yc,"toolboxForegroundColour","color");Ff(this.g.Cc,{component:this,weight:1,Hd:[Nf,If,Mf]})};
g.pe=function(a){var b=E(a);a=this.Cm();var c=document.createElement("div");C(c,"blocklyToolboxContents");this.jf=c;this.jf.tabIndex=0;xh(this.jf,"tree");a.appendChild(this.jf);b.parentNode.insertBefore(a,b);b=this.jf;c=p(a,"click",this,this.mo,!1,!0);this.ki.push(c);b=p(b,"keydown",this,this.to,!1,!0);this.ki.push(b);return a};
g.Cm=function(){var a=document.createElement("div");a.setAttribute("layout","v");C(a,"blocklyToolboxDiv");C(a,"blocklyNonSelectable");a.setAttribute("dir",this.u?"RTL":"LTR");return a};g.mo=function(a){if(fb(a)||a.target==this.yc)id(!1);else{if(a=a.target.getAttribute("id"))a=this.Bm[a]||null,a.De()&&pj(this,a);id(!0)}xb=null};
g.to=function(a){var b=!1;switch(a.keyCode){case 40:a:{if(this.wb&&(b=this.Ka.indexOf(this.wb)+1,-1<b&&b<this.Ka.length)){for(var c=this.Ka[b];c&&!c.De();)c=this.Ka[++b];if(c&&c.De()){pj(this,c);b=!0;break a}}b=!1}break;case 38:a:{if(this.wb&&(b=this.Ka.indexOf(this.wb)-1,-1<b&&b<this.Ka.length)){for(c=this.Ka[b];c&&!c.De();)c=this.Ka[--b];if(c&&c.De()){pj(this,c);b=!0;break a}}b=!1}break;case 37:this.wb?this.wb.getParent()&&this.wb.getParent().De()?(pj(this,this.wb.getParent()),b=!0):b=!1:b=!1;break;
case 39:b=!1;break;case 13:case 32:break;default:b=!1}!b&&this.wb&&this.wb.so&&(b=this.wb.so(a));b&&a.preventDefault()};
g.U=function(a){this.Yr=a;for(var b=0;b<this.Ka.length;b++){var c=this.Ka[b];c&&c.o()}this.Ka=[];this.Bm=Object.create(null);a=a.contents;b=document.createDocumentFragment();c=0;for(var d;d=a[c];c++){var e=d;d=b;var f=Wb(Sb,e.kind.toLowerCase());f&&(f=e=new f(e,this),this.Ka.push(f),this.Bm[f.V()]=f,e.J(),(f=e.nn())&&d.appendChild(f),e.Mt&&e.gd.setAttribute("id",e.V()))}this.jf.appendChild(b);this.position();a=this.g;b=this.yc.getBoundingClientRect();a.translate(2==this.mb?a.scrollX+b.width:a.scrollX,
a.scrollY);tj(a)};g.ln=function(){if(!this.yc||!this.Kc)return null;var a=this.yc.getBoundingClientRect(),b=a.left;a=b+a.width;return 2==this.mb?new Ba(-1E7,1E7,-1E7,a):new Ba(-1E7,1E7,b,1E7)};g.pp=function(a){a instanceof U?this.Oj(!a.getParent()&&a.bd()):this.Oj(a.bd());return this.Ng};g.no=function(){uj(this,!0)};g.tl=function(){uj(this,!1)};g.ul=function(){uj(this,!1)};g.Oj=function(a){a!==this.Ng&&(uj(this,!1),this.Ng=a,uj(this,!0))};
function uj(a,b){var c=a.Ng?"blocklyToolboxDelete":"blocklyToolboxGrab";b?C(a.yc,c):Ec(a.yc,c)}g.ye=function(){return this.ya};g.Gc=function(){return this.O};g.position=function(){var a=this.g.bc(),b=this.yc;b&&(3==this.mb?b.style.right="0":b.style.left="0",b.style.height="100%",this.ya=b.offsetWidth,this.Jb=a.xb,this.O.position())};g.Eh=function(){for(var a=0;a<this.Ka.length;a++){var b=this.Ka[a];b.Eh&&b.Eh()}};g.sa=function(a){this.Kc!==a&&(this.yc.style.display=a?"block":"none",this.Kc=a,vj(this.g))};
g.Op=function(a){!a&&this.O&&this.O.cf&&pj(this,null)};function pj(a,b){var c=a.wb;if((b||c)&&(!b||b.De())){null!=c&&null!=c&&(a.wb=null,qj(c,!1),yh(a.jf,"activedescendant",""));null!=b&&b!=c&&null!=b&&(a.wb=b,qj(b,!0),yh(a.jf,"activedescendant",b.V()));c!=b&&b&&b.jh.length?(a.O.show(b.jh),a.O.Vo()):a.O.Bb();var d=c&&c.za(),e=b&&b.za();c==b&&(e=null);a=new (A("toolbox_item_select"))(d,e,a.g.id);x(a)}}
g.o=function(){Gf(this.g.Cc,"toolbox");this.O.o();for(var a=0;a<this.Ka.length;a++)this.Ka[a].o();for(a=0;a<this.ki.length;a++)r(this.ki[a]);this.ki=[];this.Ka=[];this.g.lb.unsubscribe(this.yc);D(this.yc)};
Se([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;",
"}",".blocklyToolboxContents:focus {","outline: none;","}"]);u(Qb,"default",sj);function wj(a,b){wj.j.constructor.call(this,b);this.xh=a}F(wj,Ue);wj.prototype.type="trashcan_open";wj.prototype.X=function(){var a=wj.j.X.call(this);a.isOpen=this.xh;return a};wj.prototype.S=function(a){wj.j.S.call(this,a);this.xh=a.isOpen};u(Nb,"trashcan_open",wj);function xj(a,b,c,d,e,f){var l=f.ra&&!!f.ra.ta;0===a.Qi?(c=e.ik.left+c,l&&f.u&&(c+=Oc)):(c=e.ik.left+e.ks.width-b.width-c,l&&!f.u&&(c-=Oc));0===a.vertical?a=e.ik.top+d:(a=e.ik.top+e.ks.height-b.height-d,f.ra&&f.ra.Ia&&(a-=Oc));return new Ba(a,a+b.height,c,c+b.width)}function yj(a){return{Qi:2!==a.Xu.position?0:1,vertical:1}}
function zj(a,b,c,d){for(var e=a.left,f=a.right-a.left,l=a.bottom-a.top,m=0,n;n=d[m];m++)a.left>n.right||a.right<n.left||a.top>n.bottom||a.bottom<n.top||(a=0===c?n.top-l-b:n.bottom+b,a=new Ba(a,a+l,e,e+f),m=-1);return a};function Aj(a){Aj.j.constructor.call(this);this.g=a;this.id="trashcan";this.Ka=[];this.Yc=null;0>=this.g.options.jl||(a=new he({scrollbars:!0,parentWorkspace:this.g,rtl:this.g.u,oneBasedIndex:this.g.options.Ub,renderer:this.g.options.mj,rendererOverrides:this.g.options.nj,move:{scrollbars:!0}}),a.mb=3==this.g.mb?2:3,this.Yc=new (Xb(Tb,this.g.options,!0))(a),Ae(this.g,this.su.bind(this)))}F(Aj,ij);g=Aj.prototype;g.je=47;g.Vj=44;g.Vg=16;g.Xh=20;g.dm=20;g.ck=10;g.hm=0;g.im=32;g.Ns=.1;g.$k=!1;g.Xn=0;
g.v=null;g.Ul=null;g.Mn=0;g.vf=0;g.Ee=0;g.Ve=0;g.Ri=!1;
g.La=function(){this.v=B(rc,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=B(jc,{id:"blocklyTrashBodyClipPath"+a},this.v);B(xc,{width:this.je,height:this.Vj,y:this.Vg},b);var c=B(sc,{width:96,x:-this.hm,height:124,y:-this.im,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.v);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.Df+"sprites.png");b=B(jc,{id:"blocklyTrashLidClipPath"+a},this.v);B(xc,{width:this.je,height:this.Vg},b);this.Ul=
B(sc,{width:96,x:-this.hm,height:124,y:-this.im,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.v);this.Ul.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.Df+"sprites.png");Ib(this.v,"mousedown",this,this.vt);Ib(this.v,"mouseup",this,this.click);Ib(c,"mouseover",this,this.mu);Ib(c,"mouseout",this,this.ku);this.lm();return this.v};
g.J=function(){0<this.g.options.jl&&(Gc(this.Yc.La(yc),E(this.g)),this.Yc.J(this.g));Ff(this.g.Cc,{component:this,weight:1,Hd:[Nf,If,Mf,Lf]});this.Ri=!0;this.Jh(!1)};g.o=function(){Gf(this.g.Cc,"trashcan");this.v&&(D(this.v),this.v=null);this.g=this.Ul=null;clearTimeout(this.Mn)};g.Op=function(a){!a&&this.Yc&&this.Yc&&this.Yc.isVisible()&&(this.Yc.Bb(),Bj(this,!1))};
g.position=function(a,b){if(this.Ri){var c=yj(a);a=zj(xj(c,new Ia(this.je,this.Vj+this.Vg),this.dm,this.Xh,a,this.g),this.Xh,0===c.vertical?1:0,b);this.Ve=a.top;this.Ee=a.left;this.v.setAttribute("transform","translate("+this.Ee+","+this.Ve+")")}};g.lh=function(){return new Ba(this.Ve,this.Ve+this.Vj+this.Vg,this.Ee,this.Ee+this.je)};
g.ln=function(){if(!this.v)return null;var a=this.v.getBoundingClientRect(),b=a.top+this.im-this.ck;a=a.left+this.hm-this.ck;return new Ba(b,b+this.Vg+this.Vj+2*this.ck,a,a+this.je+2*this.ck)};g.oo=function(){this.Jh(this.Ng)};g.tl=function(){this.Jh(!1)};g.ul=function(){setTimeout(this.Jh.bind(this,!1),100)};g.Jh=function(a){this.$k!=a&&(clearTimeout(this.Mn),this.$k=a,this.lm())};
g.lm=function(){this.vf+=this.$k?.2:-.2;this.vf=Math.min(Math.max(this.vf,this.Xn),1);Cj(this,45*this.vf);this.v.style.opacity=.4+.4*this.vf;this.vf>this.Xn&&1>this.vf&&(this.Mn=setTimeout(this.lm.bind(this),20))};function Cj(a,b){var c=3==a.g.mb;a.Ul.setAttribute("transform","rotate("+(c?-b:b)+","+(c?4:a.je-4)+","+(a.Vg-2)+")")}g.click=function(){if(this.Ka.length&&(!this.Yc||!this.Yc.isVisible())){var a=this.Ka.map(wd);this.Yc.show(a);Bj(this,!0)}};
function Bj(a,b){a=new (A("trashcan_open"))(b,a.g.id);x(a)}g.vt=function(a){this.Yc&&this.Yc.isVisible()||!this.Ka.length||a.stopPropagation()};g.mu=function(){this.Ka.length&&this.Jh(!0)};g.ku=function(){this.Jh(!1)};
g.su=function(a){if(!(0>=this.g.options.jl)&&"delete"==a.type&&a.Bh.tagName&&"shadow"!=a.Bh.tagName.toLowerCase()){for(var b=a=a.Bh.cloneNode(!0);b;){b.removeAttribute&&(b.removeAttribute("x"),b.removeAttribute("y"),b.removeAttribute("id"),b.removeAttribute("disabled"),"comment"==b.nodeName&&(b.removeAttribute("h"),b.removeAttribute("w"),b.removeAttribute("pinned")));var c=b.firstChild||b.nextSibling;if(!c)for(c=b.parentNode;c;){if(c.nextSibling){c=c.nextSibling;break}c=c.parentNode}b=c}a=vd(a);if(-1==
this.Ka.indexOf(a)){for(this.Ka.unshift(a);this.Ka.length>this.g.options.jl;)this.Ka.pop();this.Xn=a=this.Ns;this.$k||Cj(this,45*a)}}};function Dj(a){this.g=a}function Ej(a){var b=0,c=0;a&&(b=a.ye(),c=a.Jb);return new Ia(b,c)}function Fj(a){var b=Ej(a.g.Gc(!0));return{width:b.width,height:b.height,position:a.g.mb}}function Gj(a){var b=Ej(a.g.Oa);return{width:b.width,height:b.height,position:a.g.mb}}function Hj(a){var b=0,c=Gj(a),d=Fj(a),e=!!a.g.Oa;a=!!a.g.Gc(!0);var f=2==(e?c.position:d.position);e&&f?b=c.width:a&&f&&(b=d.width);return{top:0,left:b}}
function Oe(a,b){b=b?a.g.scale:1;var c=Ij(a.g),d=Gj(a),e=Fj(a),f=a.g.Oa?d.position:e.position;if(a.g.Oa){if(2==f||3==f)c.width-=d.width}else!a.g.Gc(!0)||2!=f&&3!=f||(c.width-=e.width);return{height:c.height/b,width:c.width/b,top:-a.g.scrollY/b,left:-a.g.scrollX/b}}
Dj.prototype.Rk=function(){var a=this.g.scale;var b=[].concat(this.g.Hj);if(b.length){for(var c=b[0].lh(),d=1;d<b.length;d++){var e=b[d];e.Cb&&e.Cb()||(e=e.lh(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}b=c}else b=new Ba(0,0,0,0);return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}};
Dj.prototype.lf=function(a,b,c){a=a?this.g.scale:1;var d=b||Oe(this,!1);c=c||this.Rk();if(Dg(this.g)&&Eg(this.g))b={};else{b=Dg(this.g);var e=Eg(this.g),f=d||Oe(this,!1);var l={};e||(l.top=f.top,l.bottom=f.top+f.height);b||(l.left=f.left,l.right=f.left+f.width);b=l}l=c.top+c.height;e=c.left+c.width;f=d.width;var m=d.height;var n=f/2,q=m/2;d=Math.min(c.top-q,l-m);l=Math.max(l+q,c.top+m);m=Math.min(c.left-n,e-f);c=Math.max(e+n,c.left+f);d=void 0!==b.top?b.top:d;e=void 0!==b.left?b.left:m;return{top:d/
a,left:e/a,width:((void 0!==b.right?b.right:c)-e)/a,height:((void 0!==b.bottom?b.bottom:l)-d)/a}};Dj.prototype.bc=function(){var a=Gj(this),b=Fj(this),c=Ij(this.g),d=Hj(this),e=Oe(this),f=this.Rk(),l=this.lf(!1,e,f);return{Bv:f.height,Ev:f.width,Dv:f.top,Cv:f.left,scrollHeight:l.height,scrollWidth:l.width,scrollTop:l.top,scrollLeft:l.left,xb:e.height,yb:e.width,md:e.top,ld:e.left,Xb:d.top,Qb:d.left,Sr:c.height,Tr:c.width,Sv:a.width,Rv:a.height,mb:a.position,Hv:b.width,Gv:b.height}};
u(Ub,"default",Dj);function Jj(a,b){this.O=b;Jj.j.constructor.call(this,a)}F(Jj,Dj);Jj.prototype.Rk=function(){try{var a=this.g.Ea.getBBox()}catch(c){a={height:0,y:0,width:0,x:0}}var b=this.g.scale;return{height:a.height*b,width:a.width*b,top:a.y*b,left:a.x*b}};Jj.prototype.lf=function(a,b,c){b=c||this.Rk();c=this.O.Wg*this.g.scale;a=a?this.g.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}};function Kj(){this.eb=[]}function Lj(a,b,c){if(!a.eb.length)return-1;var d=Si(a,c);if(d>=a.eb.length)return-1;c=b.y;for(var e=d;0<=e&&a.eb[e].y==c;){if(a.eb[e]==b)return e;e--}for(e=d;e<a.eb.length&&a.eb[e].y==c;){if(a.eb[e]==b)return e;e++}return-1}function Si(a,b){if(!a.eb.length)return 0;for(var c=0,d=a.eb.length;c<d;){var e=Math.floor((c+d)/2);if(a.eb[e].y<b)c=e+1;else if(a.eb[e].y>b)d=e;else{c=e;break}}return c}
function Qi(a,b,c){b=Lj(a,b,c);if(-1==b)throw Error("Unable to find connection in connectionDB.");a.eb.splice(b,1)}function Wi(a,b,c){function d(q){var t=f-e[q].x,w=l-e[q].y;Math.sqrt(t*t+w*w)<=c&&n.push(e[q]);return w<c}var e=a.eb,f=b.x,l=b.y;a=0;for(var m=b=e.length-2;a<m;)e[m].y<l?a=m:b=m,m=Math.floor((a+b)/2);var n=[];b=a=m;if(e.length){for(;0<=a&&d(a);)a--;do b++;while(b<e.length&&d(b))}return n};function Mj(a,b){Mj.j.constructor.call(this,b);this.Vr=a}F(Mj,Ue);Mj.prototype.type="theme_change";Mj.prototype.X=function(){var a=Mj.j.X.call(this);a.themeName=this.Vr;return a};Mj.prototype.S=function(a){Mj.j.S.call(this,a);this.Vr=a.themeName};u(Nb,"theme_change",Mj);function Nj(a,b,c,d,e){Nj.j.constructor.call(this,d);this.md=a;this.ld=b;this.scale=c;this.dj=e}F(Nj,Ue);Nj.prototype.type="viewport_change";Nj.prototype.X=function(){var a=Nj.j.X.call(this);a.viewTop=this.md;a.viewLeft=this.ld;a.scale=this.scale;a.oldScale=this.dj;return a};Nj.prototype.S=function(a){Nj.j.S.call(this,a);this.md=a.viewTop;this.ld=a.viewLeft;this.scale=a.scale;this.dj=a.oldScale};u(Nb,"viewport_change",Nj);function Oj(a,b){this.ph=a;this.fp=b.spacing;this.Sq=b.length;this.du=(this.Nn=a.firstChild)&&this.Nn.nextSibling;this.Pu=b.snap}Oj.prototype.If=1;Oj.prototype.o=function(){this.ph=null};Oj.prototype.update=function(a){this.If=a;var b=this.fp*a||100;this.ph.setAttribute("width",b);this.ph.setAttribute("height",b);b=Math.floor(this.fp/2)+.5;var c=b-this.Sq/2,d=b+this.Sq/2;b*=a;c*=a;d*=a;Pj(this.Nn,a,c,d,b,b);Pj(this.du,a,b,b,c,d)};
function Pj(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))}Oj.prototype.moveTo=function(a,b){this.ph.setAttribute("x",a);this.ph.setAttribute("y",b);(Ma||Na)&&this.update(this.If)};function Qj(a){var b=be;this.g=a;this.Fj=b;this.Bj=[];this.ff=Object.create(null)}g=Qj.prototype;g.we=function(){return this.Fj};g.wj=function(a){var b=this.Fj;this.Fj=a;if(a=Rj(this.g))b&&Ec(a,b.sd()),C(a,this.Fj.sd());for(b=0;a=this.Bj[b];b++)a.Eh();id()};g.subscribe=function(a,b,c){this.ff[b]||(this.ff[b]=[]);this.ff[b].push({element:a,propertyName:c});a.style[c]=""};
g.unsubscribe=function(a){if(a)for(var b=Object.keys(this.ff),c=0,d;d=b[c];c++){for(var e=this.ff[d],f=e.length-1;0<=f;f--)e[f].element===a&&e.splice(f,1);this.ff[d].length||delete this.ff[d]}};g.o=function(){this.ff=this.Bj=this.Fj=null};function Sj(a,b){Sj.j.constructor.call(this,a,b);this.al=!1;this.Bc=Object.create(null);this.Nr=this.hj=0;this.Kq=this.wo=null}F(Sj,Gg);g=Sj.prototype;g.Mm=function(a){this.Kq=this.kb.options.Pa&&this.kb.options.Pa.zr;Sj.j.Mm.call(this,a);!this.Zk&&Gb(a)&&Tj(this,a)};g.Qp=function(a){this.wo=p(document,"mousedown",null,this.Wt.bind(this),!0);this.Bl=p(document,"mousemove",null,this.qh.bind(this),!0);this.Cl=p(document,"mouseup",null,this.Uk.bind(this),!0);a.preventDefault();a.stopPropagation()};
g.Wt=function(a){!this.jb()&&Gb(a)&&(Tj(this,a),this.al&&Bb())};g.qh=function(a){if(this.jb())Fb(a)&&!Eb(a)||Sj.j.qh.call(this,a);else if(this.al){if(Gb(a)){this.Bc[Db(a)]=Uj(this,a);var b=Object.keys(this.Bc);if(this.Kq&&2===b.length){b=Object.keys(this.Bc);b=ya(this.Bc[b[0]],this.Bc[b[1]])/this.Nr;if(0<this.hj&&Infinity>this.hj){var c=b-this.hj;c=0<c?5*c:6*c;var d=this.kb,e=gb(a,E(d),fd(d));d.zoom(e.x,e.y,c)}this.hj=b;a.preventDefault()}else Sj.j.qh.call(this,a)}Bb()}else Sj.j.qh.call(this,a)};
g.Uk=function(a){if(Gb(a)&&!this.jb()){var b=Db(a);this.Bc[b]&&delete this.Bc[b];2>Object.keys(this.Bc).length&&(this.Bc=Object.create(null),this.hj=0)}!this.al||this.jb()?Fb(a)&&!Eb(a)||Sj.j.Uk.call(this,a):(a.preventDefault(),a.stopPropagation(),this.o())};g.o=function(){Sj.j.o.call(this);this.wo&&r(this.wo)};function Tj(a,b){a.Bc[Db(b)]=Uj(a,b);var c=Object.keys(a.Bc);2==c.length&&(a.Nr=ya(a.Bc[c[0]],a.Bc[c[1]]),a.al=!0,b.preventDefault())}
function Uj(a,b){return a.kb?new k(b.changedTouches?b.changedTouches[0].pageX:b.pageX,b.changedTouches?b.changedTouches[0].pageY:b.pageY):null};function Vj(a){this.Ho=a;this.gi=Object.create(null)}g=Vj.prototype;g.Kn=null;g.o=function(){this.gi=this.Ho=null};g.load=function(a,b){if(a.length){try{var c=new pa.Audio}catch(m){return}for(var d,e=0;e<a.length;e++){var f=a[e],l=f.match(/\.(\w+)$/);if(l&&c.canPlayType("audio/"+l[1])){d=new pa.Audio(f);break}}d&&d.play&&(this.gi[b]=d)}};g.preload=function(){for(var a in this.gi){var b=this.gi[a];b.volume=.01;var c=b.play();void 0!==c?c.then(b.pause).catch(function(){}):b.pause();if(Sa||Va)break}};
g.play=function(a,b){var c=this.gi[a];c?(a=new Date,null!=this.Kn&&100>a-this.Kn||(this.Kn=a,c=Sa||Ra?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.Ho&&this.Ho.ke.play(a,b)};function Wj(a){this.xi=a;this.La()}g=Wj.prototype;g.ea=null;g.xi=null;g.La=function(){this.ea||(this.ea=B(yc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.xi.appendChild(this.ea))};g.Gg=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.ea.style.display="block";Hc(this.ea,"translate3d("+a+"px, "+b+"px, 0px)")};g.pn=function(){return bb(this.ea)};
g.vk=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.ea.childNodes[0],c=this.ea.childNodes[1];if(!(b&&c&&Fc(b,"blocklyBlockCanvas")&&Fc(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Oo?Gc(b,this.Oo):a.insertBefore(b,a.firstChild);Gc(c,b);this.ea.style.display="none";if(this.ea.childNodes.length)throw Error("Drag surface was not cleared.");Hc(this.ea,"");this.Oo=null};
function Xj(a,b,c){Xj.j.constructor.call(this,a);this.jc=new (Xb(Ub,a,!0))(this);this.bc=a.bc||this.jc.bc.bind(this.jc);this.tj=a.tj||Yj;this.Cc=new Ef;var d=[];d[1]=new Kj;d[2]=new Kj;d[3]=new Kj;d[4]=new Kj;this.Bk=d;b&&(this.Ac=b);c&&(this.Lg=c);this.Yl=!!this.Lg&&ob();this.Wk=[];this.ke=new Vj(a.fb);this.ad=this.options.tn?new Oj(this.options.tn,a.wq):null;this.xd=new eh(this);this.ip=Object.create(null);this.dn=Object.create(null);Zj&&ak&&bk(this,"VARIABLE",ak);ck&&dk&&(bk(this,"PROCEDURE",dk),
Ae(this,ek));this.lb=this.options.fb?this.options.fb.lb:new Qj(this);this.lb.Bj.push(this);c=this.options.mj||"geras";a=this.we();b=this.options.nj;c=new (Wb(Pb,c))(c);c.J(a,b);this.Na=c;this.vm=null;this.zh=!1;this.Hj=[];this.Nm=[];this.um=new Ia(0,0)}F(Xj,zd);g=Xj.prototype;g.Kl=null;g.N=!0;g.Kc=!0;g.wd=!1;g.Wi=!1;g.To=!0;g.scrollX=0;g.scrollY=0;g.kq=null;g.scale=1;g.lo=1;g.nr=0;g.kr=0;g.Qh=null;g.ra=null;g.O=null;g.Oa=null;g.Sb=null;g.Ac=null;g.Lg=null;g.Yl=!1;g.Yk=!1;g.Bn=null;g.Rq=null;g.Z=null;
g.Iq=null;g.Cn=!0;g.Oe=function(a){this.xd.Oe(a)};g.Mf=function(a){this.xd.Mf(a)};g.Mi=function(a){return this.xd?this.xd.Mi(a):null};g.mh=function(){return this.xd?this.xd.mh():null};g.we=function(){return this.lb.we()};g.wj=function(a){a||(a=be);this.lb.wj(a)};g.Eh=function(){this.v&&this.Na.Qo(this.v,this.we());fk(ne(this).filter(function(b){return!!b.Dg}));gk(this);this.Oa&&this.Oa.Eh();this.isVisible()&&this.sa(!0);var a=new (A("theme_change"))(this.we().name,this.id);x(a)};
function fk(a){for(var b=0,c;c=a[b];b++){var d=c.Dg;if(d&&(c.Pe(d),c.Lb)){var e=c.Lb.g;if(e&&ne(e)){var f=ne(e);for(d=0;c=f[d];d++)c.Pe(c.Dg);if(c=e.Gc())for(e=ne(c.g),d=0;c=e[d];d++)c.Pe(c.Dg)}}}}function fd(a){if(a.Cn){var b=E(a).getScreenCTM();b&&(a.Iq=b.inverse(),a.Cn=!1)}return a.Iq}g.Lj=function(){this.Cn=!0};g.isVisible=function(){return this.Kc};
function eg(a,b){var c=0,d=0,e=1;if(a.Ea.contains(b)||a.Ad.contains(b))e=a.scale;do{var f=bb(b);if(b==a.Ea||b==a.Ad)e=1;c+=f.x*e;d+=f.y*e;b=b.parentNode}while(b&&b!=E(a));return new k(c,d)}function Ij(a){a=a.um;return new Ia(a.width,a.height)}function Rj(a){if(!a.Bn)for(var b=a.v;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Bn=b;break}b=b.parentNode}return a.Bn}
g.La=function(a){this.v=B(rc,{"class":"blocklyWorkspace"},null);a&&(this.Nb=B(xc,{height:"100%",width:"100%","class":a},this.v),"blocklyMainBackground"==a&&this.ad?this.Nb.style.fill="url(#"+this.ad.ph.id+")":this.lb.subscribe(this.Nb,"workspaceBackgroundColour","fill"));this.Ea=B(rc,{"class":"blocklyBlockCanvas"},this.v);this.Ad=B(rc,{"class":"blocklyBubbleCanvas"},this.v);this.wd||(p(this.v,"mousedown",this,this.yf,!1,!0),p(this.v,"wheel",this,this.Du));this.options.xq&&(this.Oa=new (Xb(Qb,this.options,
!0))(this));this.ad&&this.ad.update(this.scale);vj(this);var b=Xb(Mb,this.options);b&&(a=this.xd,b=new b,a.Vc&&a.Vc.Xc&&a.Vc.Xc.o(),a.Vc=b,a.Vc&&(b=a.Vc,b=new hk(a.g,a.g.Na.I(),b),a.Vc.Xc=b,a.Oe(a.Vc.Xc.La())));this.Na.La(this.v,this.we());return this.v};
g.o=function(){this.N=!1;this.Sb&&this.Sb.cancel();this.v&&(D(this.v),this.v=null);this.Ad=this.Ea=null;this.Oa&&(this.Oa.o(),this.Oa=null);this.O&&(this.O.o(),this.O=null);this.Qh&&(this.Qh.o(),this.Qh=null);this.ra&&(this.ra.o(),this.ra=null);this.Tj&&(this.Tj.o(),this.Tj=null);this.ke&&(this.ke.o(),this.ke=null);this.ad&&(this.ad.o(),this.ad=null);this.Na.o();this.xd&&(this.xd.o(),this.xd=null);Xj.j.o.call(this);if(this.lb){var a=this.lb,b=a.Bj.indexOf(this);if(0>b)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Bj.splice(b,1);this.lb.unsubscribe(this.Nb);this.options.fb||(this.lb.o(),this.lb=null)}this.dn=this.ip=this.Bk=null;this.options.fb||(a=E(this))&&a.parentNode&&D(a.parentNode);this.Kl&&(r(this.Kl),this.Kl=null)};g.Vd=function(a,b){return new U(this,a,b)};
function ik(a,b){var c=new he({parentWorkspace:a,rtl:a.u,oneBasedIndex:a.options.Ub,renderer:a.options.mj,rendererOverrides:a.options.nj,move:{scrollbars:!0}});c.mb=a.options.mb;a.O=new (Xb(Tb,a.options,!0))(c);a.O.cf=!1;a.O.g.sa(!0);return a.O.La(b)}g.Gc=function(a){return this.O||a?this.O:this.Oa?this.Oa.Gc():null};function Dd(a){a.To&&a.N&&(a.ra&&a.ra.resize(),a.Lj())}
g.resize=function(){this.Oa&&this.Oa.position();this.O&&this.O.position();var a=Jf(this.Cc,Lf);var b=this.jc;b={ks:Oe(b),ik:Hj(b),Xu:Gj(b)};for(var c=[],d=0,e;e=a[d];d++)e.position(b,c),(e=e.lh())&&c.push(e);this.ra&&this.ra.resize();this.Lj();vj(this)};function Jg(a){var b=document.documentElement;var c=window;b=Ma&&c.pageYOffset!=b.scrollTop?new k(b.scrollLeft,b.scrollTop):new k(c.pageXOffset||b.scrollLeft,c.pageYOffset||b.scrollTop);xa(a.Rq,b)||(a.Rq=b,a.Lj(),vj(a))}
function jk(a,b,c){E(a);b&&(a.um.width=b);c&&(a.um.height=c)}function E(a){if(!a.vm)for(var b=a.v;b;){if("svg"==b.tagName){a.vm=b;break}b=b.parentNode}return a.vm}function Pc(a){if(0==v){var b=a.scale,c=-a.scrollY,d=-a.scrollX;if(!(b==a.lo&&1>Math.abs(c-a.nr)&&1>Math.abs(d-a.kr))){var e=new (A("viewport_change"))(c,d,b,a.id,a.lo);a.lo=b;a.nr=c;a.kr=d;x(e)}}}
g.translate=function(a,b){if(this.Yl&&this.Yk)this.Lg.Gg(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.Ea.setAttribute("transform",c);this.Ad.setAttribute("transform",c)}if(this.Ac){c=this.Ac;var d=this.scale;c.If=d;var e=a.toFixed(0),f=b.toFixed(0);c.Xp.x=parseInt(e,10);c.Xp.y=parseInt(f,10);c.Md.setAttribute("transform","translate("+e+","+f+") scale("+d+")")}this.ad&&this.ad.moveTo(a,b);Pc(this)};
function hd(a){if(a.Yl){a.Yk=!1;var b=a.Lg.pn();a.Lg.vk(a.v);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.Ea.setAttribute("transform",b);a.Ad.setAttribute("transform",b)}}
function gd(a){if(a.Yl&&!a.Yk){a.Yk=!0;var b=a.Ea.previousSibling,c=parseInt(E(a).getAttribute("width"),10),d=parseInt(E(a).getAttribute("height"),10),e=bb(a.Ea),f=a.Lg,l=a.Ea,m=a.Ad,n=a.scale;if(f.ea.childNodes.length)throw Error("Already dragging a block.");f.Oo=b;l.setAttribute("transform","translate(0, 0) scale("+n+")");m.setAttribute("transform","translate(0, 0) scale("+n+")");f.ea.setAttribute("width",c);f.ea.setAttribute("height",d);f.ea.appendChild(l);f.ea.appendChild(m);f.ea.style.display=
"block";a.Lg.Gg(e.x,e.y)}}g.ye=function(){var a=this.bc();return a?a.yb/this.scale:0};g.sa=function(a){this.Kc=a;if(this.v)if(this.ra&&this.ra.Bg(a),this.Gc()&&this.Gc().Bg(a),E(this).style.display=a?"block":"none",this.Oa&&this.Oa.sa(a),a){a=ne(this);for(var b=a.length-1;0<=b;b--)a[b].Yi();this.U();this.Oa&&this.Oa.position()}else id(!0)};g.U=function(){for(var a=ne(this),b=a.length-1;0<=b;b--)a[b].U(!1);if(this.Sb)for(a=this.Sb.nh(),b=0;b<a.length;b++)a[b].U(!1);b=this.xd;b.g.zh&&b.qe&&b.g.mh().qd()};
function kk(a){for(var b=pd,c=0,d;d=b.Wk[c];c++)d.zd(!1);b.Wk.length=0;if(d=a?b.qc(a):null)-1==b.Wk.indexOf(d)&&b.Wk.push(d),d.zd(!0)}
function lk(a){var b=mk;if(a.N&&b.tagName&&!(b.getElementsByTagName("block").length>=we(a)))if(a.Sb&&a.Sb.cancel(),"comment"==b.tagName.toLowerCase()){v++;try{var c=ma.Av.Ok(b),d=parseInt(b.getAttribute("x"),10),e=parseInt(b.getAttribute("y"),10);isNaN(d)||isNaN(e)||(a.u&&(d=-d),c.moveBy(d+50,e+50))}finally{v--}0==v&&ma.zv.Fv(c);c.select()}else{v++;try{var f=yd(b,a),l=parseInt(b.getAttribute("x"),10),m=parseInt(b.getAttribute("y"),10);if(!isNaN(l)&&!isNaN(m)){a.u&&(l=-l);do{b=!1;var n=ne(a);c=0;for(var q;q=
n[c];c++){var t=q.na();if(1>=Math.abs(l-t.x)&&1>=Math.abs(m-t.y)){b=!0;break}}if(!b){var w=f.td(!1);c=0;for(var z;z=w[c];c++)if(z.closest(28,new k(l,m)).connection){b=!0;break}}b&&(l=a.u?l-28:l+28,m+=56)}while(b);f.moveBy(l,m)}}finally{v--}0==v&&!f.aa&&x(new (A("create"))(f));f.select()}}function gk(a){(a=a.wd?a.Z:a)&&!a.Sb&&a.Oa&&a.Oa.Gc()&&(a=a.Oa,a.wb&&a.wb.De()&&a.wb.jh.length&&a.O.show(a.wb.jh))}g.Hf=function(a,b){Xj.j.Hf.call(this,a,b);gk(this)};g.se=function(a){Xj.j.se.call(this,a);gk(this)};
g.nd=function(a,b,c){a=Xj.j.nd.call(this,a,b,c);gk(this);return a};function vj(a){var b=Jf(a.Cc,Mf);a.Nm=[];for(var c=0,d;d=b[c];c++){var e=d.ln();e&&a.Nm.push({component:d,yt:e})}}function bg(a,b){for(var c=0,d;d=a.Nm[c];c++)if(d.yt.contains(b.clientX,b.clientY))return d.component;return null}g.yf=function(a){var b=this.ve(a);b&&Og(b,a,this)};g.Aj=function(a,b){a=gb(a,E(this),fd(this));a.x/=this.scale;a.y/=this.scale;this.kq=za(b,a)};g.jb=function(){return null!=this.Sb&&this.Sb.jb()};
g.sb=function(){return this.options.Tb&&!!this.options.Tb.scrollbars||this.options.Tb&&this.options.Tb.Rh||this.options.Tb&&this.options.Tb.ue||this.options.Pa&&this.options.Pa.Rh||this.options.Pa&&this.options.Pa.zr};function Dg(a){var b=!!a.ra;return a.sb()&&(!b||b&&!!a.ra.Ia)}function Eg(a){var b=!!a.ra;return a.sb()&&(!b||b&&!!a.ra.ta)}
g.Du=function(a){if(Sg())a.preventDefault(),a.stopPropagation();else{var b=this.options.Pa&&this.options.Pa.Rh,c=this.options.Tb&&this.options.Tb.Rh;if(b||c){var d=hb(a);!b||!a.ctrlKey&&c?(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c)):(d=-d.y/50,b=gb(a,E(this),fd(this)),this.zoom(b.x,b.y,d));a.preventDefault()}}};g.xj=function(a){if(!this.options.readOnly&&!this.wd){var b=Mi("workspace",{h:this});this.zt&&this.zt(b,a);Ji.show(a,b,this.u)}};
function ed(a){if(a.options.fb)ed(a.options.fb);else{rf=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{E(a).focus({preventScroll:!0})}catch(b){try{E(a).parentNode.setActive()}catch(c){E(a).parentNode.focus({preventScroll:!0})}}}}
g.zoom=function(a,b,c){c=Math.pow(this.options.Pa.Kr,c);var d=this.scale*c;if(this.scale!=d){d>this.options.Pa.$i?c=this.options.Pa.$i/this.scale:d<this.options.Pa.bj&&(c=this.options.Pa.bj/this.scale);var e=this.Ea.getCTM(),f=E(this).createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}};
function nk(a,b){var c=a.bc();if(a.O){var d=c.Tr?c.Tr/2:0;c=c.Sr?c.Sr/2:0}else d=c.yb/2+c.Qb,c=c.xb/2+c.Xb;a.zoom(d,c,b)}g.It=function(){Ec(this.Ea,"blocklyCanvasTransitioning");Ec(this.Ad,"blocklyCanvasTransitioning")};
g.setScale=function(a){this.options.Pa.$i&&a>this.options.Pa.$i?a=this.options.Pa.$i:this.options.Pa.bj&&a<this.options.Pa.bj&&(a=this.options.Pa.bj);this.scale=a;id(!1);this.O&&(this.O.Po(),vj(this));this.ad&&this.ad.update(this.scale);a=this.bc();this.scrollX-=a.Qb;this.scrollY-=a.Xb;a.ld+=a.Qb;a.md+=a.Xb;this.scroll(this.scrollX,this.scrollY);if(this.ra)if(this.O){var b=this.ra;b.Ia&&$c(b.Ia,a);b.ta&&bd(b.ta,a)}else b=this.ra,b.Ia&&ad(b.Ia,a),b.ta&&cd(b.ta,a)};
function ok(a){return a.options.fb?ok(a.options.fb):a.scale}g.scroll=function(a,b){id(!0);var c=this.bc();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);var d=c.scrollTop+Math.max(0,c.scrollHeight-c.xb);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.yb)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.ra&&this.ra.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.Qb;b+=c.Xb;this.translate(a,b)};
function Yj(a){var b=this.bc();"number"==typeof a.x&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.yb)*a.x));"number"==typeof a.y&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.xb)*a.y));this.translate(this.scrollX+b.Qb,this.scrollY+b.Xb)}g.qc=function(a){return Xj.j.qc.call(this,a)};g.pb=function(a){return Xj.j.pb.call(this,a)};g.kk=function(a){this.Hj.push(a);Xj.j.kk.call(this,a)};g.Hl=function(a){rb(this.Hj,a);Xj.j.Hl.call(this,a)};g.Vb=function(a){var b=!this.To&&a;this.To=a;b&&Dd(this)};
g.clear=function(){this.Vb(!1);Xj.j.clear.call(this);this.Hj=[];this.Vb(!0)};function pk(a,b){if("function"!=typeof b)throw TypeError("Button callbacks must be functions.");a.dn.CREATE_VARIABLE=b}function Kh(a,b){return(a=a.dn[b])?a:null}function bk(a,b,c){if("function"!=typeof c)throw TypeError("Toolbox category callbacks must be functions.");a.ip[b]=c}
g.ve=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.Sb;return c?b&&c.hg?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.Sb=new Sj(a,this):null};function fj(a){a.Sb&&a.Sb.cancel()};function qk(a){qk.j.constructor.call(this);a.tj=this.Nu.bind(this);var b=this.g=new Xj(a),c=new Jj(this.g,this);b.jc=c;b.bc=b.jc.bc.bind(b.jc);this.g.wd=!0;this.g.sa(this.Kc);this.id=mb();this.u=!!a.u;this.Of=a.mb;this.Ym=[];this.hl=[];this.li=[];this.tb=[];this.Jo=[];this.Ph=this.g.Na.I().hk;this.Z=null}F(qk,ij);g=qk.prototype;g.cf=!0;g.Kc=!1;g.cg=!0;g.Ja=8;g.Wg=qk.prototype.Ja;g.Ms=3*qk.prototype.Wg;g.jt=2.5;g.ya=0;g.Jb=0;g.Ht=70;
g.La=function(a){this.v=B(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Nb=B(uc,{"class":"blocklyFlyoutBackground"},this.v);this.v.appendChild(this.g.La());this.g.lb.subscribe(this.Nb,"flyoutBackgroundColour","fill");this.g.lb.subscribe(this.Nb,"flyoutOpacity","fill-opacity");return this.v};
g.J=function(a){this.Z=a;this.g.Z=a;this.g.ra=new Mc(this.g,!1,!0,"blocklyFlyoutScrollbar",this.jt);this.Bb();Array.prototype.push.apply(this.Ym,p(this.v,"wheel",this,this.fv));this.cf||(this.Nk=this.Zm.bind(this),Ae(this.Z,this.Nk));Array.prototype.push.apply(this.Ym,p(this.Nb,"mousedown",this,this.yf));this.g.ve=this.Z.ve.bind(this.Z);this.g.Ol(this.Z.$);var b=this.g;b.Ef=new me(b);Ff(a.Cc,{component:this,weight:1,Hd:[If,Mf]})};
g.o=function(){this.Bb();Gf(this.g.Cc,this.id);r(this.Ym);this.Nk&&(rb(this.Z.tb,this.Nk),this.Nk=null);this.g&&(this.g.lb.unsubscribe(this.Nb),this.g.Z=null,this.g.o(),this.g=null);this.v&&(D(this.v),this.v=null);this.Z=this.Nb=null};g.ye=function(){return this.ya};g.isVisible=function(){return this.Kc};g.sa=function(a){var b=a!=this.isVisible();this.Kc=a;b&&(this.cf||vj(this.g),this.Kj())};g.Bg=function(a){var b=a!=this.cg;this.cg=a;b&&this.Kj()};
g.Kj=function(){var a=this.cg?this.isVisible():!1;this.v.style.display=a?"block":"none";this.g.ra.Bg(a)};g.Bb=function(){if(this.isVisible()){this.sa(!1);for(var a=0,b;b=this.tb[a];a++)r(b);this.tb.length=0;this.Ff&&(rb(this.g.tb,this.Ff),this.Ff=null)}};
g.show=function(a){this.g.Vb(!1);this.Bb();rk(this);"string"==typeof a&&(a=sk(this,a));this.sa(!0);a=fe(a);a=tk(this,a);uk(this,a.At,a.Lt);this.tb.push(p(this.Nb,"mouseover",this,function(){for(var b=this.g.pb(!1),c=0,d;d=b[c];c++)d.lj()}));this.ya=0;this.g.Vb(!0);this.Po();this.Zm();this.position();this.Ff=this.Po.bind(this);Ae(this.g,this.Ff)};
function tk(a,b){var c=[],d=[];a.Jo.length=0;for(var e=a.Ms,f=0,l;l=b[f];f++){if(l.custom){var m=sk(a,l.custom);m=fe(m);b.splice.apply(b,[f,1].concat(m));l=b[f]}switch(l.kind.toUpperCase()){case "BLOCK":m=l;var n=m;l=null;var q=n.blockxml;q&&"string"!=typeof q?l=q:q&&"string"==typeof q?(l=wd(q),n.blockxml=l):n.type&&(l=G("xml"),l.setAttribute("type",n.type),l.setAttribute("disabled",n.disabled),n.blockxml=l);if(!l)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
n=l;l=a;q=yd(n,l.g);q.isEnabled()||l.Jo.push(q);l=q;m=parseInt(m.gap||n.getAttribute("gap"),10);d.push(isNaN(m)?e:m);c.push({type:"block",block:l});break;case "SEP":m=d;n=e;l=parseInt(l.gap,10);!isNaN(l)&&0<m.length?m[m.length-1]=l:m.push(n);break;case "LABEL":m=vk(a,l,!0);c.push({type:"button",button:m});d.push(e);break;case "BUTTON":m=vk(a,l,!1),c.push({type:"button",button:m}),d.push(e)}}return{At:c,Lt:d}}
function sk(a,b){b=a.g.Z.ip[b]||null;if("function"!=typeof b)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=b(a.g.Z);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function vk(a,b,c){if(!Ih)throw Error("Missing require for Blockly.FlyoutButton");return new Ih(a.g,a.Z,b,c)}
function rk(a){for(var b=a.g.pb(!1),c=0,d;d=b[c];c++)d.h==a.g&&d.o(!1,!1);for(c=0;c<a.hl.length;c++)if(b=a.hl[c])zg(b),D(b);for(c=a.hl.length=0;b=a.li[c];c++)b.o();a.li.length=0;a.g.Ef.clear()}function wk(a,b){return function(c){var d=a.Z.ve(c);d&&(Qg(d,b),Pg(d,c,a))}}g.yf=function(a){var b=this.Z.ve(a);b&&Pg(b,a,this)};
function Kg(a,b){var c=null;v++;var d=a.Z.eg();a.Z.Vb(!1);try{var e=a.Z;if(!b.W())throw Error("oldBlock is not rendered.");var f=td(b,!0);e.Vb(!1);var l=yd(f,e);if(!l.W())throw Error("block is not rendered.");var m=eb(e.Ea),n=eb(a.g.Ea),q=b.na();q.scale(a.g.scale);var t=za(Aa(n,q),m);t.scale(1/e.scale);l.moveBy(t.x,t.y);c=l}finally{v--}id();b=Ed(a.Z,d);if(0==v){y(!0);for(d=0;d<b.length;d++)e=b[d],x(new (A("var_create"))(e));x(new (A("create"))(c))}a.cf?a.Bb():a.Zm();return c}
g.Zm=function(){for(var a=this.g.pb(!1),b=0,c;c=a[b];b++)if(-1==this.Jo.indexOf(c))for(var d=xe(this.Z,sb(c));c;)c.kc(d),c=ub(c)};
g.Po=function(){this.Ff&&rb(this.g.tb,this.Ff);this.g.scale=this.Z.scale;for(var a=0,b=this.g.pb(!1),c=0,d;d=b[c];c++){var e=$f(d).width;d.A&&(e-=this.Ph);a=Math.max(a,e)}for(c=0;d=this.li[c];c++)a=Math.max(a,d.width);a+=1.5*this.Wg+this.Ph;a*=this.g.scale;a+=Oc;if(this.ya!=a){for(c=0;d=b[c];c++){if(this.u){e=d.na().x;var f=a/this.g.scale-this.Wg;d.A||(f-=this.Ph);d.moveBy(f-e,0)}d.pq&&(e=d.pq,f=d,d=$f(f),e.setAttribute("width",d.width),e.setAttribute("height",d.height),f=f.na(),e.setAttribute("y",
f.y),e.setAttribute("x",this.u?f.x-d.width:f.x))}if(this.u)for(c=0;d=this.li[c];c++)d.moveTo(a/this.g.scale-d.width-this.Wg-this.Ph,d.yg.y);this.Z.mb!=this.Of||2!=this.Of||this.Z.Oa||this.Z.translate(this.Z.scrollX+a,this.Z.scrollY);this.ya=a;this.position();vj(this.Z)}this.Ff&&Ae(this.g,this.Ff)};function Ig(a){return a.g.ra?a.g.ra.isVisible():!1};function xk(a){xk.j.constructor.call(this,a)}F(xk,qk);g=xk.prototype;g.Nu=function(a){if(this.isVisible()){var b=this.g.jc,c=b.lf(),d=Oe(b);b=Hj(b);"number"==typeof a.y&&(this.g.scrollY=-(c.top+(c.height-d.height)*a.y));this.g.translate(this.g.scrollX+b.left,this.g.scrollY+b.top)}};
g.position=function(){if(this.isVisible()&&this.Z.isVisible()){var a=Oe(this.Z.jc);this.Jb=a.height;var b=this.ya-this.Ja;a=a.height-2*this.Ja;var c=3==this.Of,d=b+this.Ja;d=["M "+(c?d:0)+",0"];d.push("h",c?-b:b);d.push("a",this.Ja,this.Ja,0,0,c?0:1,c?-this.Ja:this.Ja,this.Ja);d.push("v",Math.max(0,a));d.push("a",this.Ja,this.Ja,0,0,c?0:1,c?this.Ja:-this.Ja,this.Ja);d.push("h",c?b:-b);d.push("z");this.Nb.setAttribute("d",d.join(" "));this.isVisible()?(c=this.Z.jc,b=Hj(c),a=Oe(c),c=Gj(c),c=this.Z.mb==
this.Of?this.Z.Oa?2==this.Of?c.width:a.width-this.ya:2==this.Of?0:a.width:2==this.Of?0:a.width+b.left-this.ya):c=0;b=this.ya;a=this.Jb;this.v.setAttribute("width",b);this.v.setAttribute("height",a);jk(this.g,b,a);"svg"==this.v.tagName?Hc(this.v,"translate("+c+"px,0px)"):this.v.setAttribute("transform","translate("+c+",0)");if(b=this.g.ra)b.Ml(c,0),b.resize(),b.Ia&&b.Ia.setPosition(b.Ia.position.x,b.Ia.position.y),b.ta&&b.ta.setPosition(b.ta.position.x,b.ta.position.y)}};
g.Vo=function(){var a=this.g.ra;a.ta&&a.ta.set(0,!0)};g.fv=function(a){var b=hb(a);if(b.y){var c=this.g.jc,d=c.lf();b=Oe(c).top-d.top+b.y;c=this.g.ra;c.ta&&c.ta.set(b,!0);lh();wf()}a.preventDefault();a.stopPropagation()};
function uk(a,b,c){a.g.scale=a.Z.scale;for(var d=a.Wg,e=a.u?d:d+a.Ph,f=0,l;l=b[f];f++)if("block"==l.type){l=l.block;for(var m=tb(l,!1),n=0,q;q=m[n];n++)q.Ta=!0;l.U();q=l.W();m=$f(l);n=l.A?e-a.Ph:e;l.moveBy(n,d);var t=a,w=l,z=f;n=B(xc,{"fill-opacity":0,x:a.u?n-m.width:n,y:d,height:m.height,width:m.width},null);n.kd=w;vg(n);t.g.Ea.insertBefore(n,w.W());w.pq=n;t.hl[z]=n;t=a;t.tb.push(p(q,"mousedown",null,wk(t,l)));t.tb.push(p(n,"mousedown",null,wk(t,l)));t.tb.push(Ib(q,"mouseenter",l,l.jk));t.tb.push(Ib(q,
"mouseleave",l,l.lj));t.tb.push(Ib(n,"mouseenter",l,l.jk));t.tb.push(Ib(n,"mouseleave",l,l.lj));d+=m.height+c[f]}else"button"==l.type&&(m=a,n=l.button,q=e,t=d,w=n.La(),n.moveTo(q,t),n.show(),m.tb.push(p(w,"mousedown",m,m.yf)),m.li.push(n),d+=l.button.height+c[f])}g.ln=function(){if(!this.v||this.cf||!this.isVisible())return null;var a=this.v.getBoundingClientRect(),b=a.left;return 2==this.Of?new Ba(-1E9,1E9,-1E9,b+a.width):new Ba(-1E9,1E9,b,1E9)};u(Tb,"default",xk);
function yk(a){this.g=a;this.id="zoomControls";this.Ze=this.Uj=this.Uh=this.zo=this.xo=this.Ao=null}g=yk.prototype;g.je=32;g.$e=32;g.gk=2;g.bk=11;g.Xh=20;g.dm=20;g.v=null;g.Ee=0;g.Ve=0;g.Ri=!1;
g.La=function(){this.v=B(rc,{},null);var a=String(Math.random()).substring(2);this.Uj=B(rc,{"class":"blocklyZoom"},this.v);var b=B(jc,{id:"blocklyZoomoutClipPath"+a},this.Uj);B(xc,{width:32,height:32},b);B(sc,{width:96,height:124,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+a+")"},this.Uj).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.Df+"sprites.png");this.zo=p(this.Uj,"mousedown",null,this.ps.bind(this,-1));this.Uh=B(rc,{"class":"blocklyZoom"},this.v);b=B(jc,
{id:"blocklyZoominClipPath"+a},this.Uh);B(xc,{width:32,height:32},b);B(sc,{width:96,height:124,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+a+")"},this.Uh).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.Df+"sprites.png");this.xo=p(this.Uh,"mousedown",null,this.ps.bind(this,1));this.g.sb()&&(this.Ze=B(rc,{"class":"blocklyZoom"},this.v),b=B(jc,{id:"blocklyZoomresetClipPath"+a},this.Ze),B(xc,{width:32,height:32},b),B(sc,{width:96,height:124,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+
a+")"},this.Ze).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.Df+"sprites.png"),this.Ao=p(this.Ze,"mousedown",null,this.Iu.bind(this)));return this.v};g.J=function(){Ff(this.g.Cc,{component:this,weight:2,Hd:[Lf]});this.Ri=!0};g.o=function(){Gf(this.g.Cc,"zoomControls");this.v&&D(this.v);this.Ao&&r(this.Ao);this.xo&&r(this.xo);this.zo&&r(this.zo)};g.lh=function(){var a=this.gk+2*this.$e;this.Ze&&(a+=this.bk+this.$e);return new Ba(this.Ve,this.Ve+a,this.Ee,this.Ee+this.je)};
g.position=function(a,b){if(this.Ri){var c=yj(a),d=this.gk+2*this.$e;this.Ze&&(d+=this.bk+this.$e);var e=c.vertical;a=zj(xj(c,new Ia(this.je,d),this.dm,this.Xh,a,this.g),this.Xh,0===e?1:0,b);0===e?(e=this.gk+this.$e,this.Uh.setAttribute("transform","translate(0, "+e+")"),this.Ze&&this.Ze.setAttribute("transform","translate(0, "+(e+this.bk+this.$e)+")")):(e=this.Ze?this.bk+this.$e:0,this.Uh.setAttribute("transform","translate(0, "+e+")"),this.Uj.setAttribute("transform","translate(0, "+(e+this.gk+
this.$e)+")"));this.Ve=a.top;this.Ee=a.left;this.v.setAttribute("transform","translate("+this.Ee+","+this.Ve+")")}};g.ps=function(a,b){ed(this.g);nk(this.g,a);zk(this);xb=null;b.stopPropagation();b.preventDefault()};
g.Iu=function(a){ed(this.g);var b=Math.log(this.g.options.Pa.Pr/this.g.scale)/Math.log(this.g.options.Pa.Kr),c=this.g;C(c.Ea,"blocklyCanvasTransitioning");C(c.Ad,"blocklyCanvasTransitioning");nk(this.g,b);b=this.g;if(b.sb()){c=b.bc();var d=(c.scrollWidth-c.yb)/2,e=(c.scrollHeight-c.xb)/2;d=-d-c.scrollLeft;e=-e-c.scrollTop;b.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");setTimeout(this.g.It.bind(this.g),500);zk(this);xb=null;
a.stopPropagation();a.preventDefault()};function zk(a){a=new (A("click"))(null,a.g.id,"zoom_controls");x(a)}Se([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]);function Ak(a){this.Rd="undefined"==typeof a;this.Pb=a?a.id:"";this.group=Yb;this.Mb=!1}F(Ak,kd);Ak.prototype.type="finished_loading";Ak.prototype.X=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Pb&&(a.workspaceId=this.Pb);return a};Ak.prototype.S=function(a){this.Rd=!1;this.Pb=a.workspaceId;this.group=a.group};u(Nb,"finished_loading",Ak);function Bk(a){this.xi=a;this.La()}g=Bk.prototype;g.ea=null;g.Md=null;g.xi=null;g.If=1;g.Cj=null;g.Xp=new k(0,0);g.La=function(){this.ea||(this.ea=B(yc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.xi),this.Md=B(rc,{},this.ea))};
function ag(a,b){if(a.Md.childNodes.length)throw Error("Already dragging a block.");a.Md.appendChild(b);a.ea.style.display="block";a.Cj=new k(0,0)}g.Gg=function(a,b){this.Cj=new k(a*this.If,b*this.If);a=this.Cj.x;b=this.Cj.y;a=a.toFixed(0);b=b.toFixed(0);this.ea.style.display="block";Hc(this.ea,"translate3d("+a+"px, "+b+"px, 0px)")};g.pn=function(){var a=bb(this.ea);return new k(a.x/this.If,a.y/this.If)};g.W=function(){return this.ea};
g.vk=function(a){a?a.appendChild(this.Md.firstChild):this.Md.removeChild(this.Md.firstChild);this.ea.style.display="none";if(this.Md.childNodes.length)throw Error("Drag group was not cleared.");this.Cj=null};function Ck(a){var b="blockly";"string"==typeof b&&(b=document.getElementById(b)||document.querySelector(b));if(!document.contains(b))throw Error("Error: container is not in current document");a=new he(a||{});var c=document.createElement("div");c.className="injectionDiv";c.tabIndex=0;yh(c,"label",h.WORKSPACE_ARIA_LABEL);b.appendChild(c);b=Dk(c,a);var d=new Bk(c),e=new Wj(c),f=Ek(b,a,d,e);Fk(f);rf=f;tj(f);c.addEventListener("focusin",function(){rf=f});return f}
function Dk(a,b){a.setAttribute("dir","LTR");var c=b.Xt,d=b.Df;if(!Re){Re=!0;var e=Te.join("\n");Te.length=0;c&&(c=d.replace(/[\\/]$/,""),e=e.replace(/<<<PATH>>>/g,c),c=document.createElement("style"),c.id="blockly-common-style",c.appendChild(document.createTextNode(e)),document.head.insertBefore(c,document.head.firstChild))}a=B(yc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg",tabindex:"0"},
a);c=B(kc,{},a);e=b.wq;c=B(vc,{id:"blocklyGridPattern"+String(Math.random()).substring(2),patternUnits:"userSpaceOnUse"},c);0<e.length&&0<e.spacing?(B(tc,{stroke:e.colour},c),1<e.length&&B(tc,{stroke:e.colour},c)):B(tc,{},c);b.tn=c;return a}
function Ek(a,b,c,d){b.fb=null;b=new Xj(b,c,d);c=b.options;b.scale=c.Pa.Pr;a.appendChild(b.La("blocklyMainBackground"));C(Rj(b),b.Na.sd());C(Rj(b),b.we().sd());!c.xq&&c.Ud&&(d=ik(b,yc),Gc(d,a));if(c.Aq){if(!Aj)throw Error("Missing require for Blockly.Trashcan");b.Qh=new Aj(b);d=b.Qh.La();b.v.insertBefore(d,b.Ea)}if(c.Pa&&c.Pa.controls){if(!yk)throw Error("Missing require for Blockly.ZoomControls");b.Tj=new yk(b);c=b.Tj.La();b.v.appendChild(c)}b.lb.subscribe(a,"workspaceBackgroundColour","background-color");
b.translate(0,0);Ae(b,Gk(b));tj(b);fh||(fh=document.createElement("div"),fh.className="blocklyWidgetDiv",(of||document.body).appendChild(fh));nf();tg||(tg=document.createElement("div"),tg.className="blocklyTooltipDiv",(of||document.body).appendChild(tg));return b}function Hk(a){var b=a.jc;if(!(Dg(b.g)&&Eg(b.g)||a.jb())){b=b.lf(!0);for(var c=[].concat(a.Hj),d=0,e;e=c[d];d++)gg(a,b,e)}}
function Gk(a){return function(b){var c=a.jc;if(!(Dg(c.g)&&Eg(c.g)||a.jb()))if(-1!==$b.indexOf(b.type)){c=c.lf(!0);var d=null;switch(b.type){case "create":case "move":(d=a.qc(b.pa))&&(d=d.ud())}if(d){var e=Yb;y(b.group);gg(a,c,d)&&!b.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==e&&y(e)}}else"viewport_change"===b.type&&b.scale>b.dj&&Hk(a)}}
function gg(a,b,c){var d=c.lh(),e=jd(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top,f=b.left;b=b.left+b.width-(d.right-d.left);a.u?f=Math.min(b,f):b=Math.max(f,b);return(a=jd(f,d.left,b)-d.left)||e?(c.moveBy(a,e),!0):!1}
function Fk(a){var b=a.options,c=E(a);p(c.parentNode,"contextmenu",null,function(e){ab(e)||e.preventDefault()});c=p(window,"resize",null,function(){id(!0);tj(a);Hk(a)});a.Kl=c;Ik();if(b.Ud){c=a.Oa;var d=a.Gc(!0);c?c.J():d&&(d.J(a),d.show(b.Ud),"function"==typeof d.Vo&&d.Vo())}b.Aq&&a.Qh.J();b.Pa&&b.Pa.controls&&a.Tj.J();b.Tb&&b.Tb.scrollbars?(a.ra=new Mc(a,!0===b.Tb.scrollbars||!!b.Tb.scrollbars.Qi,!0===b.Tb.scrollbars||!!b.Tb.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),a.ra.resize()):a.tj({x:.5,
y:.5});b.Zt&&Jk(b.Df,a)}function Ik(){na||(p(document,"scroll",null,function(){for(var a=Be(),b=0,c;c=a[b];b++)c.Lj&&c.Lj()}),p(document,"keydown",null,Kk),Ib(document,"touchend",null,Bb),Ib(document,"touchcancel",null,Bb),Sa&&p(window,"orientationchange",document,function(){tj(rf)}));na=!0}
function Jk(a,b){function c(){for(;e.length;)r(e.pop());d.preload()}var d=b.ke;d.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");d.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");d.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var e=[];e.push(p(document,"mousemove",null,c,!0));e.push(p(document,"touchstart",null,c,!0))};function yi(a){this.hs="";this.Jr=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.Jr[a[b]]=!0}this.reset()}var Ci="DEVELOPER_VARIABLE";yi.prototype.reset=function(){this.Kd=Object.create(null);this.cq=Object.create(null);this.$=null};yi.prototype.Ol=function(a){this.$=a};function zi(a,b){b=qd(b);for(var c=0;c<b.length;c++)a.za(b[c].V(),"VARIABLE")}function Ai(a,b){b=Lk(b);b=b[0].concat(b[1]);for(var c=0;c<b.length;c++)a.za(b[c][0],"PROCEDURE")}
yi.prototype.za=function(a,b){var c=a;"VARIABLE"==b&&(this.$?a=(a=this.$.vd(a))?a.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),a=null),a&&(c=a));a=c.toLowerCase();var d="VARIABLE"==b||b==Ci?this.hs:"";b in this.Kd||(this.Kd[b]=Object.create(null));var e=this.Kd[b];if(a in e)return d+e[a];
b=xi(this,c,b);e[a]=b.substr(d.length);return b};function xi(a,b,c){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b=h.UNNAMED_KEY||"unnamed";for(var d="";a.cq[b+d]||b+d in a.Jr;)d=d?d+1:2;b+=d;a.cq[b]=!0;return("VARIABLE"==c||c==Ci?a.hs:"")+b}function te(a,b){return a.toLowerCase()==b.toLowerCase()};var ck={};function Lk(a){var b=ue(a,"procedures_defnoreturn").map(function(c){return c.kf()});a=ue(a,"procedures_defreturn").map(function(c){return c.kf()});b.sort(Mk);a.sort(Mk);return[b,a]}function Mk(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:"base"})}function Nk(a,b){if(b.Ta)return a;for(a=a||h.UNNAMED_KEY||"unnamed";Ok(a,b.h,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a}
function Ok(a,b,c){b=ne(b);for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].kf){var e=b[d].kf();if(te(e[0],a))return!0}return!1}function Pk(a){a=a.trim();var b=Nk(a,this.G()),c=this.Za();if(c!=a&&c!=b){a=ne(this.G().h);for(var d=0;d<a.length;d++)a[d].Fh&&a[d].Fh(c,b)}return b}
function dk(a){function b(f,l){for(var m=0;m<f.length;m++){var n=f[m][0],q=f[m][1],t=G("block");t.setAttribute("type",l);t.setAttribute("gap",16);var w=G("mutation");w.setAttribute("name",n);t.appendChild(w);for(n=0;n<q.length;n++){var z=G("arg");z.setAttribute("name",q[n]);w.appendChild(z)}c.push(t)}}var c=[];if(L.procedures_defnoreturn){var d=G("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var e=G("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(h.PROCEDURES_DEFNORETURN_PROCEDURE));
d.appendChild(e);c.push(d)}L.procedures_defreturn&&(d=G("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),e=G("field"),e.setAttribute("name","NAME"),e.appendChild(document.createTextNode(h.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));L.procedures_ifreturn&&(d=G("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=Lk(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");
return c}
function Qk(a){for(var b=[],c=ue(a,"procedures_mutatorarg"),d=0,e;e=c[d];d++)b.push(I(e,"NAME"));c=G("xml");d=G("block");d.setAttribute("type","procedures_mutatorarg");e=G("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(Rk("x",b)));d.appendChild(e);c.appendChild(d);if(b=ce(c)){if(!a.options.Ud)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(ge(b)){if(!a.Oa)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.Ud=b;a.Oa.U(b)}else{if(!a.O)throw Error("Existing toolbox has categories.  Can't change mode.");
a.options.Ud=b;a.O.show(b)}}else if(a.options.Ud)throw Error("Can't nullify an existing toolbox.");}function ek(a){if("bubble_open"==a.type&&"mutator"===a.tm&&a.xh){a=(dc[a.Pb]||null).qc(a.pa);var b=a.type;if("procedures_defnoreturn"==b||"procedures_defreturn"==b)a=a.Lb.g,Qk(a),Ae(a,Sk)}}function Sk(a){"create"!=a.type&&"delete"!=a.type&&"change"!=a.type||Qk(dc[a.Pb]||null)}
function Tk(a){var b=Zb,c=a.kf()[0],d=a.ma(!0),e=[];a=ne(a.h);for(var f=0;f<a.length;f++)if(a[f].Hc){var l=a[f].Hc();l&&te(l,c)&&e.push(a[f])}for(c=0;a=e[c];c++)f=(f=a.ma())&&vd(f),a.Ha(d),l=(l=a.ma())&&vd(l),f!=l&&(Zb=!1,x(new (A("change"))(a,"mutation",null,f,l)),Zb=b)}function Uk(a,b){b=ne(b);for(var c=0;c<b.length;c++)if(b[c].kf){var d=b[c].kf();if(d&&te(d[0],a))return b[c]}return null};function Vk(){Wk=this;this.fd=Object.create(null);this.yh=Object.create(null)}var Wk,Xk={Shift:16,Control:17,Alt:18,Meta:91};Vk.prototype.register=function(a,b){if(this.fd[a.name]&&!b)throw Error('Shortcut with name "'+a.name+'" already exists.');this.fd[a.name]=a};
Vk.prototype.unregister=function(a){if(!this.fd[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var b in this.yh){var c=b,d=this.yh[c],e=d.indexOf(a);-1<e&&(d.splice(e,1),0==d.length&&delete this.yh[c])}delete this.fd[a];return!0};function Yk(a,b){var c=Wk;a=String(a);var d=c.yh[a];if(d)throw Error('Shortcut with name "'+b+'" collides with shortcuts '+d.toString());c.yh[a]=[b]}
Vk.prototype.so=function(a,b){var c="";for(d in Xk)b.getModifierState(d)&&(""!=c&&(c+="+"),c+=d);""!=c&&b.keyCode?c=c+"+"+b.keyCode:b.keyCode&&(c=b.keyCode.toString());c=this.yh[c]||[];if(!c)return!1;var d=0;for(var e;e=c[d];d++)if(e=this.fd[e],(!e.gb||e.gb(a))&&e.qa&&e.qa(a,b,e))return!0;return!1};
function Zk(a,b){var c="";if(b){for(var d=nd(Xk),e=0,f;f=b[e];e++)if(0>d.indexOf(f))throw Error(f+" is not a valid modifier key.");for(var l in Xk)-1<b.indexOf(Xk[l])&&(""!=c&&(c+="+"),c+=l)}""!=c&&a?c=c+"+"+a:a&&(c=a.toString());return c}new Vk;function pe(a,b,c,d){this.h=a;this.name=b;this.type=c||"";this.Ae=d||mb();x(new (A("var_create"))(this))}pe.prototype.V=function(){return this.Ae};function $k(a,b){return a.name.localeCompare(b.name,void 0,{sensitivity:"base"})};var Zj={};function qd(a){var b=ne(a);a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].xe();if(d)for(var e=0;e<d.length;e++){var f=d[e],l=f.V();l&&(a[l]=f)}}b=[];for(l in a)b.push(a[l]);return b}var al={};
function Bi(a){a=ne(a);for(var b=Object.create(null),c=0,d;d=a[c];c++){var e=d.Iv;!e&&d.Ot&&(e=d.Ot,al[d.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+d.type+"')"),al[d.type]=!0));if(e)for(d=e(),e=0;e<d.length;e++)b[d[e]]=!0}return Object.keys(b)}
function ak(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");pk(a,function(d){bl(d.Vl)});b.push(c);a=cl(a);return b=b.concat(a)}
function cl(a){a=a.Ni("");var b=[];if(0<a.length){var c=a[a.length-1];if(L.variables_set){var d=G("block");d.setAttribute("type","variables_set");d.setAttribute("gap",L.math_change?8:24);d.appendChild(dl(c));b.push(d)}L.math_change&&(d=G("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",L.variables_get?20:8),d.appendChild(dl(c)),c=wd('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(L.variables_get){a.sort($k);
c=0;for(var e;e=a[c];c++)d=G("block"),d.setAttribute("type","variables_get"),d.setAttribute("gap",8),d.appendChild(dl(e)),b.push(d)}}return b}function Rk(a,b){if(!b.length)return a;for(var c="",d="ijkmnopqrstuvwxyzabcdefgh".indexOf(a);;){for(var e=!1,f=0;f<b.length;f++)if(b[f].toLowerCase()==a){e=!0;break}if(!e)return a;d++;25==d&&(d=0,c=Number(c)+1);a="ijkmnopqrstuvwxyzabcdefgh".charAt(d)+c}}
function bl(a){function b(c){el(h.NEW_VARIABLE_TITLE,c,function(d){if(d){var e=fl(d,a);if(e){if(""==e.type)var f=h.VARIABLE_ALREADY_EXISTS.replace("%1",e.name);else f=h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,f=f.replace("%1",e.name).replace("%2",e.type);qe(f,function(){b(d)})}else a.nd(d,"")}})}b("")}
function gl(a,b){function c(d){var e=h.RENAME_VARIABLE_TITLE.replace("%1",b.name);el(e,d,function(f){if(f){var l=hl(f,b.type,a);l?(l=h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",l.name).replace("%2",l.type),qe(l,function(){c(f)})):a.Hf(b.V(),f)}})}c("")}function el(a,b,c){il(a,b,function(d){d&&(d=d.replace(/[\s\xa0]+/g," ").trim(),d==h.RENAME_VARIABLE||d==h.NEW_VARIABLE)&&(d=null);c(d)})}
function hl(a,b,c){c=c.$.eg();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a&&e.type!=b)return e;return null}function fl(a,b){b=b.$.eg();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null}function dl(a){var b=G("field");b.setAttribute("name","VAR");b.setAttribute("id",a.V());b.setAttribute("variabletype",a.type);b.appendChild(document.createTextNode(a.name));return b}
function jl(a,b,c,d){var e=kl(a,b,c,d);e||(e=a.Ef,c||(c=Rk("i",(a.wd?a.Z:a).gn())),e=e?e.nd(c,d,b):a.nd(c,d,b));return e}function kl(a,b,c,d){var e=a.Ef,f=null;if(b&&(f=a.vd(b),!f&&e&&(f=e.vd(b)),f))return f;if(c){if(void 0==d)throw Error("Tried to look up a variable by name without a type");f=a.Zc(c,d);!f&&e&&(f=e.Zc(c,d))}return f}function Ed(a,b){a=a.eg();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var e=a[d];-1==b.indexOf(e)&&c.push(e)}return c};var rf=null,J=null,$d=[],mk=null,ll=null,ml=null,of=null;function tj(a){for(;a.options.fb;)a=a.options.fb;var b=E(a),c=Ij(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.width!=e&&(b.setAttribute("width",e+"px"),jk(a,e,null));c.height!=d&&(b.setAttribute("height",d+"px"),jk(a,null,d));a.resize()}}function Kk(a){var b=rf;!b||ab(a)||b.N&&!b.isVisible()||Wk.so(b,a)}function nl(a){a.h.wd||(y(!0),id(),a.A?a.o(!1,!0):a.o(!0,!0),y(!1))}
function ol(a){if(a.wh)a=null;else{for(var b=td(a,!0),c=0,d;d=b.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){b.removeChild(d);break}c=a.na();b.setAttribute("x",a.u?-c.x:c.x);b.setAttribute("y",c.y);a={xml:b,source:a.h,cv:sb(a,!0)}}a&&(mk=a.xml,ll=a.source,ml=a.cv)}function pl(){if(!mk)return!1;var a=ll;a.wd&&(a=a.Z);return ml&&xe(a,ml)?(y(!0),lk(a),y(!1),!0):!1}function id(a){Ag();lh();wf();var b=!!a;Jf(rf.Cc,Nf).forEach(function(c){c.Op(b)})}function qe(a,b){alert(a);b&&b()}
function re(a,b){b(confirm(a))}function il(a,b,c){c(prompt(a,b))}function ql(a){return function(){ki(this,a)}}function rl(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;null==d||""===d?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(L[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),L[d]={J:ql(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}}
function Di(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};var sl={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk (bokm\u00e5l)",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},tl=window.BlocklyGamesLang,ul=window.BlocklyGamesLanguages,vl=["ar","fa","he","ur"].includes(tl),wl=/\.html$/.test(window.location.pathname),V=document.getElementById.bind(document);
function xl(a){try{if(a.lineno||a.colno){var b=Date.now();if(!(xl.Qq+1E4>b)){xl.Qq=b;var c=new XMLHttpRequest,d="error="+encodeURIComponent(a.error&&a.error.stack||a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);c.open("POST","/errorReporter");c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(d);console.log("Error reported.")}}}catch(e){console.log(a.error)}}xl.Qq=0;wl||window.addEventListener("error",xl);
var yl,zl=Math,Al=zl.floor,Bl=Number,Cl,Dl=window.location.search.match(RegExp("[?&]level=([^&]+)"));Cl=Dl?decodeURIComponent(Dl[1].replace(/\+/g,"%20")):"NaN";var El=Al.call(zl,Bl(Cl));yl=isNaN(El)?1:Math.max(1,Math.min(El,10));
function Fl(a){document.title=W("Games.name",!1)+(a&&" : ")+a;document.dir=vl?"rtl":"ltr";document.head.parentElement.setAttribute("lang",tl);if(a=V("languageMenu")){for(var b=[],c=ba(ul),d=c.next();!d.done;d=c.next())d=d.value,b.push([sl[d],d]);b.sort(function(e,f){return e[0]>f[0]?1:e[0]<f[0]?-1:0});a.options.length=0;b=ba(b);for(c=b.next();!c.done;c=b.next())d=ba(c.value),c=d.next().value,d=d.next().value,c=new Option(c,d),d===tl&&(c.selected=!0),a.options.add(c);1>=a.options.length&&(a.style.display=
"none")}for(a=1;10>=a;a++)b=V("level"+a),c=!!Gl(a),b&&c&&(b.className+=" level_done");(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");wl||setTimeout(Hl,1)}function Gl(a){var b=Il;try{var c=window.localStorage[b+a]}catch(d){}return c}
function Jl(a,b){if(!a)throw TypeError("Element not found: "+a);"string"===typeof a&&(a=V(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",function(c){c.preventDefault();b(c)},!0)}function Kl(a){a%=360;0>a&&(a+=360);return a}function W(a,b){a=window.BlocklyGamesMsg[a];void 0===a&&(a="[Unknown message: ${name}]");return b?Ll(a):a}function Ll(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}
function Hl(){function a(c){(a.q=a.q||[]).push(arguments)}window.GoogleAnalyticsObject="GoogleAnalyticsFunction";window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")};function Ml(a,b){for(var c=0,d=0;d<b.length;d++)for(var e=b[d];e;)setTimeout(e.Jf.bind(e,a),c),e=ub(e),c+=10}function Nl(a,b){if(a.bd())Array.prototype.push.apply(b,tb(a,!1));else{a=sd(a,!1);for(var c=0;c<a.length;c++)Nl(a[c],b)}}function Ol(a){var b=[];a=a.pb(!0);for(var c=0;c<a.length;c++)Nl(a[c],b);return b}function Pl(a,b){y(b);var c=a.shift();c&&(c.h?(c.o(!1,!0),setTimeout(Pl,10,a,b)):Pl(a,b));y(!1)}
Li.register({$b:function(){return h.UNDO},gb:function(a){return 0<a.h.Hg.length?"enabled":"disabled"},qa:function(a){ze(a.h,!1)},Mc:"workspace",id:"undoWorkspace",weight:1});Li.register({$b:function(){return h.REDO},gb:function(a){return 0<a.h.jj.length?"enabled":"disabled"},qa:function(a){ze(a.h,!0)},Mc:"workspace",id:"redoWorkspace",weight:2});
Li.register({$b:function(){return h.CLEAN_UP},gb:function(a){return a.h.sb()?1<a.h.pb(!1).length?"enabled":"disabled":"hidden"},qa:function(a){a=a.h;a.Vb(!1);y(!0);for(var b=a.pb(!0),c=0,d=0,e;e=b[d];d++)if(e.sb()){var f=e.na();e.moveBy(-f.x,c-f.y);dj(e);c=e.na().y+$f(e).height+a.Na.I().Yh}y(!1);a.Vb(!0)},Mc:"workspace",id:"cleanWorkspace",weight:3});
Li.register({$b:function(){return h.COLLAPSE_ALL},gb:function(a){if(a.h.options.collapse){a=a.h.pb(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(!c.isCollapsed())return"enabled";c=ub(c)}return"disabled"}return"hidden"},qa:function(a){Ml(!0,a.h.pb(!0))},Mc:"workspace",id:"collapseWorkspace",weight:4});
Li.register({$b:function(){return h.EXPAND_ALL},gb:function(a){if(a.h.options.collapse){a=a.h.pb(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(c.isCollapsed())return"enabled";c=ub(c)}return"disabled"}return"hidden"},qa:function(a){Ml(!1,a.h.pb(!0))},Mc:"workspace",id:"expandWorkspace",weight:5});
Li.register({$b:function(a){if(a.h)return a=Ol(a.h).length,1==a?h.DELETE_BLOCK:h.DELETE_X_BLOCKS.replace("%1",String(a))},gb:function(a){if(a.h)return 0<Ol(a.h).length?"enabled":"disabled"},qa:function(a){if(a.h){fj(a.h);var b=Ol(a.h),c=mb();2>b.length?Pl(b,c):re(h.DELETE_ALL_BLOCKS.replace("%1",b.length),function(d){d&&Pl(b,c)})}},Mc:"workspace",id:"workspaceDelete",weight:6});
Li.register({$b:function(){return h.DUPLICATE_BLOCK},gb:function(a){a=a.block;return!a.Ta&&a.bd()&&a.sb()?(ye(a.h)?xe(a.h,sb(a,!0)):1)?"enabled":"disabled":"hidden"},qa:function(a){if(a.block){a=a.block;var b=mk,c=ll;ol(a);lk(a.h);mk=b;ll=c}},Mc:"block",id:"blockDuplicate",weight:1});
Li.register({$b:function(a){return a.block.Uc?h.REMOVE_COMMENT:h.ADD_COMMENT},gb:function(a){a=a.block;return Ma||a.Ta||!a.h.options.ri||a.isCollapsed()||!a.fc()?"hidden":"enabled"},qa:function(a){a=a.block;a.Uc?a.Kf(null):a.Kf("")},Mc:"block",id:"blockComment",weight:2});
Li.register({$b:function(a){return Wf(a.block)?h.EXTERNAL_INPUTS:h.INLINE_INPUTS},gb:function(a){a=a.block;if(!a.Ta&&a.sb()&&!a.isCollapsed())for(var b=1;b<a.C.length;b++)if(3!=a.C[b-1].type&&3!=a.C[b].type)return"enabled";return"hidden"},qa:function(a){a.block.Nc(!Wf(a.block))},Mc:"block",id:"blockInline",weight:3});
Li.register({$b:function(a){return a.block.isCollapsed()?h.EXPAND_BLOCK:h.COLLAPSE_BLOCK},gb:function(a){a=a.block;return!a.Ta&&a.sb()&&a.h.options.collapse?"enabled":"hidden"},qa:function(a){a.block.Jf(!a.block.isCollapsed())},Mc:"block",id:"blockCollapseExpand",weight:4});
Li.register({$b:function(a){return a.block.isEnabled()?h.DISABLE_BLOCK:h.ENABLE_BLOCK},gb:function(a){a=a.block;return!a.Ta&&a.h.options.disable&&a.fc()?ii(a)?"disabled":"enabled":"hidden"},qa:function(a){a=a.block;var b=Yb;b||y(!0);a.kc(!a.isEnabled());b||y(!1)},Mc:"block",id:"blockDisable",weight:5});
Li.register({$b:function(a){var b=a.block;a=tb(b,!1).length;(b=ub(b))&&(a-=tb(b,!1).length);return 1==a?h.DELETE_BLOCK:h.DELETE_X_BLOCKS.replace("%1",String(a))},gb:function(a){return!a.block.Ta&&a.block.bd()?"enabled":"hidden"},qa:function(a){y(!0);a.block&&nl(a.block);y(!1)},Mc:"block",id:"blockDelete",weight:6});
Li.register({$b:function(){return h.HELP},gb:function(a){a=a.block;return("function"==typeof a.rb?a.rb():a.rb)?"enabled":"hidden"},qa:function(a){a.block.showHelp()},Mc:"block",id:"blockHelp",weight:7});function X(a,b){return" "+a+","+b+" "}function Ql(a,b){return" "+a+b.join("")}function Rl(a,b){return" M "+a+","+b+" "}function Vf(a,b){return" m "+a+","+b+" "}function Sl(a,b){return" l "+a+","+b+" "}function K(a,b){return" "+a+" "+b+" "}function Tl(a,b,c){return"a "+b+" "+b+" "+a+c};function Ul(){this.Dd=0;this.kt=3;this.Rc=5;this.Cp=8;this.Wb=10;this.Jp=this.Rc;this.ii=15;this.Zg=5;this.hk=8;this.Ws=15;this.em=4;this.Vs=12;this.xs=16;this.ws=this.tp=this.ii;this.Ja=8;this.qt=this.Zh=15;this.Hp=0;this.Ip=20;this.rs=4;this.rt=this.Rc;this.st=this.Wb;this.ts=this.Rc;this.ss=this.Wb;this.qp=!1;this.nt=15;this.ot=100;this.mt=15;this.Yh=24;this.zs=14.5;this.ys=this.ii+11;this.Bs=2;this.As=this.Yh;this.Gp=Vf(0,0);this.Qs=12;this.Rs=6;this.Qg=11;this.Rg="normal";this.Pg="sans-serif";
this.xp=this.$j=-1;this.Zj=4;this.Zl=16;this.Og=5;this.up="#fff";this.bm=!Ma&&!Na;this.wp=this.Zl;this.Gs=this.Fs=this.$l=!1;this.Is=this.Og;this.Wh=12;this.Hs="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.vp=this.Js=!1;this.Es=26;this.Ds=this.Zl;this.Cs=this.Og-3;this.Gl=String(Math.random()).substring(2);this.Lk="";this.Xm=null;this.iq="";this.Bi=this.eq=this.Km=null;this.sp="#cc0a0a";this.Ap="#4286f4";this.Yj=100;this.Kp=5;this.Xj=10;this.us=2;this.vs=4;this.yp=!1;this.Os="#000000";this.zp=.2;this.Fp={dt:1,Xg:2}}g=Ul.prototype;
g.J=function(){this.Tg=this.Qn();this.Xg=this.Rn();this.Yg=this.Tn();this.gm=this.Sn();var a=this.Ja;this.ak={width:a,height:a,Io:Tl("0 0,0",a,X(-a,a)),El:Tl("0 0,0",a,X(a,a))};a=this.Ja;this.ei={jp:Vf(0,a)+Tl("0 0,1",a,X(a,-a)),Zu:Tl("0 0,1",a,X(a,a)),wt:Tl("0 0,1",a,X(-a,a)),sm:Tl("0 0,1",a,X(-a,-a)),Lu:a}};g.wj=function(){this.nk=Object.create(null);var a=Lc("Hg",this.Qg+"pt",this.Rg,this.Pg);this.$j=a.height;this.xp=a.Sc};
function gj(a,b){var c="auto_"+b;a.nk[c]||(a.nk[c]=Vl({colourPrimary:b}));return{style:a.nk[c],name:c}}function cj(a,b){return a.nk[b||""]||(b&&0==b.indexOf("auto_")?gj(a,b.substring(5)).style:Vl({colourPrimary:"#000000"}))}function Vl(a){var b={};a&&md(b,a);a=vb(b.colourPrimary||"#000");b.ef=a.Pi;b.colourSecondary?a=vb(b.colourSecondary).Pi:(a=b.ef,a=wa("#fff",a,.6)||a);b.xk=a;b.colourTertiary?a=vb(b.colourTertiary).Pi:(a=b.ef,a=wa("#fff",a,.3)||a);b.oe=a;b.Pd=b.hat||"";return b}
g.o=function(){this.Xm&&D(this.Xm);this.Km&&D(this.Km);this.eq&&D(this.eq);this.Bi=null};g.Qn=function(){var a=this.Qs,b=this.Rs;return{height:a,width:b,path:" l"+[X(b,a/4),X(2*-b,a/2),X(b,a/4)].join("")}};g.Tn=function(){var a=this.nt,b=this.ot;return{height:a,width:b,path:Ql("c",[X(30,-a),X(70,-a),X(b,0)])}};
g.Sn=function(){function a(f){f=f?-1:1;var l=-f,m=c/2;return Ql("c",[X(0,f*(m+2.5)),X(-b,l*(m+.5)),X(-b,f*m)])+Ql("s",[X(b,2.5*l),X(b,f*m)])}var b=this.hk,c=this.ii,d=a(!0),e=a(!1);return{type:this.Fp.dt,width:b,height:c,ed:e,fj:d}};g.Rn=function(){function a(l){return" l"+[X(l*d,c),X(3*l,0),X(l*d,-c)].join("")}var b=this.Ws,c=this.em,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.Fp.Xg,width:b,height:c,Cf:e,yr:f}};
function Uf(a,b){switch(b.type){case 1:case 2:return a.gm;case 4:case 3:return a.Xg;default:throw Error("Unknown connection type");}}
g.La=function(a,b,c){c=this.jn(c);b="blockly-renderer-style-"+b;this.Bi=document.getElementById(b);c=c.join("\n");if(this.Bi)this.Bi.firstChild.textContent=c;else{var d=document.createElement("style");d.id=b;d.appendChild(document.createTextNode(c));document.head.insertBefore(d,document.head.firstChild);this.Bi=d}a=B(kc,{},a);b=B(pc,{id:"blocklyEmbossFilter"+this.Gl},a);B(mc,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},b);c=B(oc,{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,
"lighting-color":"white",result:"specOut"},b);B(nc,{x:-5E3,y:-1E4,z:2E4},c);B(lc,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},b);B(lc,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},b);this.Lk=b.id;this.Xm=b;a=B(vc,{id:"blocklyDisabledPattern"+this.Gl,patternUnits:"userSpaceOnUse",width:10,height:10},a);B(xc,{width:10,height:10,fill:"#aaa"},a);B(uc,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.iq=a.id;this.Km=a};
g.jn=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Rg+" "+this.Qg+"pt "+this.Pg+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.up+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Pg+";","font-weight: "+this.Rg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.zp+
";","stroke: none;","}"]};function Wl(a){this.dh=this.ba=this.type=this.height=this.width=0;this.i=a;this.dd=this.i.Zh};function Xl(a,b){Xl.j.constructor.call(this,a);this.Yb=b;this.shape=Uf(this.i,b);this.og=!!this.shape.isDynamic;this.type|=1024}F(Xl,Wl);function Yl(a,b){Yl.j.constructor.call(this,a,b);this.type|=8192;this.height=this.og?0:this.shape.height;this.jd=this.width=this.og?0:this.shape.width;this.Dc=this.i.Zg;this.ui=0}F(Yl,Xl);function Zl(a,b){Zl.j.constructor.call(this,a,b);this.type|=2048;this.height=this.shape.height;this.width=this.shape.width}F(Zl,Xl);
function $l(a,b){$l.j.constructor.call(this,a,b);this.type|=4096;this.height=this.shape.height;this.width=this.shape.width}F($l,Xl);function am(a,b){am.j.constructor.call(this,a,b.connection);this.type|=128;this.input=b;this.align=b.align;(this.hf=b.connection&&b.connection.K()?b.connection.K():null)?(a=$f(this.hf),this.si=a.width,this.Ak=a.height):this.Ak=this.si=0;this.Dc=this.ui=0}F(am,Xl);
function bm(a,b){bm.j.constructor.call(this,a,b);this.type|=256;this.hf?(this.width=this.si,this.height=this.Ak):(this.height=this.i.ys,this.width=this.i.zs);this.fh=this.og?this.shape.height(this.height):this.shape.height;this.Jd=this.og?this.shape.width(this.height):this.shape.width;this.hf||(this.width+=this.Jd*(this.og?2:1));this.Dc=this.og?this.shape.Dc(this.fh):this.i.Zg;this.ui=this.og?this.shape.ui(this.Jd):0}F(bm,am);
function cm(a,b){cm.j.constructor.call(this,a,b);this.type|=512;this.height=this.hf?this.Ak+this.i.Hp:this.i.As;this.width=this.i.qt+this.shape.width}F(cm,am);function dm(a,b){dm.j.constructor.call(this,a,b);this.type|=64;this.height=this.hf?this.Ak-this.i.Zg-this.i.Rc:this.shape.height;this.width=this.shape.width+this.i.Bs;this.Dc=this.i.Zg;this.fh=this.shape.height;this.Jd=this.shape.width}F(dm,am);function em(a,b){em.j.constructor.call(this,a);this.icon=b;this.isVisible=b.isVisible();this.type|=4;a=new Ia(Xe.prototype.fk,Xe.prototype.fk-2);this.height=a.height;this.width=a.width}F(em,Wl);function fm(a){fm.j.constructor.call(this,a);this.type|=524288;this.height=this.i.Tg.height;this.width=this.i.Tg.width}F(fm,Wl);function gm(a,b){gm.j.constructor.call(this,a);this.nq=b;this.fc=b.Vh;this.Kt=b.tq();this.type|=1;a=this.nq.getSize();this.height=a.height;this.width=a.width}F(gm,Wl);
function hm(a){hm.j.constructor.call(this,a);this.type|=2;this.height=this.i.Yg.height;this.width=this.i.Yg.width;this.ah=this.height}F(hm,Wl);function im(a,b){im.j.constructor.call(this,a);this.type=(b&&"left"!=b?131072:32768)|16384;this.width=this.height=this.i.Dd}F(im,Wl);function jm(a,b){jm.j.constructor.call(this,a);this.type=(b&&"left"!=b?262144:65536)|16384;this.width=this.i.Ja;this.height=this.i.Ja/2}F(jm,Wl);
function km(a,b){km.j.constructor.call(this,a);this.type|=40;this.width=b;this.height=this.i.mt}F(km,Wl);function lm(a){this.type=1048576;this.elements=[];this.ba=this.zb=this.Bd=this.minWidth=this.minHeight=this.width=this.height=0;this.yq=this.rh=this.un=this.qb=this.nf=!1;this.i=a;this.dd=this.i.Zh;this.align=null}lm.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function mm(a){for(var b=a.elements.length-1,c;c=a.elements[b];b--)if(c.type&128)return c;return null}lm.prototype.Tl=function(){return!0};lm.prototype.Gi=function(){return!0};
function nm(a){nm.j.constructor.call(this,a);this.type|=2097152;this.ah=this.le=0;this.Yt=!1;this.connection=null}F(nm,lm);nm.prototype.vn=function(a){var b=(a.Pd?"cap"===a.Pd:this.i.qp)&&!a.A&&!a.L,c=a.L&&a.L.K();return!!a.A||b||(c?ub(c)==a:!1)};
nm.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&2?c=Math.max(c,e.ah):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.le=this.ah=c;this.Bd=this.width};nm.prototype.Tl=function(){return!1};nm.prototype.Gi=function(){return!1};function om(a){om.j.constructor.call(this,a);this.type|=4194304;this.zq=!1;this.connection=null;this.Sc=this.Di=0}F(om,lm);
om.prototype.vn=function(a){return!!a.A||!!ub(a)};om.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&4096?c=Math.max(c,e.height):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.Di=c;this.Bd=this.width};om.prototype.Tl=function(){return!1};om.prototype.Gi=function(){return!1};
function pm(a,b,c){pm.j.constructor.call(this,a);this.type|=24;this.width=c;this.height=b;this.qq=!1;this.Bd=0;this.elements=[new km(this.i,c)]}F(pm,lm);pm.prototype.measure=function(){};function qm(a){qm.j.constructor.call(this,a);this.type|=8388608;this.Zp=0}F(qm,lm);
qm.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,c;c=this.elements[b];b++)this.width+=c.width,c.type&128&&(c.type&512?a+=c.si:c.type&64&&0!=c.si&&(a+=c.si-c.Jd)),c.type&8||(this.height=Math.max(this.height,c.height));this.Zp=a;this.Bd=this.width+a};qm.prototype.Gi=function(){return!this.nf&&!this.qb};function rm(a,b){this.D=b;this.Na=a;this.i=this.Na.I();this.A=b.A?new Yl(this.i,b.A):null;this.vh=Wf(b)&&!b.isCollapsed();this.isCollapsed=b.isCollapsed();this.Cb=b.Cb();this.u=b.u;this.Nf=this.width=this.Sh=this.height=0;this.rows=[];this.Hq=[];this.Cq=[];this.vb=new nm(this.i);this.Sa=new om(this.i);this.Sl=this.jd=0}g=rm.prototype;
g.measure=function(){var a=!!this.D.L,b=(this.D.Pd?"cap"===this.D.Pd:this.i.qp)&&!this.A&&!a,c=this.vb.vn(this.D)?im:jm;this.vb.elements.push(new c(this.i));b?(a=new hm(this.i),this.vb.elements.push(a),this.vb.le=a.ah):a&&(this.vb.Yt=!0,this.vb.connection=new Zl(this.i,this.D.L),this.vb.elements.push(this.vb.connection));this.D.C.length&&3==this.D.C[0].type&&!this.D.isCollapsed()?this.vb.minHeight=this.i.st:this.vb.minHeight=this.i.rt;c=im;this.vb.elements.push(new c(this.i,"right"));this.rows.push(this.vb);
a=new qm(this.i);this.Hq.push(a);c=Yf(this.D);b=0;for(var d;d=c[b];b++){var e=new em(this.i,d);this.isCollapsed&&d.Yp?this.Cq.push(e):a.elements.push(e)}d=null;for(b=0;c=this.D.C[b];b++)if(c.isVisible()){!d||3!=c.type&&3!=d.type&&(1!=c.type&&5!=c.type||this.vh)||(this.rows.push(a),a=new qm(this.i),this.Hq.push(a));for(d=0;e=c.ga[d];d++)a.elements.push(new gm(this.i,e,c));this.Np(c,a);d=c}this.isCollapsed&&(a.yq=!0,a.elements.push(new fm(this.i)));(a.elements.length||a.rh)&&this.rows.push(a);this.Lo();
this.rows.push(this.Sa);this.Mp();a=this.rows;this.rows=[];for(b=0;b<a.length;b++)if(this.rows.push(a[b]),b!=a.length-1){c=this.rows;d=c.push;e=a[b];var f=a[b+1],l=new pm(this.i,this.uq(e,f),this.width-this.jd);e.qb&&(l.qq=!0);f.qb&&(l.Mv=!0);d.call(c,l)}for(d=c=b=a=0;e=this.rows[d];d++)e.measure(),b=Math.max(b,e.width),e.qb&&(a=Math.max(a,e.width-mm(e).width)),c=Math.max(c,e.Bd);this.Nf=a;this.width=b;for(d=0;e=this.rows[d];d++)e.qb&&(e.Nf=this.Nf);this.Sh=Math.max(b,c);this.A&&(this.jd=this.A.width,
this.width+=this.A.width,this.Sh+=this.A.width);this.km();this.oq()};g.Lo=function(){this.Sa.zq=!!this.D.F;this.Sa.minHeight=this.D.C.length&&3==this.D.C[this.D.C.length-1].type?this.i.ss:this.i.ts;this.Sa.vn(this.D)?this.Sa.elements.push(new im(this.i)):this.Sa.elements.push(new jm(this.i));this.Sa.zq&&(this.Sa.connection=new $l(this.i,this.D.F),this.Sa.elements.push(this.Sa.connection));this.Sa.elements.push(new im(this.i,"right"))};
g.Np=function(a,b){this.vh&&1==a.type?(b.elements.push(new bm(this.i,a)),b.un=!0):3==a.type?(b.elements.push(new cm(this.i,a)),b.qb=!0):1==a.type?(b.elements.push(new dm(this.i,a)),b.nf=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,a.G()&&a.G().aa?this.i.ws:this.i.tp),b.rh=!0);null==b.align&&(b.align=a.align)};
g.Mp=function(){for(var a=0,b;b=this.rows[a];a++){var c=b.elements;b.elements=[];b.Tl()&&b.elements.push(new km(this.i,this.fg(null,c[0])));if(c.length){for(var d=0;d<c.length-1;d++)b.elements.push(c[d]),b.elements.push(new km(this.i,this.fg(c[d],c[d+1])));b.elements.push(c[c.length-1]);b.Gi()&&b.elements.push(new km(this.i,this.fg(c[c.length-1],null)))}}};
g.fg=function(a,b){if(!a&&b&&b.type&512)return this.i.Ip;if(a&&a.type&128&&!b){if(a.type&64)return this.i.Dd;if(a.type&256)return this.i.Wb;if(a.type&512)return this.i.Dd}return a&&a.type&32768&&b&&(b.type&2048||b.type&4096)?b.dd:a&&a.type&65536&&b&&(b.type&2048||b.type&4096)?b.dd-this.i.Ja:this.i.Rc};g.km=function(){for(var a=0,b;b=this.rows[a];a++)if(b.qb)sm(this,b);else{var c=this.Li(b)-b.width;0<c&&tm(b,c);b.type&6291456&&(b.Bd=b.width)}};g.Li=function(){return this.width-this.jd};
function tm(a,b){a:{var c=0;for(var d;d=a.elements[c];c++)if(d.type&8){c=d;break a}c=null}a:{d=a.elements.length-1;for(var e;e=a.elements[d];d--)if(e.type&8){d=e;break a}d=null}if(a.nf||a.qb)a.Bd+=b;-1==a.align?d.width+=b:0==a.align?(c.width+=b/2,d.width+=b/2):1==a.align?c.width+=b:d.width+=b;a.width+=b}function sm(a,b){var c=mm(b),d=b.width-c.width,e=a.Nf;d=e-d;0<d&&tm(b,d);d=b.width;e=a.Li(b);c.width+=e-d;c.height=Math.max(c.height,b.height);b.width+=e-d;b.Bd=Math.max(b.width,a.Nf+b.Zp)}g.uq=function(){return this.i.Rc};
g.rq=function(a,b){return b.type&8?a.zb+b.height/2:a.type&4194304?(a=a.zb+a.height-a.Di,b.type&4096?a+b.height/2:a-b.height/2):a.type&2097152?b.type&2?a.le-b.height/2:a.le+b.height/2:a.zb+a.height/2};function um(a,b){for(var c=b.ba,d=0,e;e=b.elements[d];d++)e.type&8&&(e.height=b.height),e.ba=c,e.dh=a.rq(b,e),c+=e.width}
g.oq=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++)d.zb=b,d.ba=this.jd,b+=d.height,a=Math.max(a,d.Bd),um(this,d);this.A&&this.D.F&&this.D.F.isConnected()&&(a=Math.max(a,$f(this.D.F.K()).width));this.Sh=a+this.jd;this.height=b;this.Sl=this.vb.le;this.Sa.Sc=b-this.Sa.Di};function vm(a,b){this.D=a;this.T=b;a.na();this.Xk=this.ka="";this.i=b.Na.I()}g=vm.prototype;g.qd=function(){wm(this);xm(this);ym(this);this.D.wa.Zo(this.ka+"\n"+this.Xk);this.T.u&&this.D.wa.cn();zm(this)};function zm(a){a.D.height=a.T.height;a.D.width=a.T.Sh}function wm(a){for(var b=0,c;c=a.T.Cq[b];b++)c.icon.dc.setAttribute("display","none")}function xm(a){a.Tm();for(var b=1;b<a.T.rows.length-1;b++){var c=a.T.rows[b];c.yq?a.Ei(c):c.qb?a.Sm(c):c.nf?a.Um(c):a.lq(c)}a.Om();a.Rm()}
g.Tm=function(){var a=this.T.vb,b=a.elements,c=this.T.vb;if(c.connection){var d=c.ba+c.dd;Ui(c.connection.Yb,this.T.u?-d:d,0)}this.ka+=Vf(a.ba,this.T.Sl);for(c=0;d=b[c];c++)d.type&65536?this.ka+=this.i.ei.jp:d.type&262144?this.ka+=this.i.ei.Zu:d.type&2048?this.ka+=d.shape.Cf:d.type&2?this.ka+=this.i.Yg.path:d.type&8&&(this.ka+=K("h",d.width));this.ka+=K("v",a.height)};g.Ei=function(a){this.ka+=this.i.Tg.path+K("v",a.height-this.i.Tg.height)};
g.Um=function(a){var b=mm(a);this.Br(a);var c="function"==typeof b.shape.ed?b.shape.ed(b.height):b.shape.ed;this.ka+=K("H",b.ba+b.width)+c+K("v",a.height-b.fh)};g.Sm=function(a){var b=mm(a);this.ka+=K("H",b.ba+b.dd+b.shape.width)+(b.shape.yr+K("h",-(b.dd-this.i.ak.width))+this.i.ak.Io)+K("v",a.height-2*this.i.ak.height)+this.i.ak.El+K("H",a.ba+a.width);this.Er(a)};g.lq=function(a){this.ka+=K("V",a.zb+a.height)};
g.Om=function(){var a=this.T.Sa,b=a.elements;this.Dr();for(var c=0,d="",e=b.length-1,f;f=b[e];e--)f.type&4096?d+=f.shape.yr:f.type&32768?d+=K("H",a.ba):f.type&65536?d+=this.i.ei.sm:f.type&262144?(d+=this.i.ei.wt,c=this.i.ei.Lu):f.type&8&&(d+=K("h",-1*f.width));this.ka+=K("V",a.Sc-c);this.ka+=d};
g.Rm=function(){var a=this.T.A;if(this.T.A){var b=this.T.jd+this.T.A.ui;Ui(this.D.A,this.T.u?-b:b,this.T.A.Dc)}a&&(b=a.Dc+a.height,a="function"==typeof a.shape.fj?a.shape.fj(a.height):a.shape.fj,this.ka+=K("V",b)+a);this.ka+="z"};
function ym(a){for(var b=0,c;c=a.T.rows[b];b++)for(var d=0,e;e=c.elements[d];d++)if(e.type&256)a.Qm(e);else if(e.type&4||e.type&1){var f=a;if(e.type&1)var l=e.nq.W();else e.type&4&&(l=e.icon.dc);var m=e.dh-e.height/2,n=e.ba,q="";f.T.u&&(n=-(n+e.width),e.Kt&&(n+=e.width,q="scale(-1 1)"));e.type&4?(l.setAttribute("display","block"),l.setAttribute("transform","translate("+n+","+m+")"),Ze(e.icon)):l.setAttribute("transform","translate("+n+","+m+")"+q);f.T.Cb&&l.setAttribute("display","none")}}
g.Qm=function(a){var b=a.height,c=a.Dc;this.Xk+=Rl(a.ba+a.Jd,a.dh-b/2)+K("v",c)+a.shape.ed+K("v",b-(a.fh+c))+K("h",a.width-a.Jd)+K("v",-b)+"z";this.Cr(a)};g.Cr=function(a){var b=a.dh-a.height/2;if(a.Yb){var c=a.ba+a.Jd+a.ui;this.T.u&&(c*=-1);Ui(a.Yb,c,b+a.Dc)}};g.Er=function(a){var b=mm(a);if(b.Yb){var c=a.ba+a.Nf+b.dd;this.T.u&&(c*=-1);Ui(b.Yb,c,a.zb)}};g.Br=function(a){var b=mm(a);if(b.Yb){var c=a.ba+a.width;this.T.u&&(c*=-1);Ui(b.Yb,c,a.zb)}};
g.Dr=function(){var a=this.T.Sa;if(a.connection){var b=a.connection,c=b.ba;Ui(b.Yb,this.T.u?-c:c,a.Sc)}};function Am(a,b,c,d){var e=a?a.h.id:void 0;d&&"workspace"==d.getType()&&(e=d.Y.id);Am.j.constructor.call(this,e);this.pa=a?a.id:null;this.lr=c;this.er=d;this.Sd=b}F(Am,Ue);Am.prototype.type="marker_move";Am.prototype.X=function(){var a=Am.j.X.call(this);a.isCursor=this.Sd;a.blockId=this.pa;a.oldNode=this.lr;a.newNode=this.er;return a};Am.prototype.S=function(a){Am.j.S.call(this,a);this.Sd=a.isCursor;this.pa=a.blockId;this.lr=a.oldNode;this.er=a.newNode};u(Nb,"marker_move",Am);function hk(a,b,c){this.g=a;this.Vn=c;this.Je=null;this.i=b;this.hh=null;a=this.Sd()?this.i.sp:this.i.Ap;this.Hb=c.oi||a}g=hk.prototype;g.W=function(){return this.v};g.Mi=function(){return this.Vn};g.Sd=function(){return"cursor"==this.Vn.type};
g.La=function(){var a=this.Sd()?"blocklyCursor":"blocklyMarker";this.v=B(rc,{"class":a},null);this.Ge=B(rc,{width:this.i.Yj,height:this.i.Kp},this.v);this.wf=B(xc,{width:this.i.Yj,height:this.i.Kp},this.Ge);this.tg=B(xc,{"class":"blocklyVerticalMarker",rx:10,ry:10},this.Ge);this.sg=B(uc,{transform:""},this.Ge);this.Fe=B(uc,{transform:"",fill:"none","stroke-width":this.i.vs},this.Ge);this.Bb();this.Sd()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.Hb+";transparent;transparent;",
repeatCount:"indefinite"},B(hc,a,this.wf),B(hc,a,this.sg),a.attributeName="stroke",B(hc,a,this.Fe));return this.v};function Bm(a,b){a.Sd()?(a.Je&&a.Je.Oe(null),b.Oe(a.W())):(a.Je&&a.Je.Mf(null),b.Mf(a.W()));a.Je=b}
g.qd=function(a,b){if(b){this.i=this.g.Na.I();var c=this.Sd()?this.i.sp:this.i.Ap;this.Hb=this.Vn.oi||c;this.wf.setAttribute("fill",this.Hb);this.tg.setAttribute("stroke",this.Hb);this.sg.setAttribute("fill",this.Hb);this.Fe.setAttribute("stroke",this.Hb);this.Sd()&&(c=this.Hb+";transparent;transparent;",this.wf.firstChild.setAttribute("values",c),this.sg.firstChild.setAttribute("values",c),this.Fe.firstChild.setAttribute("values",c));c=b.Y.type;if("block"==b.getType())Cm(this,b);else if("output"==
b.getType())Cm(this,b);else if(1==c){var d=b.Y;c=d.G();var e=d.wg.x,f=d.wg.y;d=Rl(0,0)+Uf(this.i,d).ed;this.sg.setAttribute("d",d);this.sg.setAttribute("transform","translate("+e+","+f+")"+(this.g.u?" scale(-1 1)":""));this.hh=this.sg;Bm(this,c);Dm(this)}else if(3==c)f=b.Y,c=f.G(),e=0,f=f.wg.y,d=$f(c).width,this.g.u&&(e=-d),Em(this,e,f,d),Bm(this,c),Dm(this);else if("previous"==b.getType())Cm(this,b);else if("field"==b.getType())c=b.Y,e=c.getSize().width,f=c.getSize().height,Fm(this,0,0,e,f),Bm(this,
c),Dm(this);else if("workspace"==b.getType())e=b.ns,c=e.x,e=e.y,this.g.u&&(c-=this.i.Yj),Em(this,c,e,this.i.Yj),Bm(this,this.g),Dm(this);else if("stack"==b.getType()){c=b.Y;f=$f(c);e=f.width+this.i.Xj;f=f.height+this.i.Xj;var l=d=-this.i.Xj/2,m=-this.i.Xj/2;this.g.u&&(l=-(e+d));Fm(this,l,m,e,f);Bm(this,c);Dm(this)}c=b.G();a=new (A("marker_move"))(c,this.Sd(),a,b);x(a);a=this.hh.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.Bb()};
function Cm(a,b){b=b.G();var c=b.width,d=b.height,e=.75*d,f=a.i.us;if(b.L){var l=Uf(a.i,b.L);a.Fe.setAttribute("d",Vf(-f,e)+K("V",-f)+K("H",a.i.Zh)+l.Cf+K("H",c+2*f)+K("V",e))}else b.A?(l=Uf(a.i,b.A),a.Fe.setAttribute("d",Vf(c,0)+K("h",-(c-l.width))+K("v",a.i.Zg)+l.ed+K("V",d)+K("H",c))):a.Fe.setAttribute("d",Vf(-f,e)+K("V",-f)+K("H",c+2*f)+K("V",e));a.g.u&&a.Ji(a.Fe);a.hh=a.Fe;Bm(a,b);Dm(a)}function Dm(a){a.Bb();a.hh.style.display=""}
function Em(a,b,c,d){a.wf.setAttribute("x",b);a.wf.setAttribute("y",c);a.wf.setAttribute("width",d);a.hh=a.wf}function Fm(a,b,c,d,e){a.tg.setAttribute("x",b);a.tg.setAttribute("y",c);a.tg.setAttribute("width",d);a.tg.setAttribute("height",e);a.hh=a.tg}g.Ji=function(a){a.setAttribute("transform","scale(-1 1)")};g.Bb=function(){this.wf.style.display="none";this.tg.style.display="none";this.sg.style.display="none";this.Fe.style.display="none"};g.o=function(){this.v&&D(this.v)};function Gm(a,b,c){this.wi=c;this.ge=a;this.Fa=B(uc,{"class":"blocklyPath"},this.ge);this.style=b;this.Un=this.Ci=null}g=Gm.prototype;g.Zo=function(a){this.Fa.setAttribute("d",a)};g.cn=function(){this.Fa.setAttribute("transform","scale(-1 1)")};g.Oe=function(a){a?(this.ge.appendChild(a),this.Ci=a):this.Ci=null};g.Mf=function(a){a?(this.Ci?this.ge.insertBefore(a,this.Ci):this.ge.appendChild(a),this.Un=a):this.Un=null};
g.Wa=function(a){this.Fa.setAttribute("stroke",this.style.oe);this.Fa.setAttribute("fill",this.style.ef);this.fs(a.aa);this.kp(!a.isEnabled()||ii(a))};g.Pe=function(a){this.style=a};function Tf(a,b,c){c?C(a.ge,b):Ec(a.ge,b)}g.ds=function(a){a?this.Fa.setAttribute("filter","url(#"+this.wi.Lk+")"):this.Fa.setAttribute("filter","none")};g.fs=function(a){a&&(this.Fa.setAttribute("stroke","none"),this.Fa.setAttribute("fill",this.style.xk))};
g.kp=function(a){Tf(this,"blocklyDisabled",a);a&&this.Fa.setAttribute("fill","url(#"+this.wi.iq+")")};function Hm(a){this.name=a;this.Eo=this.i=null}g=Hm.prototype;g.sd=function(){return this.name+"-renderer"};g.J=function(a,b){this.i=this.Pn();b&&(this.Eo=b,md(this.i,b));this.i.wj(a);this.i.J()};g.La=function(a,b){this.i.La(a,this.name+"-"+b.name,"."+this.sd()+"."+b.sd())};g.Qo=function(a,b){var c=this.I();c.o();this.i=this.Pn();this.Eo&&md(this.i,this.Eo);this.i.Gl=c.Gl;this.i.wj(b);this.i.J();this.La(a,b)};g.o=function(){this.i&&this.i.o()};g.Pn=function(){return new Ul};
g.Wq=function(a){return new rm(this,a)};g.Uq=function(a,b){return new vm(a,b)};g.Vq=function(a,b){return new Gm(a,b,this.i)};g.I=function(){return this.i};g.U=function(a){var b=this.Wq(a);b.measure();this.Uq(a,b).qd()};function Im(){Im.j.constructor.call(this);this.bm=!1;this.Fb=1;this.Us=30;this.Hp=-this.em/2}F(Im,Ul);Im.prototype.jn=function(a){return Im.j.jn.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.zp+";","stroke: none;","}"])};function Jm(a){this.T=a;this.Si=this.R="";this.Gb=this.T.u;a=a.Na;this.i=a.I();this.Ic=a.Ic;this.rc=this.Ic.OFFSET;this.Do=this.Ic.ct;this.uh=this.Ic.Ps;this.ij=this.Ic.gm;this.nu=this.Ic.Xg;this.Su=this.Ic.Yg;this.Nq=this.Ic.Tg}Jm.prototype.Ei=function(a){this.T.u&&(this.R+=this.Nq.Cf+K("v",a.height-this.Nq.height-this.rc))};function Km(a,b){var c=b.ba+b.width-a.rc;b.qq&&(a.R+=K("H",c));a.Gb&&(a.R+=K("H",c),b.height>a.rc&&(a.R+=K("V",b.zb+b.height-a.rc)))};function Lm(a,b){Lm.j.constructor.call(this,a,b);this.hf&&(this.width+=this.i.Fb,this.height+=this.i.Fb)}F(Lm,bm);function Mm(a,b){Mm.j.constructor.call(this,a,b);this.hf&&(this.height+=this.i.Fb)}F(Mm,cm);function Nm(a,b){Nm.j.constructor.call(this,a,b)}F(Nm,rm);g=Nm.prototype;g.Lo=function(){Nm.j.Lo.call(this);this.D.C.length&&3==this.D.C[this.D.C.length-1].type||(this.Sa.minHeight=this.i.Rc-this.i.Fb)};g.Np=function(a,b){this.vh&&1==a.type?(b.elements.push(new Lm(this.i,a)),b.un=!0):3==a.type?(b.elements.push(new Mm(this.i,a)),b.qb=!0):1==a.type?(b.elements.push(new dm(this.i,a)),b.nf=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,this.i.tp),b.rh=!0);this.vh||null!=b.align||(b.align=a.align)};
g.Mp=function(){for(var a=!1,b=0,c;c=this.rows[b];b++)c.nf&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;c.elements=[];c.Tl()&&c.elements.push(new km(this.i,this.fg(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.fg(d[e],d[e+1]);c.elements.push(new km(this.i,f))}c.elements.push(d[d.length-1]);c.Gi()&&(f=this.fg(d[d.length-1],null),a&&c.rh&&(f+=this.i.hk),c.elements.push(new km(this.i,f)))}}};
g.fg=function(a,b){if(!a)return b&&b.type&1&&b.fc?this.i.Rc:b&&b.type&256?this.i.Cp:b&&b.type&512?this.i.Ip:this.i.Wb;if(!(a.type&128)&&(!b||b.type&512))return a.type&1&&a.fc?this.i.Rc:a.type&4?2*this.i.Wb+1:a.type&2?this.i.Dd:a.type&6144?this.i.Wb:a.type&65536?this.i.Vs:a.type&524288?this.i.Dd:this.i.Wb;if(a.type&128&&!b){if(a.type&64)return this.i.Dd;if(a.type&256)return this.i.Wb;if(a.type&512)return this.i.Dd}if(!(a.type&128)&&b&&b.type&128){if(a.type&1&&a.fc){if(b.type&256||b.type&64)return this.i.kt}else{if(b.type&
256||b.type&64)return this.i.Cp;if(b.type&512)return this.i.Wb}return this.i.Wb-1}if(a.type&4&&b&&!(b.type&128))return this.i.Wb;if(a.type&256&&b&&b.type&1)return b.fc?this.i.Rc:this.i.Wb;if(a.type&32768&&b){if(b.type&2)return this.i.Dd;if(b.type&2048)return b.dd;if(b.type&4096)return a=(this.u?1:-1)*this.i.Fb/2,b.dd+a}if(a.type&65536&&b){if(b.type&2048)return b.dd-this.i.Ja;if(b.type&4096)return a=(this.u?1:-1)*this.i.Fb/2,b.dd-this.i.Ja+a}return a.type&1&&b&&b.type&1&&a.fc==b.fc||b&&b.type&524288?
this.i.Wb:this.i.Rc};g.uq=function(a,b){return a.type&2097152&&b.type&4194304?this.i.xs:a.type&2097152||b.type&4194304?this.i.Dd:a.nf&&b.nf?this.i.Wb:!a.qb&&b.qb?this.i.rs:a.qb&&b.qb||!a.qb&&b.rh||a.rh?this.i.Wb:this.i.Rc};
g.rq=function(a,b){if(b.type&8)return a.zb+b.height/2;if(a.type&4194304)return a=a.zb+a.height-a.Di,b.type&4096?a+b.height/2:a-b.height/2;if(a.type&2097152)return b.type&2?a.le-b.height/2:a.le+b.height/2;var c=a.zb;b.type&1||b.type&4?(c+=b.height/2,(a.un||a.qb)&&b.height+this.i.Jp<=a.height&&(c+=this.i.Jp)):c=b.type&256?c+b.height/2:c+a.height/2;return c};
g.km=function(){if(this.vh){for(var a=0,b=null,c=this.rows.length-1,d;d=this.rows[c];c--)d.ho=a,d.type&8388608&&(d.qb&&sm(this,d),b&&b.qb&&d.width<b.width?d.ho=b.width:a=d.width,b=d);for(c=a=0;d=this.rows[c];c++)d.qb?a=this.Li(d):d.type&8?d.width=Math.max(a,d.ho):(a=Math.max(a,d.ho)-d.width,0<a&&tm(d,a),a=d.width)}else Nm.j.km.call(this)};g.Li=function(a){return this.vh&&a.qb?this.Nf+this.i.Us+this.jd:Nm.j.Li.call(this,a)};
g.oq=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++){d.zb=b;d.ba=this.jd;b+=d.height;a=Math.max(a,d.Bd);var e=b-this.vb.ah;d==this.Sa&&e<this.i.Yh&&(e=this.i.Yh-e,this.Sa.height+=e,b+=e);um(this,d)}this.A&&this.D.F&&this.D.F.isConnected()&&(a=Math.max(a,$f(this.D.F.K()).width-this.i.Fb));this.Sa.Sc=b-this.Sa.Di;this.Sh=a+this.jd+this.i.Fb;this.width+=this.i.Fb;this.height=b+this.i.Fb;this.Sl=this.vb.le};function Om(a,b){Om.j.constructor.call(this,a,b);this.Qd=new Jm(b)}F(Om,vm);g=Om.prototype;g.qd=function(){wm(this);xm(this);ym(this);var a=this.D.wa;a.Zo(this.ka+"\n"+this.Xk);var b=this.Qd;a.Eg.setAttribute("d",b.R+"\n"+b.Si);this.T.u&&a.cn();zm(this)};
g.Tm=function(){var a=this.Qd,b=this.T.vb;a.R+=Vf(b.ba,a.T.Sl);for(var c=0,d;d=b.elements[c];c++)d.type&32768?a.R+=a.Ic.Gp:d.type&65536?a.R+=a.Do.jp(a.Gb):d.type&2048?a.R+=a.nu.Cf:d.type&2?a.R+=a.Su.path(a.Gb):d.type&8&&0!=d.width&&(a.R+=K("H",d.ba+d.width-a.rc));a.R+=K("H",b.ba+b.width-a.rc);Km(this.Qd,this.T.vb);Om.j.Tm.call(this)};g.Ei=function(a){this.Qd.Ei(a);Om.j.Ei.call(this,a)};
g.Um=function(a){var b=this.Qd,c=mm(a);if(b.Gb){var d=a.height-c.fh;b.R+=Rl(c.ba+c.width-b.rc,a.zb)+b.ij.ed(b.Gb)+K("v",d)}else b.R+=Rl(c.ba+c.width,a.zb)+b.ij.ed(b.Gb);Om.j.Um.call(this,a)};g.Sm=function(a){var b=this.Qd,c=mm(a);if(b.Gb){var d=a.height-2*b.uh.height;b.R+=Rl(c.ba,a.zb)+b.uh.Io(b.Gb)+K("v",d)+b.uh.El(b.Gb)+Sl(a.width-c.ba-b.uh.width,0)}else b.R+=Rl(c.ba,a.zb+a.height)+b.uh.El(b.Gb)+Sl(a.width-c.ba-b.uh.width,0);Om.j.Sm.call(this,a)};
g.lq=function(a){Km(this.Qd,a);this.ka+=K("H",a.ba+a.width)+K("V",a.zb+a.height)};g.Om=function(){var a=this.Qd,b=this.T.Sa;if(a.Gb)a.R+=K("V",b.Sc-a.rc);else{var c=a.T.Sa.elements[0];c.type&32768?a.R+=Rl(b.ba+a.rc,b.Sc-a.rc):c.type&65536&&(a.R+=Rl(b.ba,b.Sc),a.R+=a.Do.sm())}Om.j.Om.call(this)};
g.Rm=function(){var a=this.Qd,b=a.T.A;b&&(b=b.Dc+b.height,a.Gb?a.R+=Rl(a.T.jd,b):(a.R+=Rl(a.T.jd+a.rc,a.T.Sa.Sc-a.rc),a.R+=K("V",b)),a.R+=a.ij.fj(a.Gb));a.Gb||(b=a.T.vb,a.R=b.elements[0].type&65536?a.R+K("V",a.Do.height):a.R+K("V",b.le+a.rc));Om.j.Rm.call(this)};
g.Qm=function(a){var b=this.Qd,c=b.rc,d=a.ba+a.Jd,e=a.dh-a.height/2,f=a.width-a.Jd,l=e+c;b.Gb?(e=a.height-(a.Dc+a.fh)+c,b.Si+=Rl(d-c,l)+K("v",a.Dc-c)+b.ij.ed(b.Gb)+K("v",e)+K("h",f)):b.Si+=Rl(a.ba+a.width+c,l)+K("v",a.height)+K("h",-f)+Rl(d,e+a.Dc)+b.ij.ed(b.Gb);Om.j.Qm.call(this,a)};g.Cr=function(a){var b=a.dh-a.height/2;if(a.Yb){var c=a.ba+a.Jd+this.i.Fb;this.T.u&&(c*=-1);Ui(a.Yb,c,b+a.Dc+this.i.Fb)}};
g.Er=function(a){var b=mm(a);if(b.Yb){var c=a.ba+a.Nf+b.dd;c=this.T.u?-1*c:c+this.i.Fb;Ui(b.Yb,c,a.zb+this.i.Fb)}};g.Br=function(a){var b=mm(a);if(b.Yb){var c=a.ba+a.width+this.i.Fb;this.T.u&&(c*=-1);Ui(b.Yb,c,a.zb)}};g.Dr=function(){var a=this.T.Sa;if(a.connection){var b=a.connection,c=b.ba;Ui(b.Yb,(this.T.u?-c:c)+this.i.Fb/2,a.Sc+this.i.Fb)}};function Pm(a){this.gh=a;this.OFFSET=.5;this.Gp=Vf(this.OFFSET,this.OFFSET)}g=Pm.prototype;g.J=function(){this.Ps=Qm(this);this.ct=Rm(this);this.gm=this.Sn();this.Xg=this.Rn();this.Tg=this.Qn();this.Yg=this.Tn()};function Qm(a){var b=a.gh.Ja;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b+a)-a,d=Vf(c,c)+Tl("0 0,0",b,X(-c-a,b-c)),e=Tl("0 0,0",b+a,X(b+a,b+a)),f=Vf(c,-c)+Tl("0 0,0",b+a,X(b-c,c+a));return{width:b+a,height:b,Io:function(l){return l?d:""},El:function(l){return l?e:f}}}
function Rm(a){var b=a.gh.Ja;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b-a)+a,d=Vf(c,c)+Tl("0 0,1",b-a,X(b-c,-c+a)),e=Vf(a,b)+Tl("0 0,1",b-a,X(b,-b+a)),f=-c,l=Vf(c,f)+Tl("0 0,1",b-a,X(-c+a,-f-b));return{height:b,jp:function(m){return m?d:e},sm:function(){return l}}}
g.Sn=function(){var a=this.gh.hk,b=this.gh.ii,c=Vf(-2,-b+3.4)+Sl(-.45*a,-2.1),d=K("v",2.5)+Vf(.97*-a,2.5)+Ql("q",[X(.05*-a,10),X(.3*a,9.5)])+Vf(.67*a,-1.9)+K("v",2.5),e=K("v",-1.5)+Vf(-.92*a,-.5)+Ql("q",[X(-.19*a,-5.5),X(0,-11)])+Vf(.92*a,1),f=Vf(-5,b-.7)+Sl(.46*a,-2.1);return{width:a,height:b,fj:function(l){return l?c:e},ed:function(l){return l?d:f}}};g.Rn=function(){return{Cf:K("h",this.OFFSET)+this.gh.Xg.Cf}};g.Qn=function(){return{Cf:Sl(5.1,2.6)+Vf(-10.2,6.8)+Sl(5.1,2.6),height:12,width:10.2}};
g.Tn=function(){var a=Vf(25,-8.7)+Ql("c",[X(29.7,-6.2),X(57.2,-.5),X(75,8.7)]),b=Ql("c",[X(17.8,-9.2),X(45.3,-14.9),X(75,-8.7)])+Rl(100.5,this.gh.Yg.height+.5);return{path:function(c){return c?a:b}}};function Sm(a,b,c){this.wi=c;this.ge=a;this.Ej=B(uc,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.ge);this.Fa=B(uc,{"class":"blocklyPath"},this.ge);this.Eg=B(uc,{"class":"blocklyPathLight"},this.ge);this.zm="#000000";this.style=b}F(Sm,Gm);g=Sm.prototype;g.Zo=function(a){this.Fa.setAttribute("d",a);this.Ej.setAttribute("d",a)};g.cn=function(){this.Fa.setAttribute("transform","scale(-1 1)");this.Eg.setAttribute("transform","scale(-1 1)");this.Ej.setAttribute("transform","translate(1,1) scale(-1 1)")};
g.Wa=function(a){this.Eg.style.display="";this.Ej.style.display="";this.Eg.setAttribute("stroke",this.style.oe);this.Ej.setAttribute("fill",this.zm);Sm.j.Wa.call(this,a);this.Fa.setAttribute("stroke","none")};g.Pe=function(a){this.style=a;this.zm=wa("#000",this.style.ef,.2)||this.zm};g.ds=function(a){a?(this.Fa.setAttribute("filter","url(#"+this.wi.Lk+")"),this.Eg.style.display="none"):(this.Fa.setAttribute("filter","none"),this.Eg.style.display="inline")};
g.fs=function(a){a&&(this.Eg.style.display="none",this.Ej.setAttribute("fill",this.style.xk),this.Fa.setAttribute("stroke","none"),this.Fa.setAttribute("fill",this.style.xk))};g.kp=function(a){Sm.j.kp.call(this,a);a&&this.Fa.setAttribute("stroke","none")};function Tm(a){Tm.j.constructor.call(this,a);this.Ic=null}F(Tm,Hm);g=Tm.prototype;g.J=function(a,b){Tm.j.J.call(this,a,b);this.Ic=new Pm(this.I());this.Ic.J()};g.Qo=function(a,b){Tm.j.Qo.call(this,a,b);this.Ic.J()};g.Pn=function(){return new Im};g.Wq=function(a){return new Nm(this,a)};g.Uq=function(a,b){return new Om(a,b)};g.Vq=function(a,b){return new Sm(a,b,this.I())};u(Pb,"geras",Tm);(function(){var a={name:"escape",gb:function(b){return!b.options.readOnly},qa:function(){id();return!0}};Wk.register(a);Yk(27,a.name)})();(function(){var a={name:"delete",gb:function(b){return!b.options.readOnly&&J&&J.bd()},qa:function(b,c){c.preventDefault();if(Sg())return!1;nl(J);return!0}};Wk.register(a);Yk(46,a.name);Yk(8,a.name)})();
(function(){var a={name:"copy",gb:function(c){return!c.options.readOnly&&!Sg()&&J&&J.bd()&&J.sb()},qa:function(c,d){d.preventDefault();id();ol(J);return!0}};Wk.register(a);var b=Zk(67,[17]);Yk(b,a.name);b=Zk(67,[18]);Yk(b,a.name);b=Zk(67,[91]);Yk(b,a.name)})();(function(){var a={name:"cut",gb:function(c){return!c.options.readOnly&&!Sg()&&J&&J.bd()&&J.sb()&&!J.h.wd},qa:function(){ol(J);nl(J);return!0}};Wk.register(a);var b=Zk(88,[17]);Yk(b,a.name);b=Zk(88,[18]);Yk(b,a.name);b=Zk(88,[91]);Yk(b,a.name)})();
(function(){var a={name:"paste",gb:function(c){return!c.options.readOnly&&!Sg()},qa:function(){return pl()}};Wk.register(a);var b=Zk(86,[17]);Yk(b,a.name);b=Zk(86,[18]);Yk(b,a.name);b=Zk(86,[91]);Yk(b,a.name)})();(function(){var a={name:"undo",gb:function(c){return!c.options.readOnly&&!Sg()},qa:function(c){id();ze(c,!1);return!0}};Wk.register(a);var b=Zk(90,[17]);Yk(b,a.name);b=Zk(90,[18]);Yk(b,a.name);b=Zk(90,[91]);Yk(b,a.name)})();
(function(){var a={name:"redo",gb:function(c){return!Sg()&&!c.options.readOnly},qa:function(c){id();ze(c,!0);return!0}};Wk.register(a);var b=Zk(90,[16,17]);Yk(b,a.name);b=Zk(90,[16,18]);Yk(b,a.name);b=Zk(90,[16,91]);Yk(b,a.name);b=Zk(89,[17]);Yk(b,a.name)})();var Um=null,Vm=null,Wm=null;function Xm(){var a=Um();Ym("/storage","xml="+encodeURIComponent(a),Zm)}var $m=new Map;function Ym(a,b,c){var d=void 0===d?"POST":d;$m.has(a)&&$m.get(a).abort();var e=new XMLHttpRequest;$m.set(a,e);e.onload=function(){200===this.status?c&&c.call(e):an(W("Games.httpRequestError",!1)+"\nXHR status: "+e.status);$m.delete(a)};e.open(d,a);"POST"===d&&e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(b)}
function Zm(){window.location.hash=this.responseText.trim();an(W("Games.linkAlert",!1).replace("%1",window.location.href));Wm=Um()}function bn(){var a=this.responseText.trim();a.length?(a=a.replace(/^\{\[\(< UNTRUSTED CONTENT >\)\]\}\n/,""),Vm(a)):an(W("Games.hashError",!1).replace("%1",window.location.hash));Wm=Um()}function an(a){if("object"===typeof Y){var b=V("linkButton");Y.Rr(b,a)}else alert(a)};var pd=null;function cn(){var a=W("Games.turtle",!1);Fl(a);if(a=V("linkButton"))wl?a.style.display="none":(Um=dn,Vm=en,Jl(a,Xm));(a=V("languageMenu"))&&a.addEventListener("change",fn,!0)}
function gn(){if(!wl&&1<window.location.hash.length)Ym("/storage","key="+encodeURIComponent(window.location.hash.substring(1)),bn);else{try{var a=window.sessionStorage.Tq}catch(c){}a&&delete window.sessionStorage.Tq;var b=Gl(yl);en(a||b||'<xml><block type="turtle_move" x="70" y="70"><value name="VALUE"><block type="math_number"><field name="NUM">10</field></block></value></block></xml>')}}function en(a){a=wd(a);pd.clear();xd(a,pd);a=pd;a.Hg.length=0;a=a.jj.length=0;for(var b;b=ac[a];a++)b.Mb=!1}
function dn(){var a=od(!0);if(1===pd.pb(!1).length&&a.querySelector){var b=a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}return vd(a)}function hn(){null!==Wm&&Wm!==dn()&&(window.location.hash="",Wm=null)}function jn(){var a={rtl:vl,trashcan:!0,zoom:10===yl?{controls:!0,wheel:!0}:null},b=V("toolbox");b&&(a.toolbox=b);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;pd=Ck(a);Ae(pd,hn)}function kn(){window.location=(wl?"index.html":"./")+"?lang="+tl}
function fn(){window.sessionStorage&&(window.sessionStorage.Tq=dn());var a=V("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;b=1>=b.length?"?lang="+a:/[?&]lang=[^&]*/.test(b)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b}
function ln(a){if("click"===a.type&&"touchend"===mn&&nn+2E3>Date.now()||mn===a.type&&nn+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;mn=a.type;nn=Date.now();return!1}var mn=null,nn=0;var Y={mg:!1,fq:null,Ek:null,Fk:null,Hk:null,Gk:null,Ql:function(a,b,c,d,e,f){function l(){if(Y.mg){q.style.visibility="visible";q.style.zIndex=10;t.style.visibility="hidden";var z=a.getElementsByClassName("primary");z.length||(z=a.getElementsByClassName("secondary"),z.length||(z=a.getElementsByTagName("button")));z.length&&z[0].focus()}}if(!a)throw TypeError("Content not found: "+a);for(var m=a.getElementsByClassName("addHideHandler"),n;n=m[0];)n.addEventListener("click",Y.sh,!0),n.addEventListener("touchend",
Y.sh,!0),n.classList.remove("addHideHandler");Y.mg&&Y.sh(!1);rf&&id(!0);Y.mg=!0;Y.fq=b;Y.Ek=f;var q=V("dialog");f=V("dialogShadow");var t=V("dialogBorder"),w;for(w in e)q.style[w]=e[w];d&&(f.style.visibility="visible",f.style.opacity=.3,f.style.zIndex=9,d=document.createElement("div"),d.id="dialogHeader",q.appendChild(d),Y.Fk=Ib(d,"mousedown",null,Y.Ft));q.appendChild(a);a.classList.remove("dialogHiddenContent");try{b.blur()}catch(z){}c&&b?(Y.fl(b,!1,.2),Y.fl(q,!0,.8),setTimeout(l,175)):l()},gq:0,
hq:0,Ft:function(a){Y.Jm();if(!fb(a)){var b=V("dialog");Y.gq=b.offsetLeft-a.clientX;Y.hq=b.offsetTop-a.clientY;Y.Hk=Ib(document,"mouseup",null,Y.Jm);Y.Gk=Ib(document,"mousemove",null,Y.Gt);a.stopPropagation()}},Gt:function(a){var b=V("dialog"),c=Y.gq+a.clientX;a=Y.hq+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},Jm:function(){Y.Hk&&(r(Y.Hk),Y.Hk=null);Y.Gk&&(r(Y.Gk),Y.Gk=
null)},sh:function(a){function b(){d.style.zIndex=-1;d.style.visibility="hidden";V("dialogBorder").style.visibility="hidden"}a=void 0===a?!0:a;if(Y.mg){Y.Jm();Y.Fk&&(r(Y.Fk),Y.Fk=null);Y.mg=!1;Y.Ek&&Y.Ek();Y.Ek=null;var c=a?Y.fq:null;a=V("dialog");var d=V("dialogShadow");d.style.opacity=0;c&&a?(Y.fl(a,!1,.8),Y.fl(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=V("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.classList.add("dialogHiddenContent"),
document.body.appendChild(c)}},fl:function(a,b,c){function d(){e.style.width=f.width+"px";e.style.height=f.height+"px";e.style.left=f.x+"px";e.style.top=f.y+"px";e.style.opacity=c}if(a){var e=V("dialogBorder"),f=Y.getBBox(a);b?(e.className="dialogAnimate",setTimeout(d,1)):(e.className="",d());e.style.visibility="visible"}},getBBox:function(a){var b=La(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Rr:function(a,
b){var c=V("containerStorage");c.textContent="";b=ba(b.split("\n"));for(var d=b.next();!d.done;d=b.next()){var e=document.createElement("p");e.appendChild(document.createTextNode(d.value));c.appendChild(e)}c=V("dialogStorage");Y.Ql(c,a,!0,!0,{width:"50%",left:"25%",top:"5em"},Y.Qr);Y.Mr()},tt:function(){if(!Gl(yl))if(Y.mg||pd.jb())setTimeout(Y.tt,15E3);else{var a=V("dialogAbort"),b=V("abortOk");b.addEventListener("click",kn,!0);b.addEventListener("touchend",kn,!0);Y.Ql(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",Y.Lp,!0)});document.body.addEventListener("keydown",Y.Lp,!0)}},Im:function(a){!Y.mg||13!==a.keyCode&&27!==a.keyCode&&32!==a.keyCode||(Y.sh(!0),a.stopPropagation(),a.preventDefault())},Mr:function(){document.body.addEventListener("keydown",Y.Im,!0)},Qr:function(){document.body.removeEventListener("keydown",Y.Im,!0)},Lp:function(a){Y.Im(a);13!==a.keyCode&&32!==a.keyCode||kn()}};window.BlocklyDialogs=Y;function on(a){if(a){var b=a.match(/^block_id_([^']+)$/);b&&(a=b[1])}kk(a)}function pn(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}
function qn(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};function rn(){V("galleryXml").value=dn();var a=V("galleryDialog");if(!sn){var b=V("galleryOk");b.addEventListener("click",tn,!0);b.addEventListener("touchend",tn,!0);sn=!0}b=V("submitButton");Y.Ql(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",un,!0)});document.body.addEventListener("keydown",un,!0);setTimeout(function(){V("galleryTitle").focus()},250)}var sn;function un(a){27===a.keyCode?Y.sh(!0):13===a.keyCode&&tn()}
function vn(a,b){for(var c=[],d=ba(a.elements),e=d.next();!e.done;e=d.next())e=e.value,e.name&&c.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));Ym(a.action,c.join("&"),b)}function tn(){var a=V("galleryTitle");a.value.trim()?(a=V("galleryForm"),vn(a,function(){Y.Rr(null,W("Games.submitted",!1))}),Y.sh(!0)):(a.value="",a.focus())};function wn(a){this.Ss=23;this.Ug=18;this.cm=132;this.Zf=20;this.xa=.5;this.Vp=void 0;this.mm=[];B("line",{"class":"sliderTrack",x1:10,y1:35,x2:140,y2:35},a);this.$u=B("rect",{style:"opacity: 0",x:10-this.Zf,y:35-this.Zf,width:130+2*this.Zf,height:2*this.Zf,rx:this.Zf,ry:this.Zf},a);this.Pq=B("path",{"class":"sliderKnob",d:"m 0,0 l -8,8 v 12 h 16 v -12 z"},a);this.Hn=B("circle",{style:"opacity: 0",r:this.Zf,cy:35},a);for(this.$a(.5);a&&"svg"!==a.nodeName.toLowerCase();)a=a.parentNode;this.ea=a;xn(this.Hn,
"mousedown",this,this.Oq);xn(this.Hn,"touchstart",this,this.Oq);xn(this.$u,"mousedown",this,this.Hu);xn(this.ea,"mouseup",null,yn);xn(this.ea,"touchend",null,yn);xn(this.ea,"mousemove",null,zn);xn(this.ea,"touchmove",null,zn);xn(document,"mouseover",null,An)}wn.prototype.Oq=function(a){if("touchstart"===a.type){if(1!==a.changedTouches.length)return;Bn(a)}Cn=this;Dn=En(this,a).x;Fn=0;var b=this.Pq.getAttribute("transform");b&&(b=b.match(/translate\(\s*([-\d.]+)/))&&(Fn=Number(b[1]));a.preventDefault()};
function yn(){Cn=null}function An(a){if(Cn){a=a.target;do if(a===Cn.ea)return;while(a=a.parentNode);Cn=null}}function zn(a){var b=Cn;if(b){if("touchmove"===a.type){if(1!==a.changedTouches.length)return;Bn(a)}a=En(b,a).x-Dn+Fn;b.$a((a-b.Ug)/(b.cm-b.Ug))}}wn.prototype.Hu=function(a){if("touchstart"===a.type){if(1!==a.changedTouches.length)return;Bn(a)}a=En(this,a).x;Gn(this,(a-this.Ug)/(this.cm-this.Ug))};wn.prototype.Za=function(){return this.xa};
function Gn(a,b){function c(f){return function(){a.$a(f*(b-d)/9+d)}}a.mm.forEach(clearTimeout);a.mm=[];for(var d=a.Za(),e=0;10>e;e++)a.mm.push(setTimeout(c(e),200*e/10))}wn.prototype.$a=function(a){this.xa=jd(a,0,1);a=this.Ug+(this.cm-this.Ug)*this.xa;this.Pq.setAttribute("transform","translate("+a+","+this.Ss+")");this.Hn.setAttribute("cx",a);this.Vp&&this.Vp(this.xa)};
function En(a,b){var c=a.ea.createSVGPoint();c.x=b.clientX;c.y=b.clientY;a=a.ea.getScreenCTM().inverse();return c.matrixTransform(a)}function xn(a,b,c,d){a.addEventListener(b,function(e){d.apply(c,arguments)},!1)}function Bn(a){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}var Cn=null,Dn=0,Fn=0;rl([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",
args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",
check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);function Hn(a,b,c){"function"!=typeof a&&(In(a),a=JSON.parse(JSON.stringify(a)));this.Ah=a;this.gp=this.Mo=this.Qk=null;a=this.Ah;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=ib(f):(null!=f.alt&&(a[e][0].alt=ib(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var l=Ca(f);e=Da(f,l);d=Ea(f,l);if((e||d)&&!(l<=e+d)){e&&(this.Mo=f[0].substring(0,e-1));d&&(this.gp=f[0].substr(1-d));f=[];for(l=0;l<a.length;l++){var m=a[l][0],
n=a[l][1];m=m.substring(e,m.length-d);f[l]=[m,n]}this.Ah=f}}}this.Ih=Yh(this,!1)[0];Hn.j.constructor.call(this,this.Ih[1],b,c);this.Oh=this.$f=this.ec=this.ic=this.rj=null}F(Hn,nh);Hn.S=function(a){return new Hn(a.options,void 0,a)};Hn.prototype.Ok=function(a){Xh(this)&&Yh(this,!1);this.$a(a.textContent)};Hn.prototype.Yf=!0;var Jn=Ra?"\u25bc":"\u25be";g=Hn.prototype;g.Wj="default";
g.tf=function(){this.cp()?ph(this):this.wk=this.m.W();qh(this);this.ec=B(sc,{},this.oc);this.I().Gs?(this.Oh=B(sc,{height:this.I().Wh+"px",width:this.I().Wh+"px"},this.oc),this.Oh.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.I().Hs)):(this.$f=B(Ac,{},this.ub),this.$f.appendChild(document.createTextNode(this.m.u?Jn+" ":" "+Jn)),this.m.u?this.ub.insertBefore(this.$f,this.Te):this.ub.appendChild(this.$f));this.Ga&&C(this.Ga,"blocklyDropdownRect")};
g.cp=function(){return!this.I().$l||this.I().$l&&!this.m.aa};g.ee=function(a){this.Vm();this.ic.Bo=a&&"number"===typeof a.clientX?new k(a.clientX,a.clientY):null;this.ic.U(df);C(this.ic.Ib,"blocklyDropdownMenu");if(this.I().Fs){a=this.m.aa?this.m.getParent().mn():this.m.mn();var b=this.m.aa?this.m.getParent().style.oe:this.m.style.oe;cf.style.backgroundColor=a;cf.style.borderColor=b}pf(this,this.Wm.bind(this));this.ic.focus();this.rj&&this.ic.zd(this.rj);this.Wa()};
g.Vm=function(){var a=new Ei;a.uj("listbox");this.ic=a;var b=Yh(this,!1);this.rj=null;for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if("object"==typeof d){var f=new Image(d.width,d.height);f.src=d.src;f.alt=d.alt||"";d=f}d=new Hi(d,e);d.uj("option");d.Uo=this.m.u;d.xm=!0;a.yd.push(d);d.ym=e==this.xa;e==this.xa&&(this.rj=d);Ii(d,this.St,this)}};g.Wm=function(){this.ic&&this.ic.o();this.rj=this.ic=null;this.Wa()};g.St=function(a){hf===this&&wf();this.rr(a)};g.rr=function(a){this.$a(a.Za())};
function Xh(a){return"function"==typeof a.Ah}function Yh(a,b){return Xh(a)?(a.Qk&&b||(a.Qk=a.Ah.call(a),In(a.Qk)),a.Qk):a.Ah}g.te=function(a){for(var b=!1,c=Yh(this,!0),d=0,e;e=c[d];d++)if(e[1]==a){b=!0;break}return b?a:(this.m&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.m.type+", Field name: "+this.name+", Value: "+a),null)};g.pd=function(a){Hn.j.pd.call(this,a);a=Yh(this,!0);for(var b=0,c;c=a[b];b++)c[1]==this.xa&&(this.Ih=c)};
g.Wa=function(){this.Ga&&(this.Ga.setAttribute("stroke",this.m.style.oe),this.ic?this.Ga.setAttribute("fill",this.m.style.oe):this.Ga.setAttribute("fill","transparent"));this.m&&this.$f&&(this.$f.style.fill=this.m.aa?this.m.style.xk:this.m.style.ef)};
g.Gh=function(){this.Te.nodeValue="";this.ec.style.display="none";var a=this.Ih&&this.Ih[0];if(a&&"object"==typeof a){this.ec.style.display="";this.ec.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);this.ec.setAttribute("height",a.height);this.ec.setAttribute("width",a.width);var b=Number(a.height);a=Number(a.width);var c=!!this.Ga,d=Math.max(c?this.I().wp:0,b+10);c=c?this.I().Og:0;if(this.Oh)var e=Kn(this,a+c,d/2-this.I().Wh/2);else{e=this.I().Qg;var f=this.I().Rg,l=this.I().Pg;
e=Kc(this.$f,e+"pt",f,l)}this.Db.width=a+e+2*c;this.Db.height=d;f=0;this.m.u?this.ec.setAttribute("x",c+e):(f=a+e,this.ub.setAttribute("text-anchor","end"),this.ec.setAttribute("x",c));this.ec.setAttribute("y",d/2-b/2);sh(this,f+c,a+e)}else this.Te.nodeValue=this.Sk(),C(this.ub,"blocklyDropdownText"),this.ub.setAttribute("text-anchor","start"),a=!!this.Ga,b=Math.max(a?this.I().wp:0,this.I().$j),d=this.I().Qg,c=this.I().Rg,e=this.I().Pg,d=Kc(this.ub,d+"pt",c,e),a=a?this.I().Og:0,c=0,this.Oh&&(c=Kn(this,
d+a,b/2-this.I().Wh/2)),this.Db.width=d+c+2*a,this.Db.height=b,sh(this,a,d);th(this)};function Kn(a,b,c){if(!a.Oh)return 0;var d=a.Ga?a.I().Og:0,e=a.I().Is,f=a.I().Wh;a.Oh.setAttribute("transform","translate("+(a.m.u?d:b+e)+","+c+")");return f+e}g.Tk=function(){if(!this.Ih)return null;var a=this.Ih[0];return"object"==typeof a?a.alt:a};
function In(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(d)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+
d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");}u(Ob,"field_dropdown",Hn);function Sh(a){Sh.j.constructor.call(this,null);this.Hr=a}F(Sh,Xe);g=Sh.prototype;g.g=null;g.Th=0;g.Rj=0;
g.Pm=function(a){B(xc,{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);B(uc,{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
B(ic,{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};g.xn=function(a){this.D.fc()&&Xe.prototype.xn.call(this,a)};
g.Dm=function(){this.Dj=B(yc,{x:Fe,y:Fe},null);if(this.Hr.length)for(var a=G("xml"),b=0,c;c=this.Hr[b];b++){var d=G("block");d.setAttribute("type",c);a.appendChild(d)}else a=null;b=new he({disable:!1,parentWorkspace:this.D.h,media:this.D.h.options.Df,rtl:this.D.u,renderer:this.D.h.options.mj,rendererOverrides:this.D.h.options.nj});b.mb=this.D.u?3:2;if(c=!!a)b.Ud=ce(a);this.g=new Xj(b);this.g.Wi=!0;Ae(this.g,fc);a=c?ik(this.g,rc):null;b=this.g.La("blocklyMutatorBackground");a&&b.insertBefore(a,this.g.Ea);
this.Dj.appendChild(b);return this.Dj};g.Ye=function(){Sh.j.Ye.call(this);this.D.Ta||(this.D.fc()?this.dc&&Ec(this.dc,"blocklyIconGroupReadonly"):(this.sa(!1),this.dc&&C(this.dc,"blocklyIconGroupReadonly")))};
function Ln(a){var b=2*Fe,c=a.g.Ea.getBBox(),d=c.width+c.x,e=c.height+3*b,f=a.g.Gc();if(f){var l=f.g.jc.lf();e=Math.max(e,l.height+20);d+=f.ye()}a.D.u&&(d=-c.x);d+=3*b;if(Math.abs(a.Th-d)>b||Math.abs(a.Rj-e)>b)a.Th=d,a.Rj=e,a.Xa.sj(d+b,e+b),a.Dj.setAttribute("width",a.Th),a.Dj.setAttribute("height",a.Rj),jk(a.g,a.Th,a.Rj);a.D.u&&a.g.Ea.setAttribute("transform","translate("+a.Th+",0)");a.g.resize()}g.pu=function(){this.g&&vj(this.g)};
g.sa=function(a){if(a!=this.isVisible())if(x(new (A("bubble_open"))(this.D,a,"mutator")),a){this.Xa=new Ce(this.D.h,this.Dm(),this.D.wa.Fa,this.qf,null,null);Le(this.Xa,this.D.id);this.Xa.Zn=this.pu.bind(this);var b=this.g.options.Ud;a=this.g.Gc();b&&(a.J(this.g),a.show(b));this.$d=this.D.Ld(this.g);b=tb(this.$d,!1);for(var c=0,d;d=b[c];c++)d.U();this.$d.Ll(!1);this.$d.Hm=!1;a?(b=2*a.Ja,a=this.$d.u?a.ye()+b:b):a=b=16;this.D.u&&(a=-a);this.$d.moveBy(a,b);if(this.D.qj){var e=this,f=this.D;f.qj(this.$d);
this.Rl=function(){f.qj(e.$d)};Ae(this.D.h,this.Rl)}Ln(this);Ae(this.g,this.hv.bind(this));this.Wa()}else this.Dj=null,this.g.o(),this.$d=this.g=null,this.Xa.o(),this.Xa=null,this.Rj=this.Th=0,this.Rl&&(rb(this.D.h.tb,this.Rl),this.Rl=null)};
g.hv=function(a){if(!(a.Gn||"change"==a.type&&"disabled"==a.element)){if(!this.g.jb()){a=this.g.pb(!1);for(var b=0,c;c=a[b];b++){var d=c.na();20>d.y&&c.moveBy(0,20-d.y);if(c.u){var e=-20,f=this.g.Gc();f&&(e-=f.ye());d.x>e&&c.moveBy(e-d.x,0)}else 20>d.x&&c.moveBy(20-d.x,0)}}if(this.$d.h==this.g){y(!0);c=this.D;a=(a=c.ma())&&vd(a);b=c.N;c.N=!1;c.Id(this.$d);c.N=b;c.Jc();c.N&&c.U();b=(b=c.ma())&&vd(b);if(a!=b){x(new (A("change"))(c,"mutation",null,a,b));var l=Yb;setTimeout(function(){y(l);c.Ya();y(!1)},
250)}this.g.jb()||Ln(this);y(!1)}}};g.o=function(){this.D.Lb=null;Xe.prototype.o.call(this)};function Mn(a,b,c){if(!a||!a.G().h)return!1;c=H(b,c).connection;var d=a.K();return d&&d!=b||c.M==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)}function Nn(a){var b=null;if(a&&a.options){var c=a.options.fb;a.wd?c&&c.options&&(b=c.options.fb):c&&(b=c)}return b};rl([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",
args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:["String","Array"]}],output:"Number",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
L.lists_create_with={J:function(){this.rb=h.LISTS_CREATE_WITH_HELPURL;this.Va(h.LISTS_HUE);this.oa=3;this.Eb();this.vc(!0,"Array");this.Kh(new Sh(["lists_create_with_item"]));this.Da(h.LISTS_CREATE_WITH_TOOLTIP)},ma:function(){var a=G("mutation");a.setAttribute("items",this.oa);return a},Ha:function(a){this.oa=parseInt(a.getAttribute("items"),10);this.Eb()},Ld:function(a){var b=a.Vd("lists_create_with_container");b.Jc();for(var c=H(b,"STACK").connection,d=0;d<this.oa;d++){var e=a.Vd("lists_create_with_item");
e.Jc();c.connect(e.L);c=e.F}return b},Id:function(a){var b=pi(a,"STACK");for(a=[];b&&!b.Cb();)a.push(b.Qj),b=b.F&&b.F.K();for(b=0;b<this.oa;b++){var c=H(this,"ADD"+b).connection.M;c&&-1==a.indexOf(c)&&c.disconnect()}this.oa=a.length;this.Eb();for(b=0;b<this.oa;b++)Mn(a[b],this,"ADD"+b)},qj:function(a){a=pi(a,"STACK");for(var b=0;a;){var c=H(this,"ADD"+b);a.Qj=c&&c.connection.M;b++;a=a.F&&a.F.K()}},Eb:function(){this.oa&&H(this,"EMPTY")?this.Aa("EMPTY"):this.oa||H(this,"EMPTY")||M(N(this,"EMPTY"),
h.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.oa;a++)if(!H(this,"ADD"+a)){var b=ei(ji(this,"ADD"+a),1);0==a&&M(b,h.LISTS_CREATE_WITH_INPUT_WITH)}for(;H(this,"ADD"+a);)this.Aa("ADD"+a),a++}};L.lists_create_with_container={J:function(){this.Va(h.LISTS_HUE);M(N(this),h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.Fd(3,"STACK");this.Da(h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
L.lists_create_with_item={J:function(){this.Va(h.LISTS_HUE);M(N(this),h.LISTS_CREATE_WITH_ITEM_TITLE);this.ce(!0);this.ae(!0);this.Da(h.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
L.lists_indexOf={J:function(){var a=[[h.LISTS_INDEX_OF_FIRST,"FIRST"],[h.LISTS_INDEX_OF_LAST,"LAST"]];this.rb=h.LISTS_INDEX_OF_HELPURL;this.Va(h.LISTS_HUE);this.vc(!0,"Number");M(ji(this,"VALUE").Ua("Array"),h.LISTS_INDEX_OF_INPUT_IN_LIST);M(ji(this,"FIND"),new Hn(a),"END");this.Nc(!0);var b=this;this.Da(function(){return h.LISTS_INDEX_OF_TOOLTIP.replace("%1",b.h.options.Ub?"0":"-1")})}};
L.lists_getIndex={J:function(){var a=[[h.LISTS_GET_INDEX_GET,"GET"],[h.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[h.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.jm=[[h.LISTS_GET_INDEX_FROM_START,"FROM_START"],[h.LISTS_GET_INDEX_FROM_END,"FROM_END"],[h.LISTS_GET_INDEX_FIRST,"FIRST"],[h.LISTS_GET_INDEX_LAST,"LAST"],[h.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.rb=h.LISTS_GET_INDEX_HELPURL;this.Va(h.LISTS_HUE);a=new Hn(a,function(c){c="REMOVE"==c;this.G().gs(c)});M(ji(this,"VALUE").Ua("Array"),h.LISTS_GET_INDEX_INPUT_IN_LIST);
M(M(N(this),a,"MODE"),"","SPACE");N(this,"AT");h.LISTS_GET_INDEX_TAIL&&M(N(this,"TAIL"),h.LISTS_GET_INDEX_TAIL);this.Nc(!0);this.vc(!0);this.ab(!0);var b=this;this.Da(function(){var c=I(b,"MODE"),d=I(b,"WHERE"),e="";switch(c+" "+d){case "GET FROM_START":case "GET FROM_END":e=h.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":e=h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":e=h.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":e=h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":e=
h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":e=h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":e=h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":e=h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":e=h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":e=h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case "REMOVE LAST":e=h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":e=
h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+("FROM_START"==d?h.LISTS_INDEX_FROM_START_TOOLTIP:h.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.h.options.Ub?"#1":"#0");return e})},ma:function(){var a=G("mutation");a.setAttribute("statement",!this.A);a.setAttribute("at",1==H(this,"AT").type);return a},Ha:function(a){var b="true"==a.getAttribute("statement");this.gs(b);a="false"!=a.getAttribute("at");this.ab(a)},gs:function(a){a!=!this.A&&(Rd(this,!0),a?(this.vc(!1),
this.ce(!0),this.ae(!0)):(this.ce(!1),this.ae(!1),this.vc(!0)))},ab:function(a){this.Aa("AT");this.Aa("ORDINAL",!0);a?(ji(this,"AT").Ua("Number"),h.ORDINAL_NUMBER_SUFFIX&&M(N(this,"ORDINAL"),h.ORDINAL_NUMBER_SUFFIX)):N(this,"AT");var b=new Hn(this.jm,function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=a){var e=this.G();e.ab(d);hi(e,c,"WHERE");return null}});M(H(this,"AT"),b,"WHERE");h.LISTS_GET_INDEX_TAIL&&oi(this,"TAIL",null)}};
L.lists_setIndex={J:function(){var a=[[h.LISTS_SET_INDEX_SET,"SET"],[h.LISTS_SET_INDEX_INSERT,"INSERT"]];this.jm=[[h.LISTS_GET_INDEX_FROM_START,"FROM_START"],[h.LISTS_GET_INDEX_FROM_END,"FROM_END"],[h.LISTS_GET_INDEX_FIRST,"FIRST"],[h.LISTS_GET_INDEX_LAST,"LAST"],[h.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.rb=h.LISTS_SET_INDEX_HELPURL;this.Va(h.LISTS_HUE);M(ji(this,"LIST").Ua("Array"),h.LISTS_SET_INDEX_INPUT_IN_LIST);M(M(N(this),new Hn(a),"MODE"),"","SPACE");N(this,"AT");M(ji(this,"TO"),h.LISTS_SET_INDEX_INPUT_TO);
this.Nc(!0);this.ce(!0);this.ae(!0);this.Da(h.LISTS_SET_INDEX_TOOLTIP);this.ab(!0);var b=this;this.Da(function(){var c=I(b,"MODE"),d=I(b,"WHERE"),e="";switch(c+" "+d){case "SET FROM_START":case "SET FROM_END":e=h.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":e=h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":e=h.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":e=h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":e=h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;
break;case "INSERT FIRST":e=h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":e=h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case "INSERT RANDOM":e=h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+h.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.h.options.Ub?"#1":"#0");return e})},ma:function(){var a=G("mutation");a.setAttribute("at",1==H(this,"AT").type);return a},Ha:function(a){a="false"!=a.getAttribute("at");this.ab(a)},ab:function(a){this.Aa("AT");
this.Aa("ORDINAL",!0);a?(ji(this,"AT").Ua("Number"),h.ORDINAL_NUMBER_SUFFIX&&M(N(this,"ORDINAL"),h.ORDINAL_NUMBER_SUFFIX)):N(this,"AT");var b=new Hn(this.jm,function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=a){var e=this.G();e.ab(d);hi(e,c,"WHERE");return null}});oi(this,"AT","TO");H(this,"ORDINAL")&&oi(this,"ORDINAL","TO");M(H(this,"AT"),b,"WHERE")}};
L.lists_getSublist={J:function(){this.WHERE_OPTIONS_1=[[h.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[h.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[h.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[h.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[h.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[h.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.rb=h.LISTS_GET_SUBLIST_HELPURL;this.Va(h.LISTS_HUE);M(ji(this,"LIST").Ua("Array"),h.LISTS_GET_SUBLIST_INPUT_IN_LIST);N(this,"AT1");N(this,"AT2");
h.LISTS_GET_SUBLIST_TAIL&&M(N(this,"TAIL"),h.LISTS_GET_SUBLIST_TAIL);this.Nc(!0);this.vc(!0,"Array");this.ab(1,!0);this.ab(2,!0);this.Da(h.LISTS_GET_SUBLIST_TOOLTIP)},ma:function(){var a=G("mutation");a.setAttribute("at1",1==H(this,"AT1").type);a.setAttribute("at2",1==H(this,"AT2").type);return a},Ha:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.ab(1,b);this.ab(2,a)},ab:function(a,b){this.Aa("AT"+a);this.Aa("ORDINAL"+a,!0);b?(ji(this,"AT"+a).Ua("Number"),h.ORDINAL_NUMBER_SUFFIX&&
M(N(this,"ORDINAL"+a),h.ORDINAL_NUMBER_SUFFIX)):N(this,"AT"+a);var c=new Hn(this["WHERE_OPTIONS_"+a],function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=b){var f=this.G();f.ab(a,e);hi(f,d,"WHERE"+a);return null}});M(H(this,"AT"+a),c,"WHERE"+a);1==a&&(oi(this,"AT1","AT2"),H(this,"ORDINAL1")&&oi(this,"ORDINAL1","AT2"));h.LISTS_GET_SUBLIST_TAIL&&oi(this,"TAIL",null)}};
L.lists_sort={J:function(){ki(this,{message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",
helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}};rl([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",
extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",
name:"BOOL",check:"Boolean"}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",
helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
rl([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,
colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);Mh("logic_op_tooltip",Vh("OP",{EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"}));
Ph("controls_if_mutator",{Fc:0,rd:0,Se:!0,ma:function(){if(!this.Fc&&!this.rd)return null;var a=G("mutation");this.Fc&&a.setAttribute("elseif",this.Fc);this.rd&&a.setAttribute("else",1);return a},Ha:function(a){this.Fc=parseInt(a.getAttribute("elseif"),10)||0;this.rd=parseInt(a.getAttribute("else"),10)||0;this.Gu()},Ld:function(a){var b=a.Vd("controls_if_if");b.Jc();for(var c=b.F,d=1;d<=this.Fc;d++){var e=a.Vd("controls_if_elseif");e.Jc();c.connect(e.L);c=e.F}this.rd&&(a=a.Vd("controls_if_else"),
a.Jc(),c.connect(a.L));return b},Id:function(a){a=a.F.K();this.rd=this.Fc=0;for(var b=[null],c=[null],d=null;a&&!a.Cb();){switch(a.type){case "controls_if_elseif":this.Fc++;b.push(a.Qj);c.push(a.Re);break;case "controls_if_else":this.rd++;d=a.Re;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.F&&a.F.K()}this.Eb();this.Ir(b,c,d)},qj:function(a){a=a.F.K();for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=H(this,"IF"+b),d=H(this,"DO"+b);a.Qj=c&&c.connection.M;a.Re=d&&d.connection.M;
b++;break;case "controls_if_else":d=H(this,"ELSE");a.Re=d&&d.connection.M;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.F&&a.F.K()}},Gu:function(){var a=[null],b=[null],c=null;H(this,"ELSE")&&(c=H(this,"ELSE").connection.M);for(var d=1;H(this,"IF"+d);){var e=H(this,"DO"+d);a.push(H(this,"IF"+d).connection.M);b.push(e.connection.M);d++}this.Eb();this.Ir(a,b,c)},Eb:function(){H(this,"ELSE")&&this.Aa("ELSE");for(var a=1;H(this,"IF"+a);)this.Aa("IF"+a),this.Aa("DO"+a),a++;for(a=1;a<=
this.Fc;a++)M(ji(this,"IF"+a).Ua("Boolean"),h.CONTROLS_IF_MSG_ELSEIF),M(this.Fd(3,"DO"+a),h.CONTROLS_IF_MSG_THEN);this.rd&&M(this.Fd(3,"ELSE"),h.CONTROLS_IF_MSG_ELSE)},Ir:function(a,b,c){for(var d=1;d<=this.Fc;d++)Mn(a[d],this,"IF"+d),Mn(b[d],this,"DO"+d);Mn(c,this,"ELSE")}},null,["controls_if_elseif","controls_if_else"]);
Mh("controls_if_tooltip",function(){this.Da(function(){if(this.Fc||this.rd){if(!this.Fc&&this.rd)return h.CONTROLS_IF_TOOLTIP_2;if(this.Fc&&!this.rd)return h.CONTROLS_IF_TOOLTIP_3;if(this.Fc&&this.rd)return h.CONTROLS_IF_TOOLTIP_4}else return h.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))});
var On={onchange:function(a){this.gj||(this.gj=[null,null]);var b=pi(this,"A"),c=pi(this,"B");b&&c&&!Xd(b.A,c.A)&&(y(a.group),a=this.gj[0],a!==b&&(Rd(b),!a||a.Wc||a.aa||H(this,"A").connection.connect(a.A)),b=this.gj[1],b!==c&&(Rd(c),!b||b.Wc||b.aa||H(this,"B").connection.connect(b.A)),this.Ya(),y(!1));this.gj[0]=pi(this,"A");this.gj[1]=pi(this,"B")}};Mh("logic_compare",function(){Oh(this,On)});
Nh("logic_ternary",{Fr:null,onchange:function(a){var b=pi(this,"THEN"),c=pi(this,"ELSE"),d=this.A.M;if((b||c)&&d)for(var e=0;2>e;e++){var f=1==e?b:c;f&&!Xd(f.A,d)&&(y(a.group),d===this.Fr?(Rd(this),d.G().Ya()):(Rd(f),f.Ya()),y(!1))}this.Fr=d}});function Pn(a,b,c){this.zj=!0;Pn.j.constructor.call(this,a,b,c);this.xl=this.Ie=this.uc=null;this.Pk=!1;this.g=null}F(Pn,nh);Pn.prototype.Sf="";Pn.S=function(a){var b=ib(a.text);return new Pn(b,void 0,a)};g=Pn.prototype;g.Yf=!0;g.Wj="text";g.Rb=function(a){Pn.j.Rb.call(this,a);"boolean"==typeof a.spellcheck&&(this.zj=a.spellcheck)};
g.tf=function(){if(this.I().yp){for(var a=0,b=0,c=0,d;d=this.m.C[c];c++){for(var e=0;d.ga[e];e++)a++;d.connection&&b++}this.Pk=1>=a&&this.m.A&&!b}else this.Pk=!1;this.Pk?this.wk=this.m.W():ph(this);qh(this)};g.te=function(a){return null===a||void 0===a?null:String(a)};g.jq=function(){if(this.Ti){this.Fn=!1;var a=this.xa;this.xa=this.uc.bs;this.m&&0==v&&x(new (A("change"))(this.m,"field",this.name||null,a,this.xa))}};g.pd=function(a){this.Fn=!0;this.xa=a;this.Ti||(this.Td=!0)};
g.Wa=function(){this.m&&this.I().yp&&(this.Ga?this.Ga.setAttribute("stroke",this.m.style.oe):this.m.wa.Fa.setAttribute("fill",this.I().up))};g.Gh=function(){Pn.j.Gh.call(this);if(this.Ti){Qn(this);var a=this.uc;this.Fn?(Ec(a,"blocklyInvalidInput"),yh(a,"invalid",!1)):(C(a,"blocklyInvalidInput"),yh(a,"invalid",!0))}};function Rn(a){0!=a.zj&&(a.zj=!1,a.uc&&a.uc.setAttribute("spellcheck",a.zj))}
g.ee=function(a,b){this.g=this.m.h;a=b||!1;!a&&(Ya||Ra||Sa)?Sn(this):(kh(this,this.m.u,this.gv.bind(this)),this.uc=this.op(),this.Ti=!0,a||(this.uc.focus({preventScroll:!0}),this.uc.select()))};function Sn(a){il(h.CHANGE_VALUE_TITLE,a.cc(),function(b){null!==b&&this.$a(b)}.bind(a))}
g.op=function(){var a=fh;C(oh(this),"editing");var b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.zj);var c=ok(this.g),d=this.I().Qg*c+"pt";a.style.fontSize=d;b.style.fontSize=d;d=4*c+"px";if(this.Pk){d=qf(this);d=(d.bottom-d.top)/2+"px";var e=this.m.getParent()?this.m.getParent().style.oe:this.m.style.oe;b.style.border=1*c+"px solid "+e;a.style.borderRadius=d;a.style.transition="box-shadow 0.25s ease 0s";this.I().Js&&(a.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+
4*c+"px")}b.style.borderRadius=d;a.appendChild(b);b.value=b.defaultValue=String(this.xa);b.bs=this.xa;b.pr=null;Qn(this);this.Ie=p(b,"keydown",this,this.uu);this.xl=p(b,"input",this,this.tu);return b};g.gv=function(){this.Ti=!1;this.Fn=!0;uh(this);this.qo&&this.qo(this.xa);this.Ie&&(r(this.Ie),this.Ie=null);this.xl&&(r(this.xl),this.xl=null);var a=fh.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.uc=null;Ec(oh(this),"editing")};
g.uu=function(a){if(13==a.keyCode)lh(),wf();else if(27==a.keyCode)this.$a(this.uc.bs),lh(),wf();else if(9==a.keyCode){lh();wf();var b=this.m,c=!a.shiftKey,d=new bj;ch(d,Vg(this));var e=d.Ec;c?d.next():d.Le();(c=d.Ec)&&c!==e&&(e=c.Y,Mg(e)&&e.ee(void 0),b.h.zh&&ch(b.h.mh(),c));a.preventDefault()}};g.tu=function(){var a=this.uc.value;a!==this.uc.pr&&(this.uc.pr=a,y(!0),this.$a(a),uh(this),Qn(this),y(!1))};
function Qn(a){var b=fh,c=qf(a);b.style.width=c.right-c.left+"px";b.style.height=c.bottom-c.top+"px";a=new k(a.m.u?c.right-b.offsetWidth:c.left,c.top);b.style.left=a.x+"px";b.style.top=a.y+"px"}g.Mq=function(){return!0};g.Tk=function(){return this.Ti&&this.uc?this.uc.value:null};u(Ob,"field_input",Pn);function Tn(a,b,c,d,e,f){this.cj=-Infinity;this.aj=Infinity;this.Dh=0;this.Fm=null;Tn.j.constructor.call(this,a,e,f);f||(Un(this,b),Vn(this,c),Wn(this,d),this.$a(this.Za()))}F(Tn,Pn);Tn.prototype.Sf=0;Tn.S=function(a){return new Tn(a.value,void 0,void 0,void 0,void 0,a)};Tn.prototype.Yf=!0;Tn.prototype.Rb=function(a){Tn.j.Rb.call(this,a);Un(this,a.min);Vn(this,a.max);Wn(this,a.precision)};function Un(a,b){null==b?a.cj=-Infinity:(b=Number(b),isNaN(b)||(a.cj=b))}
function Vn(a,b){null==b?a.aj=Infinity:(b=Number(b),isNaN(b)||(a.aj=b))}function Wn(a,b){a.Dh=Number(b)||0;var c=String(a.Dh);-1!=c.indexOf("e")&&(c=a.Dh.toLocaleString("en-US",{maximumFractionDigits:20}));var d=c.indexOf(".");a.Fm=-1==d?b?0:null:c.length-d-1}
Tn.prototype.te=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.cj),this.aj);this.Dh&&isFinite(a)&&(a=Math.round(a/this.Dh)*this.Dh);null!=this.Fm&&(a=Number(a.toFixed(this.Fm)));return a};Tn.prototype.op=function(){var a=Tn.j.op.call(this);-Infinity<this.cj&&yh(a,"valuemin",this.cj);Infinity>this.aj&&yh(a,"valuemax",this.aj);return a};
u(Ob,"field_number",Tn);function Xn(a,b,c,d,e){this.Ah=Yn;this.Dt="string"===typeof a?a:"";this.Db=new Ia(0,0);e&&this.Rb(e);b&&(this.Ig=b);e||Zn(this,c,d)}F(Xn,Hn);Xn.S=function(a){var b=ib(a.variable);return new Xn(b,void 0,void 0,void 0,a)};g=Xn.prototype;g.Yf=!0;g.Rb=function(a){Xn.j.Rb.call(this,a);Zn(this,a.variableTypes,a.defaultType)};g.lg=function(){if(!this.wc){var a=jl(this.m.h,null,this.Dt,this.Ct);this.pd(a.V())}};g.cp=function(){return Xn.j.cp.call(this)&&(!this.I().$l||"variables_get"!=this.m.type)};
g.Ok=function(a){var b=a.getAttribute("id"),c=a.textContent,d=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=jl(this.m.h,b,c,d);if(null!=d&&d!==b.type)throw Error("Serialized variable type with id '"+b.V()+"' had type "+b.type+", and does not match variable field that references it: "+vd(a)+".");this.$a(b.V())};g.Xr=function(a){this.lg();a.id=this.wc.V();a.textContent=this.wc.name;this.wc.type&&a.setAttribute("variabletype",this.wc.type);return a};
g.bp=function(a){if(a.aa)throw Error("Variable fields are not allowed to exist on shadow blocks.");Xn.j.bp.call(this,a)};g.Za=function(){return this.wc?this.wc.V():null};g.cc=function(){return this.wc?this.wc.name:""};g.Zc=function(){return this.wc};g.vq=function(){return this.wc?this.Ig:null};
g.te=function(a){if(null===a)return null;var b=kl(this.m.h,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;var c;a:if(c=$n(this)){for(var d=0;d<c.length;d++)if(b==c[d]){c=!0;break a}c=!1}else c=!0;return c?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};g.pd=function(a){this.wc=kl(this.m.h,a);Xn.j.pd.call(this,a)};
function $n(a){var b=a.dv;if(null===b&&a.m&&a.m.h)return a.m.h.rn();b=b||[""];if(0==b.length)throw a=a.cc(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Zn(a,b,c){c=c||"";if(null==b||void 0==b)b=null;else if(Array.isArray(b)){for(var d=!1,e=0;e<b.length;e++)b[e]==c&&(d=!0);if(!d)throw Error("Invalid default type '"+c+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.Ct=c;a.dv=b}
function Yn(){if(!this.wc)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.cc(),b=[];if(this.m&&this.m.h)for(var c=$n(this),d=0;d<c.length;d++)b=b.concat(this.m.h.Ni(c[d]));b.sort($k);c=[];for(d=0;d<b.length;d++)c[d]=[b[d].name,b[d].V()];c.push([h.RENAME_VARIABLE,"RENAME_VARIABLE_ID"]);h.DELETE_VARIABLE&&c.push([h.DELETE_VARIABLE.replace("%1",a),"DELETE_VARIABLE_ID"]);return c}
g.rr=function(a){a=a.Za();if(this.m&&this.m.h){if("RENAME_VARIABLE_ID"==a){gl(this.m.h,this.wc);return}if("DELETE_VARIABLE_ID"==a){this.m.h.se(this.wc.V());return}}this.$a(a)};g.kj=function(){return!0};u(Ob,"field_variable",Xn);rl([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],
message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);Mh("controls_whileUntil_tooltip",Vh("MODE",{WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"}));Mh("controls_flow_tooltip",Vh("FLOW",{BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"}));
Nh("contextMenu_newGetVariableBlock",{re:function(a){if(!this.Ta){var b=Id(this,"VAR").Zc(),c=b.name;if(!this.isCollapsed()&&null!=c){var d={enabled:!0};d.text=h.VARIABLES_SET_CREATE_GET.replace("%1",c);b=dl(b);c=G("block");c.setAttribute("type","variables_get");c.appendChild(b);d.qa=Ji.qk(this,c);a.push(d)}}}});Mh("controls_for_tooltip",Zh("%{BKY_CONTROLS_FOR_TOOLTIP}"));Mh("controls_forEach_tooltip",Zh("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
var ao={Ts:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],Se:!0,qn:function(a){do{if(-1!=ao.Ts.indexOf(a.type))return a;a=gi(a)}while(a);return null},onchange:function(a){if(this.h.jb&&!this.h.jb()&&"move"==a.type){var b=ao.qn(this);this.Lh(b?null:h.CONTROLS_FLOW_STATEMENTS_WARNING);if(!this.Ta){var c=Yb;y(a.group);this.kc(b);y(c)}}}};Nh("controls_flow_in_loop_check",ao);rl([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}",
"MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},
{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",
helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},
{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",
name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",
args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",
tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",
helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
Mh("math_op_tooltip",Vh("OP",{ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"}));
Ph("math_is_divisibleby_mutator",{ma:function(){var a=G("mutation"),b="DIVISIBLE_BY"==I(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},Ha:function(a){a="true"==a.getAttribute("divisor_input");this.Eb(a)},Eb:function(a){var b=H(this,"DIVISOR");a?b||ji(this,"DIVISOR").Ua("Number"):b&&this.Aa("DIVISOR")}},function(){rh(Id(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.G().Eb(a)})});Mh("math_change_tooltip",Zh("%{BKY_MATH_CHANGE_TOOLTIP}"));
Ph("math_modes_of_list_mutator",{Nj:function(a){"MODE"==a?this.A.Ua("Array"):this.A.Ua("Number")},ma:function(){var a=G("mutation");a.setAttribute("op",I(this,"OP"));return a},Ha:function(a){this.Nj(a.getAttribute("op"))}},function(){rh(Id(this,"OP"),function(a){this.Nj(a)}.bind(this))});function bo(a,b,c){this.Wp=null;bo.j.constructor.call(this,a,b,c)}F(bo,nh);bo.prototype.Sf=!1;bo.S=function(a){return new bo(a.checked,void 0,a)};g=bo.prototype;g.Yf=!0;g.Wj="default";g.Rb=function(a){bo.j.Rb.call(this,a);a.checkCharacter&&(this.Wp=a.checkCharacter)};g.tf=function(){bo.j.tf.call(this);C(this.ub,"blocklyCheckbox");this.ub.style.display=this.xa?"block":"none"};g.Gh=function(){this.Te&&(this.Te.nodeValue=this.Sk());this.mp(this.I().Cs)};g.Sk=function(){return this.Wp||"\u2713"};
g.ee=function(){this.$a(!this.xa)};g.te=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};g.pd=function(a){this.xa=co(a);this.ub&&(this.ub.style.display=this.xa?"block":"none")};g.Za=function(){return this.xa?"TRUE":"FALSE"};g.cc=function(){return String(co(this.xa))};function co(a){return"string"==typeof a?"TRUE"==a:!!a}u(Ob,"field_checkbox",bo);L.Gr={};
L.procedures_defnoreturn={J:function(){var a=Nk("",this);a=new Pn(a,Pk);Rn(a);M(M(M(N(this),h.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.Kh(new Sh(["procedures_mutatorarg"]));(this.h.options.ri||this.h.options.fb&&this.h.options.fb.options.ri)&&h.PROCEDURES_DEFNORETURN_COMMENT&&this.Kf(h.PROCEDURES_DEFNORETURN_COMMENT);this.Va(h.PROCEDURES_HUE);this.Da(h.PROCEDURES_DEFNORETURN_TOOLTIP);this.rb=h.PROCEDURES_DEFNORETURN_HELPURL;this.la=[];this.ob=[];this.Cg(!0);this.Re=null},Cg:function(a){this.Vk!==
a&&(a?(M(this.Fd(3,"STACK"),h.PROCEDURES_DEFNORETURN_DO),H(this,"RETURN")&&oi(this,"STACK","RETURN")):this.Aa("STACK",!0),this.Vk=a)},Mj:function(){var a="";this.la.length&&(a=h.PROCEDURES_BEFORE_PARAMS+" "+this.la.join(", "));v++;try{hi(this,a,"PARAMS")}finally{v--}},ma:function(a){var b=G("mutation");a&&b.setAttribute("name",I(this,"NAME"));for(var c=0;c<this.ob.length;c++){var d=G("arg"),e=this.ob[c];d.setAttribute("name",e.name);d.setAttribute("varid",e.V());a&&this.Fo&&d.setAttribute("paramId",
this.Fo[c]);b.appendChild(d)}this.Vk||b.setAttribute("statements","false");return b},Ha:function(a){this.la=[];this.ob=[];for(var b=0,c;c=a.childNodes[b];b++)if("arg"==c.nodeName.toLowerCase()){var d=c.getAttribute("name");c=c.getAttribute("varid")||c.getAttribute("varId");this.la.push(d);c=jl(this.h,c,d,"");null!=c?this.ob.push(c):console.log("Failed to create a variable with name "+d+", ignoring.")}this.Mj();Tk(this);this.Cg("false"!==a.getAttribute("statements"))},Ld:function(a){var b=G("block");
b.setAttribute("type","procedures_mutatorcontainer");var c=G("statement");c.setAttribute("name","STACK");b.appendChild(c);for(var d=0;d<this.la.length;d++){var e=G("block");e.setAttribute("type","procedures_mutatorarg");var f=G("field");f.setAttribute("name","NAME");f.appendChild(document.createTextNode(this.la[d]));e.appendChild(f);f=G("next");e.appendChild(f);c.appendChild(e);c=f}a=yd(b,a);"procedures_defreturn"==this.type?hi(a,this.Vk,"STATEMENTS"):a.Aa("STATEMENT_INPUT");Tk(this);return a},Id:function(a){this.la=
[];this.Fo=[];this.ob=[];for(var b=pi(a,"STACK");b&&!b.Cb();){var c=I(b,"NAME");this.la.push(c);this.ob.push(this.h.Zc(c,""));this.Fo.push(b.id);b=b.F&&b.F.K()}this.Mj();Tk(this);a=I(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.Vk!=a))if(a)this.Cg(!0),Mn(this.Re,this,"STACK"),this.Re=null;else{a=H(this,"STACK").connection;if(this.Re=a.M)a=a.K(),Rd(a),a.Ya();this.Cg(!1)}},kf:function(){return[I(this,"NAME"),this.la,!1]},$c:function(){return this.la},xe:function(){return this.ob},Il:function(a,b){var c=
this.h.vd(a);if(""==c.type){c=c.name;b=this.h.vd(b);for(var d=!1,e=0;e<this.ob.length;e++)this.ob[e].V()==a&&(this.la[e]=b.name,this.ob[e]=b,d=!0);d&&(this.Ik(c,b.name),Tk(this))}},Xl:function(a){for(var b=a.name,c=!1,d=0;d<this.ob.length;d++)if(this.ob[d].V()==a.V()){var e=this.la[d];this.la[d]=b;c=!0}c&&(this.Ik(e,b),Tk(this))},Ik:function(a,b){this.Mj();if(this.Lb&&this.Lb.isVisible())for(var c=ne(this.Lb.g),d=0,e;e=c[d];d++)"procedures_mutatorarg"==e.type&&te(a,I(e,"NAME"))&&hi(e,b,"NAME")},re:function(a){if(!this.Ta){var b=
{enabled:!0},c=I(this,"NAME");b.text=h.PROCEDURES_CREATE_DO.replace("%1",c);var d=G("mutation");d.setAttribute("name",c);for(c=0;c<this.la.length;c++){var e=G("arg");e.setAttribute("name",this.la[c]);d.appendChild(e)}c=G("block");c.setAttribute("type",this.Tp);c.appendChild(d);b.qa=Ji.qk(this,c);a.push(b);if(!this.isCollapsed())for(c=0;c<this.ob.length;c++)b={enabled:!0},d=this.ob[c],b.text=h.VARIABLES_SET_CREATE_GET.replace("%1",d.name),d=dl(d),e=G("block"),e.setAttribute("type","variables_get"),
e.appendChild(d),b.qa=Ji.qk(this,e),a.push(b)}},Tp:"procedures_callnoreturn"};
L.procedures_defreturn={J:function(){var a=Nk("",this);a=new Pn(a,Pk);Rn(a);M(M(M(N(this),h.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");M(ei(ji(this,"RETURN"),1),h.PROCEDURES_DEFRETURN_RETURN);this.Kh(new Sh(["procedures_mutatorarg"]));(this.h.options.ri||this.h.options.fb&&this.h.options.fb.options.ri)&&h.PROCEDURES_DEFRETURN_COMMENT&&this.Kf(h.PROCEDURES_DEFRETURN_COMMENT);this.Va(h.PROCEDURES_HUE);this.Da(h.PROCEDURES_DEFRETURN_TOOLTIP);this.rb=h.PROCEDURES_DEFRETURN_HELPURL;this.la=[];
this.ob=[];this.Cg(!0);this.Re=null},Cg:L.procedures_defnoreturn.Cg,Mj:L.procedures_defnoreturn.Mj,ma:L.procedures_defnoreturn.ma,Ha:L.procedures_defnoreturn.Ha,Ld:L.procedures_defnoreturn.Ld,Id:L.procedures_defnoreturn.Id,kf:function(){return[I(this,"NAME"),this.la,!0]},$c:L.procedures_defnoreturn.$c,xe:L.procedures_defnoreturn.xe,Il:L.procedures_defnoreturn.Il,Xl:L.procedures_defnoreturn.Xl,Ik:L.procedures_defnoreturn.Ik,re:L.procedures_defnoreturn.re,Tp:"procedures_callreturn"};
L.procedures_mutatorcontainer={J:function(){M(N(this),h.PROCEDURES_MUTATORCONTAINER_TITLE);this.Fd(3,"STACK");M(M(N(this,"STATEMENT_INPUT"),h.PROCEDURES_ALLOW_STATEMENTS),new bo("TRUE"),"STATEMENTS");this.Va(h.PROCEDURES_HUE);this.Da(h.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
L.procedures_mutatorarg={J:function(){var a=new Pn("x",this.Ig);a.ou=a.ee;a.ee=function(){this.Ai=[];this.ou()};M(M(N(this),h.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.ce(!0);this.ae(!0);this.Va(h.PROCEDURES_HUE);this.Da(h.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.qo=this.Et;a.Ai=[];a.qo("x")},Ig:function(a){var b=this.G(),c=Nn(b.h);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var d=ne(b.h.Z||b.h),e=a.toLowerCase(),f=0;f<d.length;f++)if(d[f].id!=this.G().id){var l=
I(d[f],"NAME");if(l&&l.toLowerCase()==e)return null}if(b.Ta)return a;(b=c.Zc(a,""))&&b.name!=a&&c.Hf(b.V(),a);b||(b=c.nd(a,""))&&this.Ai&&this.Ai.push(b);return a},Et:function(a){var b=Nn(this.G().h);if(b)for(var c=0;c<this.Ai.length;c++){var d=this.Ai[c];d.name!=a&&b.se(d.V())}}};
L.procedures_callnoreturn={J:function(){M(N(this,"TOPROW"),"","NAME");this.ce(!0);this.ae(!0);this.Va(h.PROCEDURES_HUE);this.rb=h.PROCEDURES_CALLNORETURN_HELPURL;this.la=[];this.ob=[];this.zg={};this.Yd=null;this.No=!0},Hc:function(){return I(this,"NAME")},Fh:function(a,b){te(a,this.Hc())&&(hi(this,b,"NAME"),this.Da((this.A?h.PROCEDURES_CALLRETURN_TOOLTIP:h.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},$o:function(a,b){var c=Uk(this.Hc(),this.h),d=c&&c.Lb&&c.Lb.isVisible();d||(this.zg={},this.Yd=
null);if(b)if(a.join("\n")==this.la.join("\n"))this.Yd=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.Jf(!1);this.Yd||(this.zg={},this.Yd=[]);c=this.N;this.N=!1;for(var e=0;e<this.la.length;e++){var f=H(this,"ARG"+e);f&&(f=f.connection.M,this.zg[this.Yd[e]]=f,d&&f&&-1==b.indexOf(this.Yd[e])&&(f.disconnect(),f.G().Ya()))}this.la=[].concat(a);this.ob=[];for(e=0;e<this.la.length;e++)a=jl(this.h,null,this.la[e],""),this.ob.push(a);this.Eb();if(this.Yd=
b)for(e=0;e<this.la.length;e++)b=this.Yd[e],b in this.zg&&(f=this.zg[b],Mn(f,this,"ARG"+e)||delete this.zg[b]);(this.N=c)&&this.U()}},Eb:function(){for(var a=0;a<this.la.length;a++){var b=Id(this,"ARGNAME"+a);if(b){v++;try{b.$a(this.la[a])}finally{v--}}else b=new $h(this.la[a]),M(ei(ji(this,"ARG"+a),1),b,"ARGNAME"+a).J()}for(;H(this,"ARG"+a);)this.Aa("ARG"+a),a++;if(a=H(this,"TOPROW"))if(this.la.length)Id(this,"WITH")||(M(a,h.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),a.J());else if(Id(this,"WITH"))a:{b=
0;for(var c;c=a.ga[b];b++)if("WITH"===c.name){c.o();a.ga.splice(b,1);a.m.N&&(a.m=a.m,a.m.U(),a.m.Ya());break a}throw Error('Field "WITH" not found.');}},ma:function(){var a=G("mutation");a.setAttribute("name",this.Hc());for(var b=0;b<this.la.length;b++){var c=G("arg");c.setAttribute("name",this.la[b]);a.appendChild(c)}return a},Ha:function(a){var b=a.getAttribute("name");this.Fh(this.Hc(),b);b=[];for(var c=[],d=0,e;e=a.childNodes[d];d++)"arg"==e.nodeName.toLowerCase()&&(b.push(e.getAttribute("name")),
c.push(e.getAttribute("paramId")));this.$o(b,c)},$c:function(){return this.la},xe:function(){return this.ob},onchange:function(a){if(this.h&&!this.h.wd&&a.Mb)if("create"==a.type&&-1!=a.rf.indexOf(this.id)){var b=this.Hc();b=Uk(b,this.h);!b||b.type==this.Gm&&JSON.stringify(b.$c())==JSON.stringify(this.la)||(b=null);if(!b){y(a.group);a=G("xml");b=G("block");b.setAttribute("type",this.Gm);var c=this.na(),d=c.y+56;b.setAttribute("x",c.x+28*(this.u?-1:1));b.setAttribute("y",d);c=this.ma();b.appendChild(c);
c=G("field");c.setAttribute("name","NAME");d=this.Hc();d||(d=Nk("",this),this.Fh("",d));c.appendChild(document.createTextNode(d));b.appendChild(c);a.appendChild(b);xd(a,this.h);y(!1)}}else"delete"==a.type?(b=this.Hc(),b=Uk(b,this.h),b||(y(a.group),this.o(!0),y(!1))):"change"==a.type&&"disabled"==a.element&&(b=this.Hc(),(b=Uk(b,this.h))&&b.id==a.pa&&((b=Yb)&&console.log("Saw an existing group while responding to a definition change"),y(a.group),a.newValue?(this.No=this.isEnabled(),this.kc(!1)):this.kc(this.No),
y(b)))},re:function(a){if(this.h.sb()){var b={enabled:!0};b.text=h.PROCEDURES_HIGHLIGHT_DEF;var c=this.Hc(),d=this.h;b.qa=function(){var e=Uk(c,d);if(e){var f=e.id;if(d.sb()){if(f=f?d.qc(f):null){var l=f.na(),m=$f(f),n=d.scale;f=(l.x+(d.u?-1:1)*m.width/2)*n;l=(l.y+m.height/2)*n;m=d.bc();d.scroll(-(f-m.yb/2),-(l-m.xb/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");e.select()}};a.push(b)}},Gm:"procedures_defnoreturn"};
L.procedures_callreturn={J:function(){M(N(this,"TOPROW"),"","NAME");this.vc(!0);this.Va(h.PROCEDURES_HUE);this.rb=h.PROCEDURES_CALLRETURN_HELPURL;this.la=[];this.ob=[];this.zg={};this.Yd=null;this.No=!0},Hc:L.procedures_callnoreturn.Hc,Fh:L.procedures_callnoreturn.Fh,$o:L.procedures_callnoreturn.$o,Eb:L.procedures_callnoreturn.Eb,ma:L.procedures_callnoreturn.ma,Ha:L.procedures_callnoreturn.Ha,$c:L.procedures_callnoreturn.$c,xe:L.procedures_callnoreturn.xe,onchange:L.procedures_callnoreturn.onchange,
re:L.procedures_callnoreturn.re,Gm:"procedures_defreturn"};
L.procedures_ifreturn={J:function(){M(ji(this,"CONDITION").Ua("Boolean"),h.CONTROLS_IF_MSG_IF);M(ji(this,"VALUE"),h.PROCEDURES_DEFRETURN_RETURN);this.Nc(!0);this.ce(!0);this.ae(!0);this.Va(h.PROCEDURES_HUE);this.Da(h.PROCEDURES_IFRETURN_TOOLTIP);this.rb=h.PROCEDURES_IFRETURN_HELPURL;this.ze=!0},ma:function(){var a=G("mutation");a.setAttribute("value",Number(this.ze));return a},Ha:function(a){this.ze=1==a.getAttribute("value");this.ze||(this.Aa("VALUE"),M(N(this,"VALUE"),h.PROCEDURES_DEFRETURN_RETURN))},
onchange:function(){if(this.h.jb&&!this.h.jb()){var a=!1,b=this;do{if(-1!=this.Ls.indexOf(b.type)){a=!0;break}b=gi(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.ze?(this.Aa("VALUE"),M(N(this,"VALUE"),h.PROCEDURES_DEFRETURN_RETURN),this.ze=!1):"procedures_defreturn"!=b.type||this.ze||(this.Aa("VALUE"),M(ji(this,"VALUE"),h.PROCEDURES_DEFRETURN_RETURN),this.ze=!0),this.Lh(null),this.Ta||this.kc(!0)):(this.Lh(h.PROCEDURES_IFRETURN_WARNING),this.Ta||ii(this)||this.kc(!1))}},Ls:["procedures_defnoreturn",
"procedures_defreturn"]};function eo(a,b,c,d,e,f,l){if(!a)throw Error("Src value of an image field is required");a=ib(a);c=Number(ib(c));b=Number(ib(b));if(isNaN(c)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");if(0>=c||0>=b)throw Error("Height and width values of an image field must be greater than 0.");this.Ji=!1;this.lk="";eo.j.constructor.call(this,a,null,l);l||(this.Ji=!!f,this.lk=ib(d)||"");this.Db=new Ia(b,c+fo);this.au=c;this.ne=null;"function"==typeof e&&(this.ne=e);this.ec=
null}F(eo,nh);eo.prototype.Sf="";eo.S=function(a){return new eo(a.src,a.width,a.height,void 0,void 0,void 0,a)};var fo=1;g=eo.prototype;g.Vh=!1;g.Td=!1;g.Rb=function(a){eo.j.Rb.call(this,a);this.Ji=!!a.flipRtl;this.lk=ib(a.alt)||""};g.tf=function(){this.ec=B(sc,{height:this.au+"px",width:this.Db.width+"px",alt:this.lk},this.oc);this.ec.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.xa);this.ne&&(this.ec.style.cursor="pointer")};g.mp=function(){};
g.te=function(a){return"string"!=typeof a?null:a};g.pd=function(a){this.xa=a;this.ec&&this.ec.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",String(this.xa))};g.tq=function(){return this.Ji};g.ee=function(){this.ne&&this.ne(this)};g.Tk=function(){return this.lk};u(Ob,"field_image",eo);rl([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",colour:"100",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",
width:12,height:17,alt:"\u00b6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",colour:"100",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",colour:"100",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",
name:"STACK"}],colour:"100",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,colour:"100",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,
colour:"100",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:"100",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:"100",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},
{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",colour:"100",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",colour:"100",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]);
L.text_getSubstring={J:function(){this.WHERE_OPTIONS_1=[[h.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[h.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[h.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[h.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[h.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[h.TEXT_GET_SUBSTRING_END_LAST,"LAST"]];this.rb=h.TEXT_GET_SUBSTRING_HELPURL;this.Va("100");M(ji(this,"STRING").Ua("String"),h.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);N(this,"AT1");N(this,
"AT2");h.TEXT_GET_SUBSTRING_TAIL&&M(N(this,"TAIL"),h.TEXT_GET_SUBSTRING_TAIL);this.Nc(!0);this.vc(!0,"String");this.ab(1,!0);this.ab(2,!0);this.Da(h.TEXT_GET_SUBSTRING_TOOLTIP)},ma:function(){var a=G("mutation");a.setAttribute("at1",""+H(this,"AT1"));a.setAttribute("at2",""+H(this,"AT2"));return a},Ha:function(a){var b="true"===a.getAttribute("at1");a="true"===a.getAttribute("at2");this.ab(1,b);this.ab(2,a)},ab:function(a,b){this.Aa("AT"+a);this.Aa("ORDINAL"+a,!0);b?(ji(this,"AT"+a).Ua("Number"),
h.ORDINAL_NUMBER_SUFFIX&&M(N(this,"ORDINAL"+a),h.ORDINAL_NUMBER_SUFFIX)):N(this,"AT"+a);2===a&&h.TEXT_GET_SUBSTRING_TAIL&&(this.Aa("TAIL",!0),M(N(this,"TAIL"),h.TEXT_GET_SUBSTRING_TAIL));var c=wh({type:"field_dropdown",options:this["WHERE_OPTIONS_"+a]});rh(c,function(d){var e="FROM_START"===d||"FROM_END"===d;if(e!==b){var f=this.G();f.ab(a,e);hi(f,d,"WHERE"+a);return null}});M(H(this,"AT"+a),c,"WHERE"+a);1===a&&(oi(this,"AT1","AT2"),H(this,"ORDINAL1")&&oi(this,"ORDINAL1","AT2"))}};
L.text_changeCase={J:function(){var a=[[h.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[h.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[h.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.rb=h.TEXT_CHANGECASE_HELPURL;this.Va("100");M(ji(this,"TEXT").Ua("String"),wh({type:"field_dropdown",options:a}),"CASE");this.vc(!0,"String");this.Da(h.TEXT_CHANGECASE_TOOLTIP)}};
L.text_trim={J:function(){var a=[[h.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[h.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[h.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.rb=h.TEXT_TRIM_HELPURL;this.Va("100");M(ji(this,"TEXT").Ua("String"),wh({type:"field_dropdown",options:a}),"MODE");this.vc(!0,"String");this.Da(h.TEXT_TRIM_TOOLTIP)}};
L.text_print={J:function(){ki(this,{message0:h.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:"100",tooltip:h.TEXT_PRINT_TOOLTIP,helpUrl:h.TEXT_PRINT_HELPURL})}};
L.text_prompt_ext=Object.assign({},{Nj:function(a){this.A.Ua("NUMBER"===a?"Number":"String")},ma:function(){var a=G("mutation");a.setAttribute("type",I(this,"TYPE"));return a},Ha:function(a){this.Nj(a.getAttribute("type"))}},{J:function(){var a=this,b=[[h.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[h.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.rb=h.TEXT_PROMPT_HELPURL;this.Va("100");b=wh({type:"field_dropdown",options:b});rh(b,function(c){a.Nj(c)});M(ji(this,"TEXT"),b,"TYPE");this.vc(!0,"String");this.Da(function(){return"TEXT"===
I(a,"TYPE")?h.TEXT_PROMPT_TOOLTIP_TEXT:h.TEXT_PROMPT_TOOLTIP_NUMBER})}});L.text_count={J:function(){ki(this,{message0:h.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,colour:"100",tooltip:h.TEXT_COUNT_TOOLTIP,helpUrl:h.TEXT_COUNT_HELPURL})}};
L.text_replace={J:function(){ki(this,{message0:h.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,colour:"100",tooltip:h.TEXT_REPLACE_TOOLTIP,helpUrl:h.TEXT_REPLACE_HELPURL})}};
L.text_reverse={J:function(){ki(this,{message0:h.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,colour:"100",tooltip:h.TEXT_REVERSE_TOOLTIP,helpUrl:h.TEXT_REVERSE_HELPURL})}};
var go={ft:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",gt:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",
ht:12,et:12,Fu:function(a){for(var b=0,c;c=this.C[b];b++)for(var d=0,e;e=c.ga[d];d++)if(a===e.name){bi(c,d,this.ol(!0));bi(c,d+2,this.ol(!1));return}b=this.type?'"'+this.type+'" block':"Block";this.id&&(b+=' (id="'+this.id+'")');console.warn('field named "'+a+'" not found in '+b)},ol:function(a){a=this.u?!a:a;return wh({type:"field_image",src:a?this.ft:this.gt,width:this.ht,height:this.et,alt:a?"\u201c":"\u201d"})}};Mh("text_append_tooltip",Zh("%{BKY_TEXT_APPEND_TOOLTIP}"));
Mh("text_indexOf_tooltip",function(){var a=this;this.Da(function(){return h.TEXT_INDEXOF_TOOLTIP.replace("%1",a.h.options.Ub?"0":"-1")})});Mh("text_quotes",function(){Oh(this,go);this.Fu("TEXT")});
Ph("text_join_mutator",{oa:0,ma:function(){var a=G("mutation");a.setAttribute("items",""+this.oa);return a},Ha:function(a){this.oa=parseInt(a.getAttribute("items"),10);this.Eb()},Ov:function(){return{itemCount:this.oa}},Lv:function(a){this.oa=a.itemCount;this.Eb()},Ld:function(a){var b=a.Vd("text_create_join_container");b.Jc();for(var c=H(b,"STACK").connection,d=0;d<this.oa;d++){var e=a.Vd("text_create_join_item");e.Jc();c.connect(e.L);c=e.F}return b},Id:function(a){var b=pi(a,"STACK");for(a=[];b;)b.Cb()||
a.push(b.Qj),b=ub(b);for(b=0;b<this.oa;b++){var c=H(this,"ADD"+b).connection.M;c&&-1===a.indexOf(c)&&c.disconnect()}this.oa=a.length;this.Eb();for(b=0;b<this.oa;b++)c=void 0,null==(c=a[b])||c.Nv(this,"ADD"+b)},qj:function(a){a=pi(a,"STACK");for(var b=0;a;)if(a.Cb())a=ub(a);else{var c=H(this,"ADD"+b);a.Qj=c&&c.connection.M;a=ub(a);b++}},Eb:function(){this.oa&&H(this,"EMPTY")?this.Aa("EMPTY"):this.oa||H(this,"EMPTY")||M(M(N(this,"EMPTY"),this.ol(!0)),this.ol(!1));for(var a=0;a<this.oa;a++)if(!H(this,
"ADD"+a)){var b=ei(ji(this,"ADD"+a),1);0===a&&M(b,h.TEXT_JOIN_TITLE_CREATEWITH)}for(a=this.oa;H(this,"ADD"+a);a++)this.Aa("ADD"+a)}},function(){Oh(this,go);this.oa=2;this.Eb();this.Kh(new Sh(["text_create_join_item"]))});
Ph("text_charAt_mutator",{Dn:!1,ma:function(){var a=G("mutation");a.setAttribute("at",""+this.Dn);return a},Ha:function(a){a="false"!==a.getAttribute("at");this.ab(a)},ab:function(a){this.Aa("AT",!0);this.Aa("ORDINAL",!0);a&&(ji(this,"AT").Ua("Number"),h.ORDINAL_NUMBER_SUFFIX&&M(N(this,"ORDINAL"),h.ORDINAL_NUMBER_SUFFIX));h.TEXT_CHARAT_TAIL&&(this.Aa("TAIL",!0),M(N(this,"TAIL"),h.TEXT_CHARAT_TAIL));this.Dn=a}},function(){var a=this;rh(Id(this,"WHERE"),function(b){b="FROM_START"===b||"FROM_END"===
b;var c=this.G();b!==c.Dn&&c.ab(b)});this.ab(!0);this.Da(function(){var b=I(a,"WHERE"),c=h.TEXT_CHARAT_TOOLTIP;("FROM_START"===b||"FROM_END"===b)&&(b="FROM_START"===b?h.LISTS_INDEX_FROM_START_TOOLTIP:h.LISTS_INDEX_FROM_END_TOOLTIP)&&(c+="  "+b.replace("%1",a.h.options.Ub?"#1":"#0"));return c})});rl([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
colour:"%{BKY_VARIABLES_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);function ho(a){return function(){var b=a.h,c=Id(a,"VAR").Zc();gl(b,c)}}function io(a){return function(){var b=a.h,c=Id(a,"VAR").Zc();b.se(c.V());gk(b)}}
Nh("contextMenu_variableSetterGetter",{re:function(a){if(!this.Ta){if("variables_get"==this.type)var b="variables_set",c=h.VARIABLES_GET_CREATE_SET;else b="variables_get",c=h.VARIABLES_SET_CREATE_GET;var d={enabled:0<we(this.h)},e=Id(this,"VAR").cc();d.text=c.replace("%1",e);c=G("field");c.setAttribute("name","VAR");c.appendChild(document.createTextNode(e));e=G("block");e.setAttribute("type",b);e.appendChild(c);d.qa=Ji.qk(this,e);a.push(d)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:h.RENAME_VARIABLE,enabled:!0,qa:ho(this)},e=Id(this,"VAR").cc(),d={text:h.DELETE_VARIABLE.replace("%1",e),enabled:!0,qa:io(this)},a.unshift(b),a.unshift(d)}});S.oi={};S.colour_picker=function(a){return[S.Lc(I(a,"COLOUR")),S.Ra]};S.colour_random=function(){return[R(S,"colourRandom",["function "+S.ua+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",S.B]};
S.colour_rgb=function(a){var b=Q(S,a,"RED",S.s)||0,c=Q(S,a,"GREEN",S.s)||0;a=Q(S,a,"BLUE",S.s)||0;return[R(S,"colourRgb",["function "+S.ua+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;",
"}"])+"("+b+", "+c+", "+a+")",S.B]};
S.colour_blend=function(a){var b=Q(S,a,"COLOUR1",S.s)||"'#000000'",c=Q(S,a,"COLOUR2",S.s)||"'#000000'";a=Q(S,a,"RATIO",S.s)||.5;return[R(S,"colourBlend",["function "+S.ua+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);",
"  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+b+", "+c+", "+a+")",S.B]};S.On={};S.lists_create_empty=function(){return["[]",S.Ra]};S.lists_create_with=function(a){for(var b=Array(a.oa),c=0;c<a.oa;c++)b[c]=Q(S,a,"ADD"+c,S.s)||"null";return["["+b.join(", ")+"]",S.Ra]};S.lists_repeat=function(a){var b=R(S,"listsRepeat",["function "+S.ua+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),c=Q(S,a,"ITEM",S.s)||"null";a=Q(S,a,"NUM",S.s)||"0";return[b+"("+c+", "+a+")",S.B]};
S.lists_length=function(a){return[(Q(S,a,"VALUE",S.H)||"[]")+".length",S.H]};S.lists_isEmpty=function(a){return["!"+(Q(S,a,"VALUE",S.H)||"[]")+".length",S.lc]};S.lists_indexOf=function(a){var b="FIRST"==I(a,"END")?"indexOf":"lastIndexOf",c=Q(S,a,"FIND",S.s)||"''";b=(Q(S,a,"VALUE",S.H)||"[]")+"."+b+"("+c+")";return a.h.options.Ub?[b+" + 1",S.Ed]:[b,S.B]};
S.lists_getIndex=function(a){var b=I(a,"MODE")||"GET",c=I(a,"WHERE")||"FROM_START",d=Q(S,a,"VALUE","RANDOM"==c?S.s:S.H)||"[]";switch(c){case "FIRST":if("GET"==b)return[d+"[0]",S.H];if("GET_REMOVE"==b)return[d+".shift()",S.H];if("REMOVE"==b)return d+".shift();\n";break;case "LAST":if("GET"==b)return[d+".slice(-1)[0]",S.H];if("GET_REMOVE"==b)return[d+".pop()",S.H];if("REMOVE"==b)return d+".pop();\n";break;case "FROM_START":a=S.Ab(a,"AT");if("GET"==b)return[d+"["+a+"]",S.H];if("GET_REMOVE"==b)return[d+
".splice("+a+", 1)[0]",S.B];if("REMOVE"==b)return d+".splice("+a+", 1);\n";break;case "FROM_END":a=S.Ab(a,"AT",1,!0);if("GET"==b)return[d+".slice("+a+")[0]",S.B];if("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",S.B];if("REMOVE"==b)return d+".splice("+a+", 1);";break;case "RANDOM":d=R(S,"listsGetRandomItem",["function "+S.ua+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+
d+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[d,S.B];if("REMOVE"==b)return d+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
S.lists_setIndex=function(a){function b(){if(c.match(/^\w+$/))return"";var l=xi(S.P,"tmpList","VARIABLE"),m="var "+l+" = "+c+";\n";c=l;return m}var c=Q(S,a,"LIST",S.H)||"[]",d=I(a,"MODE")||"GET",e=I(a,"WHERE")||"FROM_START",f=Q(S,a,"TO",S.Uf)||"null";switch(e){case "FIRST":if("SET"==d)return c+"[0] = "+f+";\n";if("INSERT"==d)return c+".unshift("+f+");\n";break;case "LAST":if("SET"==d)return a=b(),a+(c+"["+c+".length - 1] = "+f+";\n");if("INSERT"==d)return c+".push("+f+");\n";break;case "FROM_START":e=
S.Ab(a,"AT");if("SET"==d)return c+"["+e+"] = "+f+";\n";if("INSERT"==d)return c+".splice("+e+", 0, "+f+");\n";break;case "FROM_END":e=S.Ab(a,"AT",1,!1,S.bf);a=b();if("SET"==d)return a+(c+"["+c+".length - "+e+"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+c+".length - "+e+", 0, "+f+");\n");break;case "RANDOM":a=b();e=xi(S.P,"tmpX","VARIABLE");a+="var "+e+" = Math.floor(Math.random() * "+c+".length);\n";if("SET"==d)return a+(c+"["+e+"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+e+", 0, "+
f+");\n")}throw Error("Unhandled combination (lists_setIndex).");};S.On.Pt=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
S.lists_getSublist=function(a){var b=Q(S,a,"LIST",S.H)||"[]",c=I(a,"WHERE1"),d=I(a,"WHERE2");if("FIRST"==c&&"LAST"==d)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=c&&"FROM_START"==d){switch(c){case "FROM_START":var e=S.Ab(a,"AT1");break;case "FROM_END":e=S.Ab(a,"AT1",1,!1,S.bf);e=b+".length - "+e;break;case "FIRST":e="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(d){case "FROM_START":a=S.Ab(a,"AT2",1);break;case "FROM_END":a=S.Ab(a,"AT2",0,!1,S.bf);a=b+".length - "+
a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}b=b+".slice("+e+", "+a+")"}else{e=S.Ab(a,"AT1");a=S.Ab(a,"AT2");var f=S.On.Pt,l={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=R(S,"subsequence"+l[c]+l[d],["function "+S.ua+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+f("sequence",c,"at1")+";","  var end = "+f("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);",
"}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+e:"")+("FROM_END"==d||"FROM_START"==d?", "+a:"")+")"}return[b,S.B]};
S.lists_sort=function(a){var b=Q(S,a,"LIST",S.B)||"[]",c="1"===I(a,"DIRECTION")?1:-1;a=I(a,"TYPE");var d=R(S,"listsGetSortCompare",["function "+S.ua+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];",
"  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+d+'("'+a+'", '+c+"))",S.B]};S.lists_reverse=function(a){return[(Q(S,a,"LIST",S.B)||"[]")+".slice().reverse()",S.B]};S.Wu={};var jo=/^\s*'([^']|\\')*'\s*$/;function ko(a){return jo.test(a)?[a,S.Ra]:["String("+a+")",S.B]}function lo(a,b){return"FIRST"===a?"0":"FROM_END"===a?"sequence.length - 1 - "+b:"LAST"===a?"sequence.length - 1":b}S.text=function(a){return[S.Lc(I(a,"TEXT")),S.Ra]};S.text_multiline=function(a){a=S.bo(I(a,"TEXT"));return[a,-1!==a.indexOf("+")?S.Ed:S.Ra]};
S.text_join=function(a){switch(a.oa){case 0:return["''",S.Ra];case 1:return a=Q(S,a,"ADD0",S.s)||"''",ko(a);case 2:var b=Q(S,a,"ADD0",S.s)||"''";a=Q(S,a,"ADD1",S.s)||"''";return[ko(b)[0]+" + "+ko(a)[0],S.Ed];default:b=Array(a.oa);for(var c=0;c<a.oa;c++)b[c]=Q(S,a,"ADD"+c,S.s)||"''";return["["+b.join(",")+"].join('')",S.B]}};S.text_append=function(a){var b=S.P.za(I(a,"VAR"),"VARIABLE");a=Q(S,a,"TEXT",S.s)||"''";return b+" += "+ko(a)[0]+";\n"};
S.text_length=function(a){return[(Q(S,a,"VALUE",S.H)||"''")+".length",S.H]};S.text_isEmpty=function(a){return["!"+(Q(S,a,"VALUE",S.H)||"''")+".length",S.lc]};S.text_indexOf=function(a){var b="FIRST"===I(a,"END")?"indexOf":"lastIndexOf",c=Q(S,a,"FIND",S.s)||"''";b=(Q(S,a,"VALUE",S.H)||"''")+"."+b+"("+c+")";return a.h.options.Ub?[b+" + 1",S.Ed]:[b,S.B]};
S.text_charAt=function(a){var b=I(a,"WHERE")||"FROM_START",c=Q(S,a,"VALUE","RANDOM"===b?S.s:S.H)||"''";switch(b){case "FIRST":return[c+".charAt(0)",S.B];case "LAST":return[c+".slice(-1)",S.B];case "FROM_START":return a=S.Ab(a,"AT"),[c+".charAt("+a+")",S.B];case "FROM_END":return a=S.Ab(a,"AT",1,!0),[c+".slice("+a+").charAt(0)",S.B];case "RANDOM":return[R(S,"textRandomLetter","\nfunction "+S.ua+"(text) {\n  var x = Math.floor(Math.random() * text.length);\n  return text[x];\n}\n")+"("+c+")",S.B]}throw Error("Unhandled option (text_charAt).");
};
S.text_getSubstring=function(a){var b=I(a,"WHERE1"),c=I(a,"WHERE2"),d="FROM_END"!==b&&"LAST"!==b&&"FROM_END"!==c&&"LAST"!==c,e=Q(S,a,"STRING",d?S.H:S.s)||"''";if("FIRST"===b&&"LAST"===c)return[e,S.s];if(e.match(/^'?\w+'?$/)||d){switch(b){case "FROM_START":b=S.Ab(a,"AT1");break;case "FROM_END":b=S.Ab(a,"AT1",1,!1,S.bf);b=e+".length - "+b;break;case "FIRST":b="0";break;default:throw Error("Unhandled option (text_getSubstring).");}switch(c){case "FROM_START":c=S.Ab(a,"AT2",1);break;case "FROM_END":c=S.Ab(a,
"AT2",0,!1,S.bf);c=e+".length - "+c;break;case "LAST":c=e+".length";break;default:throw Error("Unhandled option (text_getSubstring).");}e=e+".slice("+b+", "+c+")"}else{d=S.Ab(a,"AT1");a=S.Ab(a,"AT2");var f={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};e=R(S,"subsequence"+f[b]+f[c],"\nfunction "+S.ua+"(sequence"+("FROM_END"===b||"FROM_START"===b?", at1":"")+("FROM_END"===c||"FROM_START"===c?", at2":"")+") {\n  var start = "+lo(b,"at1")+";\n  var end = "+lo(c,"at2")+" + 1;\n  return sequence.slice(start, end);\n}\n")+
"("+e+("FROM_END"===b||"FROM_START"===b?", "+d:"")+("FROM_END"===c||"FROM_START"===c?", "+a:"")+")"}return[e,S.B]};S.text_changeCase=function(a){var b={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[I(a,"CASE")];a=Q(S,a,"TEXT",b?S.H:S.s)||"''";return[b?a+b:R(S,"textToTitleCase","\nfunction "+S.ua+"(str) {\n  return str.replace(/\\S+/g,\n      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});\n}\n")+"("+a+")",S.B]};
S.text_trim=function(a){var b={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[I(a,"MODE")];return[(Q(S,a,"TEXT",S.H)||"''")+b,S.B]};S.text_print=function(a){return"alert("+(Q(S,a,"TEXT",S.s)||"''")+");\n"};S.text_prompt_ext=function(a){var b="prompt("+(Id(a,"TEXT")?S.Lc(I(a,"TEXT")):Q(S,a,"TEXT",S.s)||"''")+")";"NUMBER"===I(a,"TYPE")&&(b="Number("+b+")");return[b,S.B]};
S.text_count=function(a){var b=Q(S,a,"TEXT",S.s)||"''";a=Q(S,a,"SUB",S.s)||"''";return[R(S,"textCount","\nfunction "+S.ua+"(haystack, needle) {\n  if (needle.length === 0) {\n    return haystack.length + 1;\n  } else {\n    return haystack.split(needle).length - 1;\n  }\n}\n")+"("+b+", "+a+")",S.B]};
S.text_replace=function(a){var b=Q(S,a,"TEXT",S.s)||"''",c=Q(S,a,"FROM",S.s)||"''";a=Q(S,a,"TO",S.s)||"''";return[R(S,"textReplace","\nfunction "+S.ua+"(haystack, needle, replacement) {\n  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')\n                 .replace(/\\x08/g, '\\\\x08');\n  return haystack.replace(new RegExp(needle, 'g'), replacement);\n}\n")+"("+b+", "+c+", "+a+")",S.B]};
S.text_reverse=function(a){return[(Q(S,a,"TEXT",S.H)||"''")+".split('').reverse().join('')",S.B]};S.fu={};S.controls_if=function(a){var b=0,c="";S.bb&&(c+=O(S.bb,a));do{var d=Q(S,a,"IF"+b,S.s)||"false";var e=ui(S,a,"DO"+b);S.Ba&&(e=si(O(S.Ba,a),S.Qa)+e);c+=(0<b?" else ":"")+"if ("+d+") {\n"+e+"}";++b}while(H(a,"IF"+b));if(H(a,"ELSE")||S.Ba)e=ui(S,a,"ELSE"),S.Ba&&(e=si(O(S.Ba,a),S.Qa)+e),c+=" else {\n"+e+"}";return c+"\n"};
S.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[I(a,"OP")],c="=="==b||"!="==b?S.Dp:S.ci,d=Q(S,a,"A",c)||"0";a=Q(S,a,"B",c)||"0";return[d+" "+b+" "+a,c]};S.logic_operation=function(a){var b="AND"==I(a,"OP")?"&&":"||",c="&&"==b?S.Vf:S.Wf,d=Q(S,a,"A",c);a=Q(S,a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};S.logic_negate=function(a){var b=S.lc;return["!"+(Q(S,a,"BOOL",b)||"true"),b]};
S.logic_boolean=function(a){return["TRUE"==I(a,"BOOL")?"true":"false",S.Ra]};S.logic_ternary=function(a){var b=Q(S,a,"IF",S.ie)||"false",c=Q(S,a,"THEN",S.ie)||"null";a=Q(S,a,"ELSE",S.ie)||"null";return[b+" ? "+c+" : "+a,S.ie]};S.gu={};S.controls_repeat_ext=function(a){var b=Id(a,"TIMES")?String(Number(I(a,"TIMES"))):Q(S,a,"TIMES",S.Uf)||"0",c=ui(S,a,"DO");c=vi(S,c,a);a="";var d=xi(S.P,"count","VARIABLE"),e=b;b.match(/^\w+$/)||Di(b)||(e=xi(S.P,"repeat_end","VARIABLE"),a+="var "+e+" = "+b+";\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};S.controls_repeat=S.controls_repeat_ext;
S.controls_whileUntil=function(a){var b="UNTIL"==I(a,"MODE"),c=Q(S,a,"BOOL",b?S.lc:S.s)||"false",d=ui(S,a,"DO");d=vi(S,d,a);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
S.controls_for=function(a){var b=S.P.za(I(a,"VAR"),"VARIABLE"),c=Q(S,a,"FROM",S.Uf)||"0",d=Q(S,a,"TO",S.Uf)||"0",e=Q(S,a,"BY",S.Uf)||"1",f=ui(S,a,"DO");f=vi(S,f,a);if(Di(c)&&Di(d)&&Di(e)){var l=Number(c)<=Number(d);a="for ("+b+" = "+c+"; "+b+(l?" <= ":" >= ")+d+"; "+b;b=Math.abs(Number(e));a=(1==b?a+(l?"++":"--"):a+((l?" += ":" -= ")+b))+(") {\n"+f+"}\n")}else a="",l=c,c.match(/^\w+$/)||Di(c)||(l=xi(S.P,b+"_start","VARIABLE"),a+="var "+l+" = "+c+";\n"),c=d,d.match(/^\w+$/)||Di(d)||(c=xi(S.P,b+"_end",
"VARIABLE"),a+="var "+c+" = "+d+";\n"),d=xi(S.P,b+"_inc","VARIABLE"),a+="var "+d+" = ",a=Di(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a=a+("if ("+l+" > "+c+") {\n")+(S.Qa+d+" = -"+d+";\n"),a+="}\n",a+="for ("+b+" = "+l+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+f+"}\n";return a};
S.controls_forEach=function(a){var b=S.P.za(I(a,"VAR"),"VARIABLE"),c=Q(S,a,"LIST",S.Uf)||"[]",d=ui(S,a,"DO");d=vi(S,d,a);a="";var e=c;c.match(/^\w+$/)||(e=xi(S.P,b+"_list","VARIABLE"),a+="var "+e+" = "+c+";\n");c=xi(S.P,b+"_index","VARIABLE");d=S.Qa+b+" = "+e+"["+c+"];\n"+d;return a+("for (var "+c+" in "+e+") {\n"+d+"}\n")};
S.controls_flow_statements=function(a){var b="";S.bb&&(b+=O(S.bb,a));S.Ba&&(b+=O(S.Ba,a));if(S.bb){var c=ao.qn(a);c&&!c.Se&&(b+=O(S.bb,c))}switch(I(a,"FLOW")){case "BREAK":return b+"break;\n";case "CONTINUE":return b+"continue;\n"}throw Error("Unknown flow statement.");};S.iu={};S.math_number=function(a){a=Number(I(a,"NUM"));return[a,0<=a?S.Ra:S.di]};S.math_arithmetic=function(a){var b={ADD:[" + ",S.Ed],MINUS:[" - ",S.bf],MULTIPLY:[" * ",S.fm],DIVIDE:[" / ",S.$h],POWER:[null,S.s]}[I(a,"OP")],c=b[0];b=b[1];var d=Q(S,a,"A",b)||"0";a=Q(S,a,"B",b)||"0";return c?[d+c+a,b]:["Math.pow("+d+", "+a+")",S.B]};
S.math_single=function(a){var b=I(a,"OP");if("NEG"==b)return a=Q(S,a,"NUM",S.di)||"0","-"==a[0]&&(a=" "+a),["-"+a,S.di];a="SIN"==b||"COS"==b||"TAN"==b?Q(S,a,"NUM",S.$h)||"0":Q(S,a,"NUM",S.s)||"0";switch(b){case "ABS":var c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c=
"Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,S.B];switch(b){case "LOG10":c="Math.log("+a+") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,S.$h]};
S.math_constant=function(a){return{PI:["Math.PI",S.H],E:["Math.E",S.H],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",S.$h],SQRT2:["Math.SQRT2",S.H],SQRT1_2:["Math.SQRT1_2",S.H],INFINITY:["Infinity",S.Ra]}[I(a,"CONSTANT")]};
S.math_number_property=function(a){var b=Q(S,a,"NUMBER_TO_CHECK",S.ai)||"0",c=I(a,"PROPERTY");if("PRIME"==c){var d=R(S,"mathIsPrime",["function "+S.ua+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[d,S.B]}switch(c){case "EVEN":d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=Q(S,a,"DIVISOR",S.ai)||"0",d=b+" % "+a+" == 0"}return[d,S.Dp]};
S.math_change=function(a){var b=Q(S,a,"DELTA",S.Ed)||"0";a=S.P.za(I(a,"VAR"),"VARIABLE");return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};S.math_round=S.math_single;S.math_trig=S.math_single;S.math_modulo=function(a){var b=Q(S,a,"DIVIDEND",S.ai)||"0";a=Q(S,a,"DIVISOR",S.ai)||"0";return[b+" % "+a,S.ai]};S.math_constrain=function(a){var b=Q(S,a,"VALUE",S.s)||"0",c=Q(S,a,"LOW",S.s)||"0";a=Q(S,a,"HIGH",S.s)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",S.B]};
S.math_random_int=function(a){var b=Q(S,a,"FROM",S.s)||"0";a=Q(S,a,"TO",S.s)||"0";return[R(S,"mathRandomInt",["function "+S.ua+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",S.B]};S.math_random_float=function(){return["Math.random()",S.B]};
S.math_atan2=function(a){var b=Q(S,a,"X",S.s)||"0";return["Math.atan2("+(Q(S,a,"Y",S.s)||"0")+", "+b+") / Math.PI * 180",S.$h]};S.Gr={};S.procedures_defreturn=function(a){var b=S.P.za(I(a,"NAME"),"PROCEDURE"),c="";S.bb&&(c+=O(S.bb,a));S.Ba&&(c+=O(S.Ba,a));c&&(c=si(c,S.Qa));var d="";S.Sg&&(d=si(O(S.Sg,a),S.Qa));var e=ui(S,a,"STACK"),f=Q(S,a,"RETURN",S.s)||"",l="";e&&f&&(l=c);f&&(f=S.Qa+"return "+f+";\n");for(var m=[],n=a.$c(),q=0;q<n.length;q++)m[q]=S.P.za(n[q],"VARIABLE");c="function "+b+"("+m.join(", ")+") {\n"+c+d+e+l+f+"}";c=S.Hh(a,c);S.Ca["%"+b]=c;return null};S.procedures_defnoreturn=S.procedures_defreturn;
S.procedures_callreturn=function(a){for(var b=S.P.za(I(a,"NAME"),"PROCEDURE"),c=[],d=a.$c(),e=0;e<d.length;e++)c[e]=Q(S,a,"ARG"+e,S.s)||"null";return[b+"("+c.join(", ")+")",S.B]};S.procedures_callnoreturn=function(a){return S.procedures_callreturn(a)[0]+";\n"};S.procedures_ifreturn=function(a){var b="if ("+(Q(S,a,"CONDITION",S.s)||"false")+") {\n";S.Ba&&(b+=si(O(S.Ba,a),S.Qa));a.ze?(a=Q(S,a,"VALUE",S.s)||"null",b+=S.Qa+"return "+a+";\n"):b+=S.Qa+"return;\n";return b+"}\n"};S.ev={};S.variables_get=function(a){return[S.P.za(I(a,"VAR"),"VARIABLE"),S.Ra]};S.variables_set=function(a){var b=Q(S,a,"VALUE",S.Uf)||"0";return S.P.za(I(a,"VAR"),"VARIABLE")+" = "+b+";\n"};T.oi={};T.colour_picker=function(a){return[T.Lc(I(a,"COLOUR")),T.Ra]};T.colour_random=function(){T.Ca.import_random="import random";return["'#%06x' % random.randint(0, 2**24 - 1)",T.B]};
T.colour_rgb=function(a){var b=R(T,"colour_rgb",["def "+T.ua+"(r, g, b):","  r = round(min(100, max(0, r)) * 2.55)","  g = round(min(100, max(0, g)) * 2.55)","  b = round(min(100, max(0, b)) * 2.55)","  return '#%02x%02x%02x' % (r, g, b)"]),c=Q(T,a,"RED",T.s)||0,d=Q(T,a,"GREEN",T.s)||0;a=Q(T,a,"BLUE",T.s)||0;return[b+"("+c+", "+d+", "+a+")",T.B]};
T.colour_blend=function(a){var b=R(T,"colour_blend",["def "+T.ua+"(colour1, colour2, ratio):","  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)","  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)","  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)","  ratio = min(1, max(0, ratio))","  r = round(r1 * (1 - ratio) + r2 * ratio)","  g = round(g1 * (1 - ratio) + g2 * ratio)","  b = round(b1 * (1 - ratio) + b2 * ratio)","  return '#%02x%02x%02x' % (r, g, b)"]),c=Q(T,a,"COLOUR1",T.s)||
"'#000000'",d=Q(T,a,"COLOUR2",T.s)||"'#000000'";a=Q(T,a,"RATIO",T.s)||0;return[b+"("+c+", "+d+", "+a+")",T.B]};T.On={};T.lists_create_empty=function(){return["[]",T.Ra]};T.lists_create_with=function(a){for(var b=Array(a.oa),c=0;c<a.oa;c++)b[c]=Q(T,a,"ADD"+c,T.s)||"None";return["["+b.join(", ")+"]",T.Ra]};T.lists_repeat=function(a){var b=Q(T,a,"ITEM",T.s)||"None";a=Q(T,a,"NUM",T.zc)||"0";return["["+b+"] * "+a,T.zc]};T.lists_length=function(a){return["len("+(Q(T,a,"VALUE",T.s)||"[]")+")",T.B]};T.lists_isEmpty=function(a){return["not len("+(Q(T,a,"VALUE",T.s)||"[]")+")",T.lc]};
T.lists_indexOf=function(a){var b=Q(T,a,"FIND",T.s)||"[]",c=Q(T,a,"VALUE",T.s)||"''";if(a.h.options.Ub)var d=" 0",e=" + 1",f="";else d=" -1",e="",f=" - 1";if("FIRST"==I(a,"END"))return a=R(T,"first_index",["def "+T.ua+"(my_list, elem):","  try: index = my_list.index(elem)"+e,"  except: index ="+d,"  return index"]),[a+"("+c+", "+b+")",T.B];a=R(T,"last_index",["def "+T.ua+"(my_list, elem):","  try: index = len(my_list) - my_list[::-1].index(elem)"+f,"  except: index ="+d,"  return index"]);return[a+
"("+c+", "+b+")",T.B]};
T.lists_getIndex=function(a){var b=I(a,"MODE")||"GET",c=I(a,"WHERE")||"FROM_START",d=Q(T,a,"VALUE","RANDOM"==c?T.s:T.H)||"[]";switch(c){case "FIRST":if("GET"==b)return[d+"[0]",T.H];if("GET_REMOVE"==b)return[d+".pop(0)",T.B];if("REMOVE"==b)return d+".pop(0)\n";break;case "LAST":if("GET"==b)return[d+"[-1]",T.H];if("GET_REMOVE"==b)return[d+".pop()",T.B];if("REMOVE"==b)return d+".pop()\n";break;case "FROM_START":a=T.pc(a,"AT");if("GET"==b)return[d+"["+a+"]",T.H];if("GET_REMOVE"==b)return[d+".pop("+a+
")",T.B];if("REMOVE"==b)return d+".pop("+a+")\n";break;case "FROM_END":a=T.pc(a,"AT",1,!0);if("GET"==b)return[d+"["+a+"]",T.H];if("GET_REMOVE"==b)return[d+".pop("+a+")",T.B];if("REMOVE"==b)return d+".pop("+a+")\n";break;case "RANDOM":T.Ca.import_random="import random";if("GET"==b)return["random.choice("+d+")",T.B];d=R(T,"lists_remove_random_item",["def "+T.ua+"(myList):","  x = int(random.random() * len(myList))","  return myList.pop(x)"])+"("+d+")";if("GET_REMOVE"==b)return[d,T.B];if("REMOVE"==b)return d+
"\n"}throw Error("Unhandled combination (lists_getIndex).");};
T.lists_setIndex=function(a){var b=Q(T,a,"LIST",T.H)||"[]",c=I(a,"MODE")||"GET",d=I(a,"WHERE")||"FROM_START",e=Q(T,a,"TO",T.s)||"None";switch(d){case "FIRST":if("SET"==c)return b+"[0] = "+e+"\n";if("INSERT"==c)return b+".insert(0, "+e+")\n";break;case "LAST":if("SET"==c)return b+"[-1] = "+e+"\n";if("INSERT"==c)return b+".append("+e+")\n";break;case "FROM_START":a=T.pc(a,"AT");if("SET"==c)return b+"["+a+"] = "+e+"\n";if("INSERT"==c)return b+".insert("+a+", "+e+")\n";break;case "FROM_END":a=T.pc(a,
"AT",1,!0);if("SET"==c)return b+"["+a+"] = "+e+"\n";if("INSERT"==c)return b+".insert("+a+", "+e+")\n";break;case "RANDOM":T.Ca.import_random="import random";b.match(/^\w+$/)?a="":(a=xi(T.P,"tmp_list","VARIABLE"),d=a+" = "+b+"\n",b=a,a=d);d=xi(T.P,"tmp_x","VARIABLE");a+=d+" = int(random.random() * len("+b+"))\n";if("SET"==c)return a+(b+"["+d+"] = "+e+"\n");if("INSERT"==c)return a+(b+".insert("+d+", "+e+")\n")}throw Error("Unhandled combination (lists_setIndex).");};
T.lists_getSublist=function(a){var b=Q(T,a,"LIST",T.H)||"[]",c=I(a,"WHERE1"),d=I(a,"WHERE2");switch(c){case "FROM_START":c=T.pc(a,"AT1");"0"==c&&(c="");break;case "FROM_END":c=T.pc(a,"AT1",1,!0);break;case "FIRST":c="";break;default:throw Error("Unhandled option (lists_getSublist)");}switch(d){case "FROM_START":a=T.pc(a,"AT2",1);break;case "FROM_END":a=T.pc(a,"AT2",0,!0);Di(String(a))?"0"==a&&(a=""):(T.Ca.import_sys="import sys",a+=" or sys.maxsize");break;case "LAST":a="";break;default:throw Error("Unhandled option (lists_getSublist)");
}return[b+"["+c+" : "+a+"]",T.H]};
T.lists_sort=function(a){var b=Q(T,a,"LIST",T.s)||"[]",c=I(a,"TYPE");a="1"===I(a,"DIRECTION")?"False":"True";return[R(T,"lists_sort",["def "+T.ua+"(my_list, type, reverse):","  def try_float(s):","    try:","      return float(s)","    except:","      return 0","  key_funcs = {",'    "NUMERIC": try_float,','    "TEXT": str,','    "IGNORE_CASE": lambda s: str(s).lower()',"  }","  key_func = key_funcs[type]","  list_cpy = list(my_list)","  return sorted(list_cpy, key=key_func, reverse=reverse)"])+"("+
b+', "'+c+'", '+a+")",T.B]};T.lists_split=function(a){var b=I(a,"MODE");if("SPLIT"==b)b=Q(T,a,"INPUT",T.H)||"''",a=Q(T,a,"DELIM",T.s),a=b+".split("+a+")";else if("JOIN"==b)b=Q(T,a,"INPUT",T.s)||"[]",a=Q(T,a,"DELIM",T.H)||"''",a=a+".join("+b+")";else throw Error("Unknown mode: "+b);return[a,T.B]};T.lists_reverse=function(a){return["list(reversed("+(Q(T,a,"LIST",T.s)||"[]")+"))",T.B]};T.Wu={};T.text=function(a){return[T.Lc(I(a,"TEXT")),T.Ra]};T.text_multiline=function(a){a=T.bo(I(a,"TEXT"));return[a,-1!=a.indexOf("+")?T.Tf:T.Ra]};T.text.kh=function(a){return T.text.kh.Uu.test(a)?[a,T.Ra]:["str("+a+")",T.B]};T.text.kh.Uu=/^\s*'([^']|\\')*'\s*$/;
T.text_join=function(a){switch(a.oa){case 0:return["''",T.Ra];case 1:return a=Q(T,a,"ADD0",T.s)||"''",T.text.kh(a);case 2:var b=Q(T,a,"ADD0",T.s)||"''";a=Q(T,a,"ADD1",T.s)||"''";a=T.text.kh(b)[0]+" + "+T.text.kh(a)[0];return[a,T.Tf];default:b=[];for(var c=0;c<a.oa;c++)b[c]=Q(T,a,"ADD"+c,T.s)||"''";a=xi(T.P,"x","VARIABLE");a="''.join([str("+a+") for "+a+" in ["+b.join(", ")+"]])";return[a,T.B]}};
T.text_append=function(a){var b=T.P.za(I(a,"VAR"),"VARIABLE");a=Q(T,a,"TEXT",T.s)||"''";return b+" = str("+b+") + "+T.text.kh(a)[0]+"\n"};T.text_length=function(a){return["len("+(Q(T,a,"VALUE",T.s)||"''")+")",T.B]};T.text_isEmpty=function(a){return["not len("+(Q(T,a,"VALUE",T.s)||"''")+")",T.lc]};T.text_indexOf=function(a){var b="FIRST"==I(a,"END")?"find":"rfind",c=Q(T,a,"FIND",T.s)||"''";b=(Q(T,a,"VALUE",T.H)||"''")+"."+b+"("+c+")";return a.h.options.Ub?[b+" + 1",T.Tf]:[b,T.B]};
T.text_charAt=function(a){var b=I(a,"WHERE")||"FROM_START",c=Q(T,a,"VALUE","RANDOM"==b?T.s:T.H)||"''";switch(b){case "FIRST":return[c+"[0]",T.H];case "LAST":return[c+"[-1]",T.H];case "FROM_START":return a=T.pc(a,"AT"),[c+"["+a+"]",T.H];case "FROM_END":return a=T.pc(a,"AT",1,!0),[c+"["+a+"]",T.H];case "RANDOM":return T.Ca.import_random="import random",c=R(T,"text_random_letter",["def "+T.ua+"(text):","  x = int(random.random() * len(text))","  return text[x];"])+"("+c+")",[c,T.B]}throw Error("Unhandled option (text_charAt).");
};
T.text_getSubstring=function(a){var b=I(a,"WHERE1"),c=I(a,"WHERE2"),d=Q(T,a,"STRING",T.H)||"''";switch(b){case "FROM_START":b=T.pc(a,"AT1");"0"==b&&(b="");break;case "FROM_END":b=T.pc(a,"AT1",1,!0);break;case "FIRST":b="";break;default:throw Error("Unhandled option (text_getSubstring)");}switch(c){case "FROM_START":a=T.pc(a,"AT2",1);break;case "FROM_END":a=T.pc(a,"AT2",0,!0);Di(String(a))?"0"==a&&(a=""):(T.Ca.import_sys="import sys",a+=" or sys.maxsize");break;case "LAST":a="";break;default:throw Error("Unhandled option (text_getSubstring)");}return[d+
"["+b+" : "+a+"]",T.H]};T.text_changeCase=function(a){var b={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[I(a,"CASE")];return[(Q(T,a,"TEXT",T.H)||"''")+b,T.B]};T.text_trim=function(a){var b={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[I(a,"MODE")];return[(Q(T,a,"TEXT",T.H)||"''")+b,T.B]};T.text_print=function(a){return"print("+(Q(T,a,"TEXT",T.s)||"''")+")\n"};
T.text_prompt_ext=function(a){var b=R(T,"text_prompt",["def "+T.ua+"(msg):","  try:","    return raw_input(msg)","  except NameError:","    return input(msg)"]),c=Id(a,"TEXT")?T.Lc(I(a,"TEXT")):Q(T,a,"TEXT",T.s)||"''";b=b+"("+c+")";"NUMBER"==I(a,"TYPE")&&(b="float("+b+")");return[b,T.B]};T.text_prompt=T.text_prompt_ext;T.text_count=function(a){var b=Q(T,a,"TEXT",T.H)||"''";a=Q(T,a,"SUB",T.s)||"''";return[b+".count("+a+")",T.B]};
T.text_replace=function(a){var b=Q(T,a,"TEXT",T.H)||"''",c=Q(T,a,"FROM",T.s)||"''";a=Q(T,a,"TO",T.s)||"''";return[b+".replace("+c+", "+a+")",T.H]};T.text_reverse=function(a){return[(Q(T,a,"TEXT",T.H)||"''")+"[::-1]",T.H]};T.fu={};T.controls_if=function(a){var b=0,c="";T.bb&&(c+=O(T.bb,a));do{var d=Q(T,a,"IF"+b,T.s)||"False";var e=ui(T,a,"DO"+b)||T.Xf;T.Ba&&(e=si(O(T.Ba,a),T.Qa)+e);c+=(0==b?"if ":"elif ")+d+":\n"+e;++b}while(H(a,"IF"+b));if(H(a,"ELSE")||T.Ba)e=ui(T,a,"ELSE")||T.Xf,T.Ba&&(e=si(O(T.Ba,a),T.Qa)+e),c+="else:\n"+e;return c};T.controls_ifelse=T.controls_if;
T.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[I(a,"OP")],c=T.ci,d=Q(T,a,"A",c)||"0";a=Q(T,a,"B",c)||"0";return[d+" "+b+" "+a,c]};T.logic_operation=function(a){var b="AND"==I(a,"OP")?"and":"or",c="and"==b?T.Vf:T.Wf,d=Q(T,a,"A",c);a=Q(T,a,"B",c);if(d||a){var e="and"==b?"True":"False";d||(d=e);a||(a=e)}else a=d="False";return[d+" "+b+" "+a,c]};T.logic_negate=function(a){return["not "+(Q(T,a,"BOOL",T.lc)||"True"),T.lc]};
T.logic_boolean=function(a){return["TRUE"==I(a,"BOOL")?"True":"False",T.Ra]};T.logic_null=function(){return["None",T.Ra]};T.logic_ternary=function(a){var b=Q(T,a,"IF",T.ie)||"False",c=Q(T,a,"THEN",T.ie)||"None";a=Q(T,a,"ELSE",T.ie)||"None";return[c+" if "+b+" else "+a,T.ie]};T.gu={};T.controls_repeat_ext=function(a){var b=Id(a,"TIMES")?String(parseInt(I(a,"TIMES"),10)):Q(T,a,"TIMES",T.s)||"0";b=Di(b)?parseInt(b,10):"int("+b+")";var c=ui(T,a,"DO");c=vi(T,c,a)||T.Xf;return"for "+xi(T.P,"count","VARIABLE")+" in range("+b+"):\n"+c};T.controls_repeat=T.controls_repeat_ext;T.controls_whileUntil=function(a){var b="UNTIL"==I(a,"MODE"),c=Q(T,a,"BOOL",b?T.lc:T.s)||"False",d=ui(T,a,"DO");d=vi(T,d,a)||T.Xf;b&&(c="not "+c);return"while "+c+":\n"+d};
T.controls_for=function(a){function b(t,w,z){return"("+t+" <= "+w+") and "+d()+"("+t+", "+w+", "+z+") or "+c()+"("+t+", "+w+", "+z+")"}function c(){return R(T,"downRange",["def "+T.ua+"(start, stop, step):","  while start >= stop:","    yield start","    start -= abs(step)"])}function d(){return R(T,"upRange",["def "+T.ua+"(start, stop, step):","  while start <= stop:","    yield start","    start += abs(step)"])}var e=T.P.za(I(a,"VAR"),"VARIABLE"),f=Q(T,a,"FROM",T.s)||"0",l=Q(T,a,"TO",T.s)||"0",
m=Q(T,a,"BY",T.s)||"1",n=ui(T,a,"DO");n=vi(T,n,a)||T.Xf;var q="";Di(f)&&Di(l)&&Di(m)?(f=Number(f),l=Number(l),m=Math.abs(Number(m)),0===f%1&&0===l%1&&0===m%1?(f<=l?(l++,a=0==f&&1==m?l:f+", "+l,1!=m&&(a+=", "+m)):(l--,a=f+", "+l+", -"+m),a="range("+a+")"):(a=f<l?d():c(),a+="("+f+", "+l+", "+m+")")):(a=function(t,w){Di(t)?t=Number(t):t.match(/^\w+$/)?t="float("+t+")":(w=xi(T.P,e+w,"VARIABLE"),q+=w+" = float("+t+")\n",t=w);return t},f=a(f,"_start"),l=a(l,"_end"),m=a(m,"_inc"),"number"==typeof f&&"number"==
typeof l?(a=f<l?d():c(),a+="("+f+", "+l+", "+m+")"):a=b(f,l,m));return q+="for "+e+" in "+a+":\n"+n};T.controls_forEach=function(a){var b=T.P.za(I(a,"VAR"),"VARIABLE"),c=Q(T,a,"LIST",T.ci)||"[]",d=ui(T,a,"DO");d=vi(T,d,a)||T.Xf;return"for "+b+" in "+c+":\n"+d};
T.controls_flow_statements=function(a){var b="";T.bb&&(b+=O(T.bb,a));T.Ba&&(b+=O(T.Ba,a));if(T.bb){var c=ao.qn(a);c&&!c.Se&&(b+=O(T.bb,c))}switch(I(a,"FLOW")){case "BREAK":return b+"break\n";case "CONTINUE":return b+"continue\n"}throw Error("Unknown flow statement.");};T.iu={};wi(T,"math,random,Number");T.math_number=function(a){a=Number(I(a,"NUM"));if(Infinity==a){a='float("inf")';var b=T.B}else-Infinity==a?(a='-float("inf")',b=T.dk):b=0>a?T.dk:T.Ra;return[a,b]};T.math_arithmetic=function(a){var b={ADD:[" + ",T.Tf],MINUS:[" - ",T.Tf],MULTIPLY:[" * ",T.zc],DIVIDE:[" / ",T.zc],POWER:[" ** ",T.Ep]}[I(a,"OP")],c=b[0];b=b[1];var d=Q(T,a,"A",b)||"0";a=Q(T,a,"B",b)||"0";return[d+c+a,b]};
T.math_single=function(a){var b=I(a,"OP");if("NEG"==b){var c=Q(T,a,"NUM",T.dk)||"0";return["-"+c,T.dk]}T.Ca.import_math="import math";a="SIN"==b||"COS"==b||"TAN"==b?Q(T,a,"NUM",T.zc)||"0":Q(T,a,"NUM",T.s)||"0";switch(b){case "ABS":c="math.fabs("+a+")";break;case "ROOT":c="math.sqrt("+a+")";break;case "LN":c="math.log("+a+")";break;case "LOG10":c="math.log10("+a+")";break;case "EXP":c="math.exp("+a+")";break;case "POW10":c="math.pow(10,"+a+")";break;case "ROUND":c="round("+a+")";break;case "ROUNDUP":c=
"math.ceil("+a+")";break;case "ROUNDDOWN":c="math.floor("+a+")";break;case "SIN":c="math.sin("+a+" / 180.0 * math.pi)";break;case "COS":c="math.cos("+a+" / 180.0 * math.pi)";break;case "TAN":c="math.tan("+a+" / 180.0 * math.pi)"}if(c)return[c,T.B];switch(b){case "ASIN":c="math.asin("+a+") / math.pi * 180";break;case "ACOS":c="math.acos("+a+") / math.pi * 180";break;case "ATAN":c="math.atan("+a+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,T.zc]};
T.math_constant=function(a){var b={PI:["math.pi",T.H],E:["math.e",T.H],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",T.zc],SQRT2:["math.sqrt(2)",T.H],SQRT1_2:["math.sqrt(1.0 / 2)",T.H],INFINITY:["float('inf')",T.Ra]};a=I(a,"CONSTANT");"INFINITY"!=a&&(T.Ca.import_math="import math");return b[a]};
T.math_number_property=function(a){var b=Q(T,a,"NUMBER_TO_CHECK",T.zc)||"0",c=I(a,"PROPERTY");if("PRIME"==c){T.Ca.import_math="import math";T.Ca.from_numbers_import_Number="from numbers import Number";var d=R(T,"math_isPrime",["def "+T.ua+"(n):","  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  # If n is not a number but a string, try parsing it.","  if not isinstance(n, Number):","    try:","      n = float(n)","    except:","      return False","  if n == 2 or n == 3:","    return True",
"  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.","  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:","    return False","  # Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for x in range(6, int(math.sqrt(n)) + 2, 6):","    if n % (x - 1) == 0 or n % (x + 1) == 0:","      return False","  return True"])+"("+b+")";return[d,T.B]}switch(c){case "EVEN":d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=
b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=Q(T,a,"DIVISOR",T.zc);if(!a||"0"==a)return["False",T.Ra];d=b+" % "+a+" == 0"}return[d,T.ci]};T.math_change=function(a){T.Ca.from_numbers_import_Number="from numbers import Number";var b=Q(T,a,"DELTA",T.Tf)||"0";a=T.P.za(I(a,"VAR"),"VARIABLE");return a+" = ("+a+" if isinstance("+a+", Number) else 0) + "+b+"\n"};T.math_round=T.math_single;T.math_trig=T.math_single;
T.math_on_list=function(a){var b=I(a,"OP");a=Q(T,a,"LIST",T.s)||"[]";switch(b){case "SUM":b="sum("+a+")";break;case "MIN":b="min("+a+")";break;case "MAX":b="max("+a+")";break;case "AVERAGE":T.Ca.from_numbers_import_Number="from numbers import Number";b=R(T,"math_mean",["def "+T.ua+"(myList):","  localList = [e for e in myList if isinstance(e, Number)]","  if not localList: return","  return float(sum(localList)) / len(localList)"]);b=b+"("+a+")";break;case "MEDIAN":T.Ca.from_numbers_import_Number=
"from numbers import Number";b=R(T,"math_median",["def "+T.ua+"(myList):","  localList = sorted([e for e in myList if isinstance(e, Number)])","  if not localList: return","  if len(localList) % 2 == 0:","    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0","  else:","    return localList[(len(localList) - 1) // 2]"]);b=b+"("+a+")";break;case "MODE":b=R(T,"math_modes",["def "+T.ua+"(some_list):","  modes = []","  # Using a lists of [item, count] to keep count rather than dict",
'  # to avoid "unhashable" errors when the counted item is itself a list or dict.',"  counts = []","  maxCount = 1","  for item in some_list:","    found = False","    for count in counts:","      if count[0] == item:","        count[1] += 1","        maxCount = max(maxCount, count[1])","        found = True","    if not found:","      counts.append([item, 1])","  for counted_item, item_count in counts:","    if item_count == maxCount:","      modes.append(counted_item)","  return modes"]);b=b+"("+
a+")";break;case "STD_DEV":T.Ca.import_math="import math";b=R(T,"math_standard_deviation",["def "+T.ua+"(numbers):","  n = len(numbers)","  if n == 0: return","  mean = float(sum(numbers)) / n","  variance = sum((x - mean) ** 2 for x in numbers) / n","  return math.sqrt(variance)"]);b=b+"("+a+")";break;case "RANDOM":T.Ca.import_random="import random";b="random.choice("+a+")";break;default:throw Error("Unknown operator: "+b);}return[b,T.B]};
T.math_modulo=function(a){var b=Q(T,a,"DIVIDEND",T.zc)||"0";a=Q(T,a,"DIVISOR",T.zc)||"0";return[b+" % "+a,T.zc]};T.math_constrain=function(a){var b=Q(T,a,"VALUE",T.s)||"0",c=Q(T,a,"LOW",T.s)||"0";a=Q(T,a,"HIGH",T.s)||"float('inf')";return["min(max("+b+", "+c+"), "+a+")",T.B]};T.math_random_int=function(a){T.Ca.import_random="import random";var b=Q(T,a,"FROM",T.s)||"0";a=Q(T,a,"TO",T.s)||"0";return["random.randint("+b+", "+a+")",T.B]};
T.math_random_float=function(){T.Ca.import_random="import random";return["random.random()",T.B]};T.math_atan2=function(a){T.Ca.import_math="import math";var b=Q(T,a,"X",T.s)||"0";return["math.atan2("+(Q(T,a,"Y",T.s)||"0")+", "+b+") / math.pi * 180",T.zc]};T.Gr={};
T.procedures_defreturn=function(a){for(var b=[],c=a.h,d=qd(c)||[],e=0,f;f=d[e];e++)f=f.name,-1==a.$c().indexOf(f)&&b.push(T.P.za(f,"VARIABLE"));d=Bi(c);for(e=0;e<d.length;e++)b.push(T.P.za(d[e],Ci));b=b.length?T.Qa+"global "+b.join(", ")+"\n":"";c=T.P.za(I(a,"NAME"),"PROCEDURE");f="";T.bb&&(f+=O(T.bb,a));T.Ba&&(f+=O(T.Ba,a));f&&(f=si(f,T.Qa));var l="";T.Sg&&(l=si(O(T.Sg,a),T.Qa));var m=ui(T,a,"STACK"),n=Q(T,a,"RETURN",T.s)||"",q="";m&&n&&(q=f);n?n=T.Qa+"return "+n+"\n":m||(m=T.Xf);var t=[];d=a.$c();
for(e=0;e<d.length;e++)t[e]=T.P.za(d[e],"VARIABLE");b="def "+c+"("+t.join(", ")+"):\n"+b+f+l+m+q+n;b=T.Hh(a,b);T.Ca["%"+c]=b;return null};T.procedures_defnoreturn=T.procedures_defreturn;T.procedures_callreturn=function(a){for(var b=T.P.za(I(a,"NAME"),"PROCEDURE"),c=[],d=a.$c(),e=0;e<d.length;e++)c[e]=Q(T,a,"ARG"+e,T.s)||"None";return[b+"("+c.join(", ")+")",T.B]};T.procedures_callnoreturn=function(a){return T.procedures_callreturn(a)[0]+"\n"};
T.procedures_ifreturn=function(a){var b="if "+(Q(T,a,"CONDITION",T.s)||"False")+":\n";T.Ba&&(b+=si(O(T.Ba,a),T.Qa));a.ze?(a=Q(T,a,"VALUE",T.s)||"None",b+=T.Qa+"return "+a+"\n"):b+=T.Qa+"return\n";return b};T.ev={};T.variables_get=function(a){return[T.P.za(I(a,"VAR"),"VARIABLE"),T.Ra]};T.variables_set=function(a){var b=Q(T,a,"VALUE",T.s)||"0";return T.P.za(I(a,"VAR"),"VARIABLE")+" = "+b+"\n"};function mo(){var a=[[W("Turtle.moveForward",!1),"moveForward"],[W("Turtle.moveBackward",!1),"moveBackward"]],b=[[W("Turtle.turnRight",!1),"turnRight"],[W("Turtle.turnLeft",!1),"turnLeft"]];Mh("turtle_turn_arrows",function(){var c=Yh(Id(this,"DIR"));c[0][0]+=" \u21bb";c[1][0]+=" \u21ba"});rl([{type:"get_turtle_x",message0:"x",output:"Number",colour:160,tooltip:"Pega o valor de x da tartaruga"},{type:"get_turtle_y",message0:"y",output:"Number",colour:160,tooltip:"Pega o valor de y da tartaruga"},{type:"get_turtle_direction",
message0:"dire\u00e7\u00e3o",output:"Number",colour:160,tooltip:"Pega o valor do \u00e2ngulo de dire\u00e7\u00e3o da tartaruga"},{type:"turtle_move",message0:"%1%2",args0:[{type:"field_dropdown",name:"DIR",options:a},{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.moveTooltip",!1)},{type:"turtle_goto",message0:W("Turtle.goto",!1)+"    x %1 y %2",args0:[{type:"input_value",name:"VALUE_X",check:"Number",align:"RIGHT"},{type:"input_value",
name:"VALUE_Y",check:"Number",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.gotoTooltip",!1)},{type:"turtle_move_internal",message0:"%1%2",args0:[{type:"field_dropdown",name:"DIR",options:a},{type:"field_dropdown",name:"VALUE",options:[["20","20"],["50","50"],["100","100"],["150","150"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.moveTooltip",!1)},{type:"turtle_direction",message0:W("Turtle.direction",!1)+"%1",args0:[{type:"input_value",
name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.directionTooltip",!1)},{type:"turtle_turn",message0:"%1%2",args0:[{type:"field_dropdown",name:"DIR",options:b},{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.turnTooltip",!1),extensions:["turtle_turn_arrows"]},{type:"turtle_turn_internal",message0:"%1%2",args0:[{type:"field_dropdown",name:"DIR",options:b},{type:"field_dropdown",
name:"VALUE",options:[["1\u00b0","1"],["45\u00b0","45"],["72\u00b0","72"],["90\u00b0","90"],["120\u00b0","120"],["144\u00b0","144"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.turnTooltip",!1),extensions:["turtle_turn_arrows"]},{type:"turtle_width",message0:W("Turtle.setWidth",!1)+"%1",args0:[{type:"input_value",name:"WIDTH",check:"Number"}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.widthTooltip",!1)},{type:"turtle_pen",message0:"%1",args0:[{type:"field_dropdown",
name:"PEN",options:[[W("Turtle.penUp",!1),"penUp"],[W("Turtle.penDown",!1),"penDown"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.penTooltip",!1)},{type:"turtle_colour",message0:W("Turtle.setColour",!1)+"%1",args0:[{type:"input_value",name:"COLOUR",check:"Colour"}],previousStatement:null,nextStatement:null,colour:"%{BKY_COLOUR_HUE}",tooltip:W("Turtle.colourTooltip",!1)},{type:"turtle_colour_internal",message0:W("Turtle.setColour",!1)+"%1",args0:[{type:"field_colour",
name:"COLOUR",colour:"#ff0000"}],previousStatement:null,nextStatement:null,colour:"%{BKY_COLOUR_HUE}",tooltip:W("Turtle.colourTooltip",!1)},{type:"turtle_visibility",message0:"%1",args0:[{type:"field_dropdown",name:"VISIBILITY",options:[[W("Turtle.hideTurtle",!1),"hideTurtle"],[W("Turtle.showTurtle",!1),"showTurtle"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.turtleVisibilityTooltip",!1)},{type:"turtle_print",message0:W("Turtle.print",!1)+"%1",args0:[{type:"input_value",
name:"TEXT"}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.printTooltip",!1),helpUrl:W("Turtle.printHelpUrl",!1)},{type:"turtle_font",message0:W("Turtle.font",!1)+"%1%2"+W("Turtle.fontSize",!1)+"%3%4%5",args0:[{type:"field_dropdown",name:"FONT",options:[["Arial","Arial"],["Courier New","Courier New"],["Georgia","Georgia"],["Impact","Impact"],["Times New Roman","Times New Roman"],["Trebuchet MS","Trebuchet MS"],["Verdana","Verdana"]]},{type:"input_dummy"},{type:"field_number",
name:"FONTSIZE",value:18,min:1,max:1E3},{type:"input_dummy"},{type:"field_dropdown",name:"FONTSTYLE",options:[[W("Turtle.fontNormal",!1),"normal"],[W("Turtle.fontItalic",!1),"italic"],[W("Turtle.fontBold",!1),"bold"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:W("Turtle.fontTooltip",!1),helpUrl:W("Turtle.fontHelpUrl",!1)},{type:"turtle_repeat_internal",message0:"%{BKY_CONTROLS_REPEAT_TITLE}%2%{BKY_CONTROLS_REPEAT_INPUT_DO}%3",args0:[{type:"field_dropdown",name:"TIMES",options:[["3",
"3"],["4","4"],["5","5"],["360","360"]]},{type:"input_dummy"},{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"}])}S.get_turtle_x=function(a){return["getX('block_id_"+a.id+"')",S.B]};S.get_turtle_y=function(a){return["getY('block_id_"+a.id+"')",S.B]};S.get_turtle_direction=function(a){return["getDirection('block_id_"+a.id+"')",S.B]};
S.turtle_move=function(a){var b=Q(S,a,"VALUE",S.af)||"0";return I(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};S.turtle_goto=function(a){var b=Q(S,a,"VALUE_X",S.af)||"0",c=Q(S,a,"VALUE_Y",S.af)||"0";return"goto("+b+", "+c+",  'block_id_"+a.id+"');\n"};S.turtle_move_internal=function(a){var b=Number(I(a,"VALUE"));return I(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};S.turtle_direction=function(a){return"setDirection("+(Q(S,a,"VALUE",S.af)||"0")+", 'block_id_"+a.id+"');\n"};
S.turtle_turn=function(a){var b=Q(S,a,"VALUE",S.af)||"0";return I(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};S.turtle_turn_internal=function(a){var b=Number(I(a,"VALUE"));return I(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};S.turtle_width=function(a){return"penWidth("+(Q(S,a,"WIDTH",S.af)||"1")+", 'block_id_"+a.id+"');\n"};S.turtle_pen=function(a){return I(a,"PEN")+"('block_id_"+a.id+"');\n"};S.turtle_colour=function(a){return"penColour("+(Q(S,a,"COLOUR",S.af)||"'#FFFFFF'")+", 'block_id_"+a.id+"');\n"};
S.turtle_colour_internal=function(a){return"penColour("+S.Lc(I(a,"COLOUR"))+", 'block_id_"+a.id+"');\n"};S.turtle_visibility=function(a){return I(a,"VISIBILITY")+"('block_id_"+a.id+"');\n"};S.turtle_print=function(a){return"print("+String(Q(S,a,"TEXT",S.af)||"''")+", 'block_id_"+a.id+"');\n"};S.turtle_font=function(a){var b=S.Lc(I(a,"FONT")),c=Number(I(a,"FONTSIZE")),d=S.Lc(I(a,"FONTSTYLE"));return"font("+b+", "+c+", "+d+", 'block_id_"+a.id+"');\n"};S.turtle_repeat_internal=S.controls_repeat;
var no={moveForward:"turtle.forward",moveBackward:"turtle.backward"},oo={turnLeft:"turtle.left",turnRight:"turtle.right"},po={penUp:"turtle.up",penDown:"turtle.down"},qo={hideTurtle:"hideturtle",showTurtle:"showturtle"};T.get_turtle_x=function(){return["turtle.xcor()",T.s]};T.get_turtle_y=function(){return["turtle.ycor()",T.s]};T.get_turtle_direction=function(){return["turtle.heading()",T.s]};T.turtle_move=function(a){var b=Q(T,a,"VALUE",T.s)||"0";return no[I(a,"DIR")]+"("+b+")\n"};
T.turtle_goto=function(a){var b=Q(T,a,"VALUE_X",T.s)||"0",c=Q(T,a,"VALUE_Y",T.s)||"0";return"turtle.goto("+b+", "+c+",  'block_id_"+a.id+"');\n"};T.turtle_move_internal=function(a){var b=Number(I(a,"VALUE"));a=I(a,"DIR");return no[a]+"("+b+")\n"};T.turtle_direction=function(a){return"turtle.setheading("+(Q(T,a,"VALUE",T.s)||"0")+")\n"};T.turtle_turn=function(a){var b=Q(T,a,"VALUE",T.s)||"0";return oo[I(a,"DIR")]+"("+b+")\n"};
T.turtle_turn_internal=function(a){var b=Number(I(a,"VALUE"));return oo[I(a,"DIR")]+"("+b+")\n"};T.turtle_width=function(a){return"turtle.width("+(Q(T,a,"WIDTH",T.s)||"1")+")\n"};T.turtle_pen=function(a){return po[I(a,"PEN")]+"()\n"};T.turtle_colour=function(a){return"turtle.color("+(Q(T,a,"COLOUR",T.s)||"'#FFFFFF'")+")\n"};T.turtle_colour_internal=function(a){return"turtle.color("+T.Lc(I(a,"COLOUR"))+")\n"};T.turtle_visibility=function(a){return qo[I(a,"VISIBILITY")]+"()\n"};
T.turtle_print=function(a){return"print("+String(Q(T,a,"TEXT",T.s)||"''")+")\n"};T.turtle_font=function(){return""};T.turtle_repeat_internal=T.controls_repeat;function ro(){return'\n<div class="farSide" style="padding: 1ex 3ex 0">\n  <button class="secondary addHideHandler">'+Ll(h.DIALOG_OK)+"</button>\n</div>\n"};function so(){W("Games.turtle",!0);var a="";W("Games.linkTooltip",!0);var b='\n&nbsp;\n<button id="helpButton">'+W("Games.help",!0)+"</button>\n";a&&(a=" &nbsp; "+a);a='\n\n<table width="100%">\n  <tr>\n    <td id="header_cta" class="farSide">\n      \n    &nbsp;\n    <input type="text" id="projectName" placeholder="Digite o nome do projeto"/>\n  \n      \n  &nbsp;\n  <button id="saveButton" title="Baixar (salvar) projeto.">\n    <img src="common/save.svg">\n  </button>\n  \n      \n    &nbsp;\n    <input type="file" id="loadButton" title="Carregar projeto de arquivo." hidden/>\n    <label style="padding: 0.5rem;border-radius: 0.3rem;cursor: pointer;" for="loadButton"><img src="common/load.svg"></label>  \n    \n  \n      <select id="languageMenu"></select>\n      '+
(b+"\n      "+a+'\n    </td>\n  </tr>\n</table>\n\n\n<div id="visualization">\n  <canvas id="scratch" width=400 height=400 style="display: none"></canvas>\n  <canvas id="answer" width=400 height=400 style="display: none"></canvas>\n  <canvas id="display" width=400 height=400></canvas>\n</div>\n<table style="padding-top: 1em;">\n  <tr>\n    <td style="width: 190px; text-align: center; vertical-align: top;">\n      <svg\n          id="slider"\n          xmlns="http://www.w3.org/2000/svg"\n          xmlns:svg="http://www.w3.org/2000/svg"\n          xmlns:xlink="http://www.w3.org/1999/xlink"\n          version="1.1"\n          width=150\n          height=50>\n        \x3c!-- Slow icon. --\x3e\n        <clipPath id="slowClipPath">\n          <rect width=26 height=12 x=5 y=14 />\n        </clipPath>\n        <image xlink:href="common/icons.png" height=63 width=84 x=-21 y=-10\n            clip-path="url(#slowClipPath)" />\n        \x3c!-- Fast icon. --\x3e\n        <clipPath id="fastClipPath">\n          <rect width=26 height=16 x=120 y=10 />\n        </clipPath>\n        <image xlink:href="common/icons.png" height=63 width=84 x=120 y=-11\n            clip-path="url(#fastClipPath)" />\n      </svg>\n    </td>\n    <td style="width: 15px;">\n      <img id="spinner" style="visibility: hidden;" src="common/loading.gif" loading="lazy" height=15 width=15>\n    </td>\n    <td style="width: 190px; text-align: center">\n      <button id="runButton" class="primary" title="')+
W("Games.runTooltip",!0)+'">\n        <img src="common/1x1.gif" class="run icon21"> '+W("Games.runProgram",!0)+'\n      </button>\n      <button id="resetButton" class="primary" style="display: none" title="'+W("Games.resetTooltip",!0)+'">\n        <img src="common/1x1.gif" class="stop icon21"> '+W("Games.resetProgram",!0)+'\n      </button>\n    </td>\n  </tr>\n\n  <tr style="align: center;">\n    <td style="width: 100px; text-align: center">\n      <button id="codeJsButton" title="Mostra c\u00f3digo em Javascript gerado.">\n        <img src="common/js.png" width="20%"> Gerar c\u00f3digo JS\n      </button>\n    </td>\n    <td></td>\n    <td style="width: 100px; text-align: center">\n      <button id="codePyButton" title="Mostra c\u00f3digo em Python gerado.">\n        <img src="common/python.png" width="20%"> Gerar c\u00f3digo Python\n      </button>\n    </td>\n  </tr>\n</table>\n\n<div id="dialogCode" class="dialogHiddenContent">\n  <pre id="containerCodeGenerated"></pre>\n  \n\n  <table>\n  <tr>\n  <td> \n    <div class="farLeft" style="padding: 1ex 3ex 0"> \n    <button id="copyCodeButton"><img src="common/copy.png" width="50%"> Copiar</button>\n    </div>\n    </td>\n  <td style="width:90%"> '+
ro()+" </td>\n    \n  </tr>\n  </table>\n    \n  </div>\n</div>\n\n"+(10!==yl||wl?"":'\n<table style="padding-top: 1em; width: 400px;">\n  <tr>\n    <td style="text-align: center;">\n      <form action="/gallery" target="turtle-gallery">\n        <input type="hidden" name="app" value="turtle">\n        <input type="hidden" name="lang" value="'+tl+'">\n        <button type="submit" title="'+W("Turtle.galleryTooltip",!0)+'">\n          <img src="common/1x1.gif" class="gallery icon21"> '+W("Turtle.galleryMsg",
!0)+'\n        </button>\n      </form>\n    </td>\n    <td style="text-align: center;">\n      <button id="submitButton" title="'+W("Turtle.submitTooltip",!0)+'">\n        <img src="common/1x1.gif" class="camera icon21"> '+W("Turtle.submitMsg",!0)+'\n      </button>\n    </td>\n  </tr>\n</table>\n<div id="galleryDialog" class="dialogHiddenContent">\n    <form id="galleryForm" action="/gallery-api/submit" method="post" onsubmit="return false">\n    <header>'+W("Turtle.submitTooltip",!0)+'</header>\n    <canvas id="thumbnail" width=200 height=200></canvas>\n    <input type="hidden" name="app" value="turtle">\n    <input id="galleryThumb" type="hidden" name="thumb">\n    <input id="galleryXml" type="hidden" name="xml">\n    <div>\n      '+
W("Games.submitTitle",!0)+'\n      <input id="galleryTitle" type="text" name="title" required>\n    </div>\n\n    <div class="farSide">\n      <button class="addHideHandler" type="button">'+Ll(h.DIALOG_CANCEL)+'</button>\n      <button id="galleryOk" class="secondary" type="submit">'+Ll(h.DIALOG_OK)+"</button>\n    </div>\n  </form>\n</div>\n")+'\n\n<xml id="toolbox" xmlns="https://developers.google.com/blockly/xml">\n<category name="'+(W("Games.turtle",!0)+'">\n  <block type="get_turtle_x"></block>\n  <block type="get_turtle_y"></block>\n  <block type="get_turtle_direction"></block>\n  <block type="turtle_move">\n    <value name="VALUE">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n  </block>\n  <block type="turtle_goto">\n    <value name="VALUE_X">\n      <block type="math_number">\n        <field name="NUM">0</field>\n      </block>\n    </value>\n    <value name="VALUE_Y">\n      <block type="math_number">\n        <field name="NUM">0</field>\n      </block>\n    </value>\n  </block>\n  <block type="turtle_turn">\n    <value name="VALUE">\n      <block type="math_number">\n        <field name="NUM">90</field>\n      </block>\n    </value>\n  </block>\n  <block type="turtle_direction">\n    <value name="VALUE">\n      <block type="math_number">\n        <field name="NUM">90</field>\n      </block>\n    </value>\n  </block>\n  <block type="turtle_width">\n    <value name="WIDTH">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n  </block>\n  <block type="turtle_pen"></block>\n  <block type="turtle_visibility"></block>\n  <block type="turtle_print">\n    <value name="TEXT">\n      <block type="text"></block>\n    </value>\n  </block>\n  <block type="turtle_font"></block>\n</category>\n<category name="'+
W("Games.catColour",!0)+'">\n  <block type="turtle_colour">\n    <value name="COLOUR">\n      <block type="colour_picker"></block>\n    </value>\n  </block>\n  <block type="colour_picker"></block>\n  <block type="colour_random"></block>\n  <block type="colour_rgb">\n    <value name="RED">\n      <block type="math_number">\n        <field name="NUM">100</field>\n      </block>\n    </value>\n    <value name="GREEN">\n      <block type="math_number">\n        <field name="NUM">50</field>\n      </block>\n    </value>\n    <value name="BLUE">\n      <block type="math_number">\n        <field name="NUM">0</field>\n      </block>\n    </value>\n  </block>\n  <block type="colour_blend">\n    <value name="COLOUR1">\n      <block type="colour_picker">\n        <field name="COLOUR">#ff0000</field>\n      </block>\n    </value>\n    <value name="COLOUR2">\n      <block type="colour_picker">\n        <field name="COLOUR">#3333ff</field>\n      </block>\n    </value>\n    <value name="RATIO">\n      <block type="math_number">\n        <field name="NUM">0.5</field>\n      </block>\n    </value>\n  </block>\n</category>\n<category name="'+
W("Games.catLogic",!0)+'">\n  <block type="controls_if"></block>\n  <block type="logic_compare"></block>\n  <block type="logic_operation"></block>\n  <block type="logic_negate"></block>\n  <block type="logic_boolean"></block>\n  <block type="logic_ternary"></block>\n</category>\n<category name="'+W("Games.catLoops",!0)+'">\n  <block type="controls_repeat_ext">\n    <value name="TIMES">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n  </block>\n  <block type="controls_whileUntil"></block>\n  <block type="controls_for">\n    <value name="FROM">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n    <value name="TO">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n    <value name="BY">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n  </block>\n  <block type="controls_flow_statements"></block>\n</category>\n<category name="'+
W("Games.catMath",!0)+'">\n  <block type="math_number"></block>\n  <block type="math_arithmetic">\n    <value name="A">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n    <value name="B">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_single">\n    <value name="NUM">\n      <block type="math_number">\n        <field name="NUM">9</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_trig">\n    <value name="NUM">\n      <block type="math_number">\n        <field name="NUM">45</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_constant"></block>\n  <block type="math_number_property">\n    <value name="NUMBER_TO_CHECK">\n      <block type="math_number">\n        <field name="NUM">0</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_round">\n    <value name="NUM">\n      <block type="math_number">\n        <field name="NUM">3.1</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_modulo">\n    <value name="DIVIDEND">\n      <block type="math_number">\n        <field name="NUM">64</field>\n      </block>\n    </value>\n    <value name="DIVISOR">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_constrain">\n    <value name="VALUE">\n      <block type="math_number">\n        <field name="NUM">50</field>\n      </block>\n    </value>\n    <value name="LOW">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n    <value name="HIGH">\n      <block type="math_number">\n        <field name="NUM">100</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_random_int">\n    <value name="FROM">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n    <value name="TO">\n      <block type="math_number">\n        <field name="NUM">100</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_random_float"></block>\n</category>\n<category name="'+
W("Games.catLists",!0)+'">\n  <block type="lists_create_with">\n    <mutation items="0"></mutation>\n  </block>\n  <block type="lists_create_with"></block>\n  <block type="lists_repeat">\n    <value name="NUM">\n      <block type="math_number">\n        <field name="NUM">5</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_length"></block>\n  <block type="lists_isEmpty"></block>\n  <block type="lists_indexOf">\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_getIndex">\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_setIndex">\n    <value name="LIST">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_getSublist">\n    <value name="LIST">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_sort"></block>\n  <block type="lists_reverse"></block>\n</category>\n<category name="'+
W("Games.catText",!0)+'">\n  <block type="text"></block>\n  <block type="text_join"></block>\n  <block type="text_append">\n    <value name="TEXT">\n      <block type="text"></block>\n    </value>\n  </block>\n  <block type="text_length">\n    <value name="VALUE">\n      <block type="text">\n        <field name="TEXT">abc</field>\n      </block>\n    </value>\n  </block>\n  <block type="text_isEmpty">\n    <value name="VALUE">\n      <block type="text">\n        <field name="TEXT"></field>\n      </block>\n    </value>\n  </block>\n  <block type="text_indexOf">\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR">text</field>\n      </block>\n    </value>\n    <value name="FIND">\n      <block type="text">\n        <field name="TEXT">abc</field>\n      </block>\n    </value>\n  </block>\n  <block type="text_charAt">\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR">text</field>\n      </block>\n    </value>\n  </block>\n  <block type="text_getSubstring">\n    <value name="STRING">\n      <block type="variables_get">\n        <field name="VAR">text</field>\n      </block>\n    </value>\n  </block>\n  <block type="text_changeCase">\n    <value name="TEXT">\n      <block type="text">\n        <field name="TEXT">abc</field>\n      </block>\n    </value>\n  </block>\n  <block type="text_trim">\n    <value name="TEXT">\n      <block type="text">\n        <field name="TEXT">abc</field>\n      </block>\n    </value>\n  </block>\n  <block type="text_print">\n    <value name="TEXT">\n      <block type="text">\n        <field name="TEXT">abc</field>\n      </block>\n    </value>\n  </block>\n  <block type="text_prompt_ext">\n    <value name="TEXT">\n      <block type="text">\n        <field name="TEXT">abc</field>\n      </block>\n    </value>\n  </block>\n</category>\n<sep></sep>\n<category name="'+
W("Games.catVariables",!0)+'" custom="VARIABLE"></category>\n<category name="'+W("Games.catProcedures",!0)+'" custom="PROCEDURE"></category>\n</xml>\n<div id="blockly"></div>\n\n\n<div id="dialogShadow" class="dialogAnimate"></div>\n<div id="dialogBorder"></div>\n<div id="dialog"></div>\n\n\n<div id="dialogDone" class="dialogHiddenContent">\n  <div style="font-size: large; margin: 1em;">')+(W("Games.congratulations",!0)+'</div>\n  <div id="dialogLinesText" style="font-size: large; margin: 1em;"></div>\n  <pre id="containerCode"></pre>\n  <div id="dialogDoneText" style="font-size: large; margin: 1em;"></div>\n  <div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0">\n    <button class="addHideHandler">'+
Ll(h.DIALOG_CANCEL)+'</button>\n    <button id="doneOk" class="secondary">'+Ll(h.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogAbort" class="dialogHiddenContent">\n  ')+(W("Games.helpAbort",!0)+'\n  <div class="farSide" style="padding: 1ex 3ex 0">\n    <button class="addHideHandler">'+Ll(h.DIALOG_CANCEL)+'</button>\n    <button id="abortOk" class="secondary">'+Ll(h.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogStorage" class="dialogHiddenContent">\n  <div id="containerStorage"></div>\n  ')+
(ro()+"\n</div>\n\n\n");b="";switch(yl){case 1:b=W("Turtle.helpText1",!0)+'<br><img src="index/square.gif" height=146 width=146 style="margin-bottom: -50px">';break;case 2:b=W("Turtle.helpText2",!0);break;case 3:b=W("Turtle.helpText3a",!0)+'<div id="sampleHelp3" class="readonly"></div>'+W("Turtle.helpText3b",!0);break;case 4:b=W("Turtle.helpText4a",!0)+'<div id="sampleHelp4" class="readonly"></div>'+W("Turtle.helpText4a",!0);break;case 5:b=W("Turtle.helpText5",!0);break;case 6:b=W("Turtle.helpText6",
!0);break;case 7:b=W("Turtle.helpText7",!0);break;case 8:b=W("Turtle.helpText8",!0);break;case 9:b=W("Turtle.helpText9",!0);break;case 10:b=W("Turtle.helpText10",!0),wl||(b+="<br><br>"+W("Turtle.helpText10Reddit",!0))}var c="";3>yl?c=W("Turtle.helpUseLoop3",!0):4>yl&&(c=W("Turtle.helpUseLoop4",!0));b='\n<div id="help" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n    '+b+"\n  </div>\n  "+ro()+'\n</div>\n\n<div id="helpToolbox" class="dialogHiddenContent">\n  <div><img src="index/help_left.png" class="mirrorImg" height=23 width=64></div>\n  '+
W("Turtle.helpToolbox",!0)+'\n</div>\n\n<div id="helpUseLoop" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n    '+W("Turtle.helpUseLoop",!0)+"\n    "+c+"\n  </div>\n  "+ro()+"\n</div>\n";return a+b+"\n\n"};var Il="turtle",to=[],uo=0,vo=null,wo=!0,xo=!1,yo,zo,Z,Ao,Bo,Co,Do;function Eo(){Bo=Ao=200;Co=0;wo=Do=!0;Z.canvas.width=Z.canvas.width;Z.strokeStyle="#000";Z.fillStyle="#000";Z.lineWidth=5;Z.lineCap="round";Z.font="normal 18pt Arial";Fo();to.forEach(clearTimeout);to.length=0;vo=null}
function Fo(){zo.beginPath();zo.rect(0,0,zo.canvas.width,zo.canvas.height);zo.fillStyle="#FFF";zo.fill();zo.globalCompositeOperation="source-over";zo.drawImage(Z.canvas,0,0);if(wo){zo.strokeStyle=Z.strokeStyle;zo.fillStyle=Z.fillStyle;var a=Z.lineWidth/2+10;zo.beginPath();zo.arc(Ao,Bo,a,0,2*Math.PI,!1);zo.lineWidth=3;zo.stroke();var b=Co*Math.PI/180,c=Ao+(a+10)*Math.sin(b),d=Bo-(a+10)*Math.cos(b);b-=.3;var e=Ao+(a+4)*Math.sin(b),f=Bo-(a+4)*Math.cos(b);b+=.15;var l=Ao+(a+6)*Math.sin(b),m=Bo-(a+6)*
Math.cos(b);b+=.3;var n=Ao+(a+6)*Math.sin(b),q=Bo-(a+6)*Math.cos(b);b+=.15;var t=Ao+(a+4)*Math.sin(b);a=Bo-(a+4)*Math.cos(b);zo.beginPath();zo.moveTo(c,d);zo.lineTo(e,f);zo.bezierCurveTo(l,m,n,q,t,a);zo.closePath();zo.fill()}}function Go(a){if(!ln(a)){a=V("runButton");var b=V("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";V("spinner").style.visibility="visible";Ho()}}
function Io(a){ln(a)||(V("runButton").style.display="inline",V("resetButton").style.display="none",V("spinner").style.visibility="hidden",kk(null),Eo(),xo=!1)}function Jo(a){if(!ln(a)){(a=V("projectName").value)||(a="turtle-project");a+=".xml";var b=od();b=vd(b);var c=document.createElement("a");c.style.display="none";c.href="data:text/plain;charset=utf-8,"+encodeURIComponent(b);c.download=a;document.body.appendChild(c);c.click()}}
function Ko(a){if(a=a.target.files[0]){var b=new FileReader;b.onload=function(c){c=wd(c.target.result);pd.clear();xd(c,pd)};b.readAsText(a)}}
function Lo(a,b){function c(e){a.setProperty(b,e,a.createNativeFunction(d,!1))}var d=function(){return Ao-200};c("getX");d=function(){return-(Bo-200)};c("getY");d=function(){return-Co+90};c("getDirection");d=function(e,f){Mo(e,f)};c("moveForward");d=function(e,f){Mo(-e,f)};c("moveBackward");d=function(e,f,l){Do&&(Z.beginPath(),Z.moveTo(Ao,Bo));Ao=e+V("display").width/2;Bo=V("display").height/2-f;Do&&(Z.lineTo(Ao,Bo+0),Z.stroke());No(l)};c("goto");d=function(e,f){Co=Kl(-e+90);No(f)};c("setDirection");
d=function(e,f){Co=Kl(Co+e);No(f)};c("turnRight");d=function(e,f){Co=Kl(Co+-e);No(f)};c("turnLeft");d=function(e){Do=!1;No(e)};c("penUp");d=function(e){Do=!0;No(e)};c("penDown");d=function(e,f){Z.lineWidth=e;No(f)};c("penWidth");d=function(e,f){Z.strokeStyle=e;Z.fillStyle=e;No(f)};c("penColour");d=function(e){No(e)};c("hideTurtle");d=function(e){No(e)};c("showTurtle");d=function(e,f){Z.save();Z.translate(Ao,Bo);Z.rotate((Co-90)*Math.PI/180);Z.fillText(e,0,0);Z.restore();No(f)};c("print");d=function(e,
f,l,m){Z.font=l+" "+f+"pt "+e;No(m)};c("font");d=function(e){return window.alert(arguments.length?e:"")};c("alert");d=function(e){return window.prompt(arguments.length?e:"What's up?")};c("prompt")}function Ho(){if("Interpreter"in window){Eo();J&&Fg(J);var a=qi(S,pd);dn();vo=new Interpreter(a,Lo);to.push(setTimeout(Oo,100))}else setTimeout(Ho,99)}
function Oo(){uo=to.length=0;var a=1E3;do{try{var b=vo.step()}catch(c){alert(c),b=!1}a--||(uo=1);b&&uo&&(b=!1,to.push(setTimeout(Oo,uo)))}while(b);uo||(V("spinner").style.visibility="hidden",kk(null),xo=!0)}function No(a){a&&(Fo(),on(a),uo=Math.max(1,1E3*Math.pow(1-yo.Za(),2)))}
function Mo(a,b){function c(){Z.moveTo(Ao,Bo);Ao+=(l-d)/n;Bo+=(m-e)/n;Do&&(Z.lineTo(Ao,Bo+0),Z.stroke());Fo();on(b);++t<n&&setTimeout(c,q)}var d=Ao,e=Bo,f=Co*Math.PI/180,l=Ao+a*Math.sin(f),m=Bo-a*Math.cos(f);a=1E3*Math.pow(1-yo.Za()+.1,2);var n=Math.log(a),q=a/n;uo=a+q;Do&&(Z.beginPath(),Z.moveTo(Ao,Bo));var t=0;setTimeout(c(),1)}
function Po(){if(xo){var a=V("thumbnail"),b=a.getContext("2d");b.globalCompositeOperation="copy";b.drawImage(zo.canvas,0,0,200,200);a=a.toDataURL("image/png");V("galleryThumb").value=a;rn()}else alert(W("Turtle.submitDisabled",!1))}
function Qo(a,b,c,d,e){d=void 0===d?"":d;e=void 0===e?"":e;a=a.target;c=qi(c);c=c.replace(/(,\s*)?'block_id_[^']+'\)/g,")");c=c.replace(/\s+$/,"");c=d+c+e;d=document.getElementById("containerCodeGenerated");d.innerHTML=c;d.textContent=c;"function"==typeof prettyPrintOne&&(c=d.innerHTML,c=prettyPrintOne(c,b),d.innerHTML=c);b=document.getElementById("dialogCode");Y.Ql(b,a,!1,!0,{width:"40%",left:"30%",top:"5em"},Y.Qr);Y.Mr()}function Ro(a){Qo(a,"js",S)}
function So(a){Qo(a,"py",T,"import turtle\n\n","\n\nturtle.exitonclick()")}function To(){var a=document.getElementById("containerCodeGenerated");navigator.clipboard.writeText(a.textContent)}
(function(a){function b(){window.BlocklyGamesMsg?(window.BlocklyMsg&&(h=window.BlocklyMsg),a()):setTimeout(b,99)}window.addEventListener("load",b)})(function(){function a(){b.style.top=Math.max(10,c.offsetTop-window.pageYOffset)+"px";b.style.left=vl?"10px":"420px";b.style.width=window.innerWidth-440+"px"}mo();document.body.innerHTML=so();cn();var b=V("blockly"),c=V("visualization");window.addEventListener("scroll",function(){a(null);tj(pd)});window.addEventListener("resize",a);a(null);10>yl&&(Eh=
3,Ch="#ff0000 #ffcc33 #ffff00 #009900 #3333ff #cc33cc #ffffff #999999 #000000".split(" "));jn();wi(S,"moveForward,moveBackward,turnRight,turnLeft,penUp,penDown,penWidth,penColour,hideTurtle,showTurtle,print,font");V("submitButton")&&Jl("submitButton",Po);var d=V("slider");yo=new wn(d);gn();zo=V("display").getContext("2d");Z=V("scratch").getContext("2d");Eo();Jl("runButton",Go);Jl("resetButton",Io);Jl("saveButton",Jo);document.getElementById("loadButton").addEventListener("change",Ko,!1);Jl("codeJsButton",
Ro);Jl("codePyButton",So);Jl("copyCodeButton",To);pd.ke.load(["index/win.mp3","index/win.ogg"],"win");pn();qn()});
