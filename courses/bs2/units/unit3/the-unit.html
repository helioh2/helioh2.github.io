<!DOCTYPE html>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>Unit 3: Structures and Worlds</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="pretty-printing.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><link rel="stylesheet" type="text/css" href="bootstrap.css" title="default"/><link rel="stylesheet" type="text/css" href="textbook.css" title="default"/><link rel="stylesheet" type="text/css" href="extra_curriculum.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="codemirror.js"></script><script type="text/javascript" src="runmode.js"></script><script type="text/javascript" src="scheme2.js"></script><script type="text/javascript" src="bootstraplesson.js"></script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2Chttp%3A%2F%2Fwww.cs.wpi.edu%2F%7Ekfisler%2Fmathjaxlocal.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Unit 3:<span class="mywbr"> &nbsp;</span> Structures and Worlds</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Unit_3__.Structures_and_.Worlds%29" class="tocsubseclink" data-pltdoc="x">Unit 3:<span class="mywbr"> &nbsp;</span> Structures and Worlds</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><a name="(part._.Unit_3__.Structures_and_.Worlds)"></a><p><script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script><noscript></noscript><script type="text/javascript" src="easyXDM.min.js"></script><noscript></noscript><script type="text/javascript" src="json2.min.js"></script><noscript></noscript><script type="text/javascript" src="bootstrap-helpers.js"></script><noscript></noscript></p><div class="headercontent"><span class="BootstrapTitle"><img src="pict.png" alt="image" width="150" height="150"/><span class="TitleUnitNum">Unit 3</span>Structures and Worlds</span></div><div class="SubFlow" id="overviewDescr"><span class="BootstrapHeader">Unit Overview</span><p>Students, having made pre-built data structures in the last lesson (autos), will generalize their understanding by defining various data structures of their own and accessing their fields. Students are introduced to Racket&rsquo;s purely-functional microworld implementation. This requires an understanding of functions, data structures, and an introduction to events-based programming. To accomplish this, students first work with a simple world (a number, representing a dog&rsquo;s x-coordinate). This world is consumed and produced by the update-world function, and drawn by draw-world. To understand events, they act out the World model, actually becoming event handlers and timers, to simulate a running program.</p></div><blockquote class="OverviewBoundary"><iframe id="forum_embed"></iframe><div class="summary"><div class="" id="BootstrapAgenda"><p>Agenda</p><ul class="BootstrapAgendaList"><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">20 min</span><a href="#lesson_Review%3A%20the%20Autobody%20Shop12612"><span class="BSLessonName">Review: the Autobody Shop</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">5 min</span><a href="#lesson_define-struct12613"><span class="BSLessonName">define-struct</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">30 min</span><a href="#lesson_The%20Party%20Struct12614"><span class="BSLessonName">The Party Struct</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">30 min</span><a href="#lesson_Acting%20Out%20Ninja%20World12615"><span class="BSLessonName">Acting Out Ninja World</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">5 min</span><a href="#lesson_Closing12616"><span class="BSLessonName">Closing</span></a></p></li></ul></div><div id="ProductOutcomes" class=" "><span class="BootstrapHeader">Product Outcomes:</span><ul><li><p>Students define two new complex data structures: party and world</p></li><li><p>Students will write functions that access fields of an auto, party, or world, and produce new autos, parties, and worlds.</p></li></ul></div><div id="LearningObjectives" class=" "><span class="BootstrapHeader">Standards and Evidence Statements:</span><p>Standards with prefix BS are specific to Bootstrap; others are from the Common Core. Mouse over each standard to see its corresponding evidence statements. Our <a href="../../../../Standards.shtml">Standards Document</a> shows which units cover each standard. </p><ul class="LearningObjectivesList"></ul></div><span class="BootstrapHeader">Length: 90 minutes</span><div id="Glossary" class=" "><span class="BootstrapHeader">Glossary:</span><ul><li><p><span class="vocab">accessor functions</span>: functions to extract values from a data structure</p></li><li><p><span class="vocab">contract</span></p></li><li><p><span class="vocab">domain</span></p></li><li><p><span class="vocab">name</span></p></li><li><p><span class="vocab">purpose statement</span></p></li><li><p><span class="vocab">range</span></p></li></ul></div><div id="Materials" class=" "><span class="BootstrapHeader">Materials:</span><ul><li><p>Pens/pencils for the students, fresh whiteboard markers for teachers</p></li><li><p>Class poster (List of rules, design recipe, course calendar)</p></li><li><p>Editing environment (WeScheme or DrRacket with the bootstrap-teachpack installed)</p></li><li><p>Language Table</p></li><li><p>The Autos file [Autos.rkt from <a href="..\..\resources\source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=P7qS37u1ZH&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines</p></li><li><p>The Party Planner file [Party.rkt from <a href="..\..\resources\source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=zLYLPQ5d6K&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines</p></li></ul></div><div id="Preparation" class=" "><span class="BootstrapHeader">Preparation:</span><ul><li><p>Seating arrangements: ideally clusters of desks/tables</p></li><li><p>The Ninja World 1 file [NW1.rkt from <a href="..\..\resources\source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=fW705a0idU&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines</p></li><li><p>update-world, big-bang, and draw-world nametags</p></li><li><p>cutout image of dog</p></li></ul></div><div id="LanguageTable" class=" "><table cellspacing="0" cellpadding="0" class="thetable"><tr><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Types</p></td><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Functions</p></td></tr><tr><td align="center" class="BootstrapTable"><p>Number</p></td><td align="center" class="BootstrapTable"><p><tt>+ - * / sq sqrt expt</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>String</p></td><td align="center" class="BootstrapTable"><p><tt>string-append string-length</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Image</p></td><td align="center" class="BootstrapTable"><p><tt>rectangle circle triangle ellipse star text scale rotate put-image</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Auto</p></td><td align="center" class="BootstrapTable"><p><tt>make-auto auto-model auto-hp auto-rims auto-color auto-value</tt></p></td></tr></table></div><p><div id="lessonToolbar" class="fixed"><input type="button" value="Show Teacher Notes" onclick="toggleTeacherNotes(this);"></input><br/><input type="button" value="Discussion Group" onclick="showGroup()"/></div></p></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Review: the Autobody Shop</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li><p>Pens/pencils for the students, fresh whiteboard markers for teachers</p></li><li><p>Class poster (List of rules, design recipe, course calendar)</p></li><li><p>Editing environment (WeScheme or DrRacket with the bootstrap-teachpack installed)</p></li><li><p>Language Table</p></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>Seating arrangements: ideally clusters of desks/tables</p></li></ul></div></div><div class="segment"><p><a name="lesson_Review%3A%20the%20Autobody%20Shop12612"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Review: the Autobody Shop



<span class="time">(Time 20 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara">In the last lesson you learned about a new kind of data struct, called an auto.
                           </div><div class="SIntrapara"><div class="activity"><ul><li><p>What is an auto? What things are described in an auto struct?</p></li><li><p>How do you make an auto?</p></li><li><p>How do you get the model out of an auto? The value? The color?</p></li></ul></div></div><div class="SIntrapara">Last time all of these were used to make an autobody shop, where you had functions that would increase the auto&rsquo;s <tt>hp</tt>, or paint it a new <tt>color</tt>. This next problem
will be even harder, so remember to refer back to the last two functions you wrote in your workbook, in case you need some hints.</div></p></div><div class="teacher"><p>Take a few minutes to review structs and autos with your students.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">You may have heard of the show "Pimp My Ride", where the hosts get an old, beat-up car and make it WAY cooler. Let&rsquo;s implement something like this in Racket...
</div><div class="SIntrapara"><div class="activity"><p>Turn to <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 12</a> in your workbooks. Write a function called <tt>pimp</tt>, which takes in an Auto and returns a new Auto which has an
        extra 100 horsepower, has 30 inch rims, is painted red, and has increased in value by $10,000.</p><ul><li><p>What is the <span class="vocab">contract</span> for this function?</p></li><li><p>For the first EXAMPLE, let&rsquo;s upgrade <tt>car3</tt>. How will you start the example?</p></li><li><p><tt>(EXAMPLE (pimp car3) ...)</tt></p></li><li><p>According to the contract, we know that the Range of the <tt>pimp</tt> function is an auto. How do you make an auto?</p></li><li><p>What&rsquo;s the first part of an auto? The <tt>model</tt>. Does the model change, according to the function&rsquo;s <span class="vocab">purpose statement</span>?
How do you get the <tt>model</tt> out of <tt>car3</tt>?</p></li><li><p>How do you get the <tt>hp</tt> out of <tt>car3</tt>?</p></li><li><p>Does the horsepower change when we "pimp" our auto? You&rsquo;ll need to get the <tt>hp</tt> out of <tt>car3</tt>, <span style="font-style: italic">and add 100 to it.</span></p></li><li><p>According to the <span class="vocab">purpose statement</span>, every auto that gets pimped will have 30 inch rims. Does it matter what the original rim size was?</p></li><li><p>Likewise, every car will be painted red. Do we need to reference the original color at all?</p></li><li><p>Finally, how do you get the <tt>value</tt> out of <tt>car3</tt>? Will the <tt>value</tt> increase or decrease after the auto is upgraded?</p></li></ul></div></div></p></div><div class="teacher"><p>This is an opportunity for students to practice nested expressions. Not only will they use accessor functions to access the fields of the original auto,
they will need to modify them according to the problem statement. If they get stuck, have them draw the circle of evaluation for adding 100 to the auto&rsquo;s
horsepower, 10,000 to the auto&rsquo;s value, etc.</p></div></li><li class="lessonItem"><div class="student"><p>Putting it all together, the first example should look like:</p><p><div class="SIntrapara">&nbsp;<textarea>
(EXAMPLE (pimp car3) (make-auto (auto-model car3)
                             (+ (auto-hp car3) 100)
                                 30
                                 red
                             (+ (auto-value car3) 10000)))
</textarea>
</div><div class="SIntrapara"><div class="activity"><p>Write one more example, circle what changes, and then define the <tt>pimp</tt> function. If you&rsquo;re stuck, look back at the contract and your first example.</p></div></div></p></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">define-struct</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students will generalize their understanding of function constructors and accessors</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li><p>The Autos file [Autos.rkt from <a href="..\..\resources\source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=P7qS37u1ZH&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines</p></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_define-struct12613"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">define-struct



<span class="time">(Time 5 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><p>Open the <a href="http://www.wescheme.org/openEditor?publicId=P7qS37u1ZH&amp;" target="embedded">Autobody Shop</a> file, and look at the first two lines at the top.
         They start with <tt>;an auto is...</tt> and <tt>define-struct</tt>.</p></div></div><div class="SIntrapara">&nbsp;<textarea>
; an auto is a (make-auto String Number Number String Number)
(define-struct auto (model hp rims color value))
</textarea>
In the last unit we skipped over the part of the code that defines the auto struct, or tells the computer what an auto is and what goes into it. Just like we would expect from having
worked with autos, the <tt>define-struct</tt> line says that an auto has five things....a model, hp, rim, color, and value. But how do we know which number is which? Remember that order
matters! Look at the order of the fields in the <tt>define-struct</tt> line. The first string is the model, the first number is the horsepower, the second number is the rim size, and so on.</div></p></div><div class="teacher"><p>You can use the given Autos file, or your students&rsquo; own files from the previous lesson. Stress the importance of being able to define your own datatypes
to students: no longer are they bound by the single values of numbers, strings, or booleans! Racket allows you to define brand new structures, containing
any combination of values. But these structures won&rsquo;t be usable without the <tt>(define-struct ...)</tt> line!</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">A struct is defined using the <tt>define-struct</tt> function, which tells the computer what things make up that struct, and what order and type each
                                              thing is. In return, we get new functions to use. Until we write this <tt>define-struct</tt> line, we don&rsquo;t have
                                              <tt>make-auto</tt> (to make an auto), <tt>auto-model</tt> (to get the model out of the auto), <tt>auto-hp</tt>, or any of
                                              the other accessor functions, because Racket doesn&rsquo;t know what an Auto is- <span style="font-style: italic">we haven&rsquo;t defined it</span>.
</div><div class="SIntrapara"><div class="activity"><p>To check this, type a semi-colon before the line which begins with <tt>define-struct</tt>. This comments it out, so that the computer ignores it. Hit run, and see what
                                                                   happens. Then turn to <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 13</a> in your workbook, and copy
                                                                   down the define-struct line.</p></div></div></p></div><div class="teacher"><p>When the <tt>define-struct</tt> line is commented out, Racket returns an error, saying you&rsquo;re trying to use an identifier before its definition. That means that
         it doesn&rsquo;t know what <tt>make-auto</tt> is or does, because we never defined an auto struct. Make sure students understand that <tt>define-struct</tt>
         is needed in order to create and work with any struct.</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">The Party Struct</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Write complex functions that consume, modify and produce structures</p></li><li><p>Deepen their understanding of structures, constructors and accessors by being introduced to two new data structures.</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Students define two new complex data structures: party and world</p></li><li><p>Students will write functions that access fields of an auto, party, or world, and produce new autos, parties, and worlds.</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li><p>The Party Planner file [Party.rkt from <a href="..\..\resources\source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=zLYLPQ5d6K&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines</p></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_The%20Party%20Struct12614"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">The Party Struct



<span class="time">(Time 30 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Now that you know how to define your own structs, let&rsquo;s define another one. Instead of working in an autobody shop, this time you&rsquo;ll be a
                                party planner. Data structures will be a useful way to represent each party that you&rsquo;re planning, keeping track of its location, theme,
                                and number of guests.
                                </div><div class="SIntrapara"><div class="activity"><ul><li><p>What datatype could be used to represent the location of the party?</p></li><li><p>What about the party&rsquo;s theme? (This could be something like <tt>"50s"</tt>, or <tt>"laser tag"</tt>)</p></li><li><p>How about the number of guests?</p></li></ul><p>Fill out the second struct definition on <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 13</a> in your workbook.</p></div></div><div class="SIntrapara">&nbsp;<textarea>
; a party is a (make-party String String Number)
(define-struct party (location theme guests))
</textarea></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><p>Open the <a href="http://www.wescheme.org/openEditor?publicId=zLYLPQ5d6K&amp;" target="embedded">Party Planner</a> file. Take a look at the first two
         lines in the definitions window. Do they match what you have written?</p></div></div><div class="SIntrapara">Now that the party struct is defined, you have access to four new functions: One to make a new party, and three <span class="vocab">accessor functions</span>
                                 to get the location, theme, and number of guests out of the party.
</div><div class="SIntrapara"><div class="activity"><p>Turn to your contracts sheet. </p><ul><li><p>What is the <span class="vocab">Name</span> of the function that <span style="font-style: italic">makes a party?</span></p></li><li><p>What is the function&rsquo;s <span class="vocab">Domain</span>? (What kinds of things are part of a party?)</p></li><li><p>What is the <span class="vocab">Range</span> of this function?</p></li><li><p>How would you get the location out of a party? (Think about how you got the model or color out of an auto.)</p></li><li><p>Write the contracts for <tt>party-location</tt>, <tt>party-theme</tt>, and <tt>party-guests</tt>.</p></li></ul></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>Now define two new party structures of your own. No matter what party you&rsquo;re planning, make sure that it has the right
types of things in the right order.</p></div></div><div class="teacher"><p>As with the autos struct, repetition is key: have students identify the fields of each of their parties, and ask them lots of
questions: How would you get the <tt>theme</tt> out of <tt>Halloween</tt>? How would you get the number of guests out of <tt>JulyFourth</tt>?</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Now it&rsquo;s time to write some functions using the party struct. Remember, as a party planner you&rsquo;ll need to be able to change
                                 information for each party.
      </div><div class="SIntrapara"><div class="activity"><p>Turn to <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 14</a>. Write a function called <tt>RSVP</tt>, which takes in a party and adds one to its number of
        guests.</p><ul><li><p>What&rsquo;s the name of the function? Domain? Range?</p></li><li><p>Write the <span class="vocab">contract</span> and <span class="vocab">purpose statement</span> on your page.</p></li><li><p>Write your first EXAMPLE for the party <tt>Halloween</tt>. How do you start?</p></li><li><p>&nbsp;<textarea>
(EXAMPLE (RSVP Halloween)....)
</textarea></p></li><li><p>What does this function produce? (If you&rsquo;re stuck, look back at your contract.)</p></li><li><p>Which function do we use to make a party?</p></li><li><p>According to the <tt>RSVP</tt> function, will the location of this party change? Of course not. So how do you get the <tt>location</tt>
out of a party?</p></li><li><p>&nbsp;<textarea>
(EXAMPLE (RSVP Halloween) (make-party (party-location Halloween)
.....))
</textarea></p></li><li><p>What about the theme? If someone new RSVPs, do we suddenly have to make this a Christmas party? What function gets the <tt>theme</tt>
out of a party?</p></li><li><p>&nbsp;<textarea>
(EXAMPLE (RSVP Halloween (make-party (party-location Halloween)
(party-theme Halloween)
        .....))
</textarea></p></li><li><p>Lastly, what happens to the number of guests, when someone new RSVPs to the party?</p></li></ul></div></div><div class="SIntrapara">The first <tt>RSVP</tt> example should be written as:
&nbsp;<textarea>
(EXAMPLE (RSVP Halloween) (make-party (party-location Halloween)
                                      (party-theme Halloween)
                                   (+ (party-guests Halloween) 1)))
</textarea></div></p></div><div class="teacher"><p>Every structure will have its own unique accessor functions for each field. Have students practice accessing each part of the Party Struct and altering them (or not!) based on the word problem.</p></div></li><li class="lessonItem"><div class="student"><div class="activity"><p>On <a href="..\..\resources\workbook\StudentWorkbook.pdf">Page 15</a>, write a function called <tt>relocate</tt>, which takes in a party AND the location that
   it&rsquo;s moving to, and makes a new party at that location. Go through each part of the design recipe: contract, examples, and definition.</p></div></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Acting Out Ninja World</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Discover the event-based microworld implementation of Racket, which uses events to modify the world.</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>The Ninja World 1 file [NW1.rkt from <a href="..\..\resources\source-files.zip">source-files.zip</a> | <a href="http://www.wescheme.org/openEditor?publicId=fW705a0idU&amp;" target="embedded">WeScheme</a> preloaded on students&rsquo; machines</p></li><li><p>update-world, big-bang, and draw-world nametags</p></li><li><p>cutout image of dog</p></li></ul></div></div><div class="segment"><p><a name="lesson_Acting%20Out%20Ninja%20World12615"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Acting Out Ninja World



<span class="time">(Time 30 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Do you remember the Ninja Cat game from Bootstrap 1? In this course, you&rsquo;re going to completely deconstruct the game, and recreate it using
a world structure to make it more complex. This version of Ninja Cat might look a bit different than you remember:
</div><div class="SIntrapara"><div class="activity"><p>Open the <a href="http://www.wescheme.org/openEditor?publicId=fW705a0idU&amp;" target="embedded">Ninja World 1</a> file and press "Run".</p><ul><li><p>What do you see in this game?</p></li><li><p>Go back to the code and look at the line where the <tt>world</tt> structure is defined.</p></li><li><p>What function defines a struct?</p></li><li><p>What is the name of the structure defined in this file?</p></li><li><p>The <tt>world</tt> is made up of just one thing: <tt>dogX</tt>. What does <tt>dogX</tt> represent in the game?
What kind of thing is that?</p></li><li><p>Take a look at the section labelled <tt>;; STARTING WORLD</tt>. There is a variable defined here, called
<tt>START</tt>. What kind of a thing is <tt>START</tt>? A number? String? Image? Boolean?</p></li><li><p>what function makes a <tt>world</tt>?</p></li><li><p>Skip a bit farther down to where it says <tt>;; UPDATING FUNCTIONS</tt>. What is the name of the function
defined here? What&rsquo;s its domain and range?</p></li><li><p>Think about what the <tt>update-world</tt> function is doing. How does it get the <tt>dogX</tt> out of the
world? What is it doing to the dog&rsquo;s x-coordinate?</p></li></ul></div></div><div class="SIntrapara">Every time <tt>update-world</tt> runs, it makes a new world, adding 10 to the <tt>dogX</tt> of the original world.</div></p></div><div class="teacher"><p><div class="SIntrapara">These activities encourage students to read others&rsquo; code and think about how it works, looking at the contracts and definitions and
piecing together what they already know. Ask a LOT of questions when going through the file: How do we know we need to make a new
world in <tt>update-world</tt>? (Because the range is a world). Why is <tt>dogX</tt> a good variable name for our world? Ask them to
guess what they think expressions like </div><div class="SIntrapara"><div class="activity"><p>(on-tick update-world)</p></div></div><div class="SIntrapara"> will do in the game.</div></p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><p>Now skip down to the last function defined in our code: <tt>big-bang</tt>. This is a special function that will begin an animation,
but it needs help from other functions to update and draw the world.</p><ul><li><p>Which world is <tt>big-bang</tt> taking in?</p></li><li><p>In the code, <tt>big-bang</tt> is calling on a few different functions. What new functions can you see used in
             <tt>big-bang</tt>?</p></li></ul></div></div><div class="SIntrapara">The function <tt>on-tick</tt> acts kind of like a timer, and on each "tick", it updates the world. Right now the world struct is
 just one number, representing the x-coordinate of the dog. <tt>(on-tick update-world)</tt> tells the computer to update
 the world on every tick.
</div><div class="SIntrapara"><div class="activity"><ul><li><p>How does it do that? think back to what <tt>update-world</tt> does to the <tt>dogX</tt> of the world.</p></li><li><p>Try evaluating <tt>(big-bang START (on-tick update-world))</tt> in to the interactions window and see what happens.</p></li></ul></div></div><div class="SIntrapara">The world structure is updating, but this isn&rsquo;t much of a game without images! We need to know how to <span style="font-style: italic">draw</span> the world.</div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><p>Scroll up to where you see <tt>;; GRAPHICS FUNCTIONS</tt>.</p><ul><li><p>What is the name of the function defined here?</p></li><li><p>What is the Domain of this function? The Range?</p></li><li><p>According to the purpose statement, what does this function do?</p></li></ul></div></div><div class="SIntrapara">Now look at the body of <tt>draw-world</tt>. It&rsquo;s using a function you might remember from Bootstrap 1, called <tt>put-image</tt>, which takes
in an image, and then places it on top of another image, using the x- and y-coordinates to determine where to put it. In this example, it
is placing the <tt>DOG</tt> onto the <tt>BACKGROUND</tt>. </div><div class="SIntrapara"><div class="activity"><p>What is it using for the dog&rsquo;s x-coordinate? The dog&rsquo;s y-coordinate?</p></div></div></p></div><div class="teacher"><p>Once students understand the purpose of these three functions, they need to understand how they work together. Have volunteers act out
<tt>update-world</tt> and <tt>big-bang</tt>, giving them nametags with the function names on them and having them come to the board.
Have them explain to the class what their contracts are and what they do. Write: "World" on the board, with the number <tt>0</tt> beneath it.
When you yell "<tt>(big bang 0)</tt>", have the class start counting time, yelling "tick!" ever five seconds. On every tick, <tt>big-bang</tt>
must call on <tt>update-world</tt> to update the world written on the board. This results in the number changing over time, starting with 0.</p><p>Then have another volunteer be <tt>draw-world</tt>, giving them the "draw-world" nametag and the dog cutout. Draw a large
rectangle on the board, representing the screen. Now have big-bang call both <tt>update-world</tt> and <tt>draw-world</tt> on each "tick",
causing the number on the board to increase and the dog to move across the screen a little each time. Have the class go through a few
iterations of this. By acting out these steps, students are demonstrating exactly how the three functions work together in the code to
complete the computer animation.</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Closing</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo" width="150" height="150"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_Closing12616"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Closing



<span class="time">(Time 5 minutes)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p>If you were to act out these functions, relying on <tt>big-bang</tt> to update the world, then using the result of <tt>update-world</tt> to
draw the world, and putting them all together to create an animation, it could get tricky, and the animation wouldn&rsquo;t be as fast as
what you see on the computer. Fortunately, Racket has the capability to run all these functions and more in a fraction of the time,
to create and draw a smooth, complete game. In the next few lessons, you&rsquo;ll be using structs to extend this world into an actual,
complex game, and writing functions for Ninja World AND your own games to make them playable and unique.</p></div><div class="teacher"></div></li></ul></div></div></blockquote><p></p><div id="copyright"><a href="http://creativecommons.org/licenses/by-nc-nd/3.0/"><img src="pict_2.png" alt="image" width="88" height="31"/></a>Bootstrap by <a href="http://www.bootstrapworld.org/">Emmanuel Schanzer</a> is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons 3.0 Unported License</a>. Based on a work at <a href="http://www.bootstrapworld.org/">www.BootstrapWorld.org</a>. Permissions beyond the scope of this license may be available at <a href="mailto:schanzer@BootstrapWorld.org">schanzer@BootstrapWorld.org</a>.</div></div></div><div id="contextindicator">&nbsp;</div></body></html>